(this.webpackJsonpclaymemory=this.webpackJsonpclaymemory||[]).push([[0],{170:function(e,t,n){e.exports=n(242)},179:function(e,t,n){},202:function(e,t){},203:function(e,t){},204:function(e,t){},205:function(e,t){},206:function(e,t){},242:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"NAME",(function(){return W}));var a={};n.r(a),n.d(a,"PDF_UPLOADED",(function(){return G})),n.d(a,"MATERIAL_LOADED",(function(){return z})),n.d(a,"DISPLAY_STATUS",(function(){return J})),n.d(a,"PAGE_UPDATE",(function(){return Y})),n.d(a,"SPAN_ORIGIN",(function(){return K})),n.d(a,"WINDOW_LAYOUT",(function(){return X}));var c={};n.r(c),n.d(c,"getAll",(function(){return te})),n.d(c,"getPDF",(function(){return ne})),n.d(c,"getWindowMeasurements",(function(){return re})),n.d(c,"getPDFName",(function(){return ae})),n.d(c,"getTotalPages",(function(){return ce})),n.d(c,"getCurrentPage",(function(){return oe})),n.d(c,"getScrollToPage",(function(){return ie})),n.d(c,"getPageControlData",(function(){return ue})),n.d(c,"getDisplayStatus",(function(){return le})),n.d(c,"displayStatusIsShow",(function(){return de})),n.d(c,"getSpanOrigin",(function(){return se}));var o={};n.r(o),n.d(o,"widthPixels",(function(){return me})),n.d(o,"pdfUpload",(function(){return pe})),n.d(o,"materialLoaded",(function(){return Ee})),n.d(o,"setPage",(function(){return ve})),n.d(o,"movePage",(function(){return be})),n.d(o,"nextPage",(function(){return Oe})),n.d(o,"previousPage",(function(){return ge})),n.d(o,"pageControlDispatcher",(function(){return ye})),n.d(o,"toggleDisplayState",(function(){return je})),n.d(o,"setSpanOrigin",(function(){return Ce})),n.d(o,"resetSpanOrigin",(function(){return Se}));var i={};n.r(i),n.d(i,"switchToActiveRiverTooltip",(function(){return ke})),n.d(i,"switchToSummaryRiverTooltip",(function(){return xe})),n.d(i,"undoTooltip",(function(){return Ue})),n.d(i,"redoTooltip",(function(){return _e})),n.d(i,"nextPageTooltip",(function(){return Le})),n.d(i,"previousPageTooltip",(function(){return Fe})),n.d(i,"deleteCardTooltip",(function(){return Be})),n.d(i,"grabForCardTooltip",(function(){return He})),n.d(i,"jumpToOriginTooltip",(function(){return qe})),n.d(i,"appendToCardTooltip",(function(){return Ve})),n.d(i,"newQACardTooltip",(function(){return Qe})),n.d(i,"newNoteCardTooltip",(function(){return We})),n.d(i,"deleteDocumentTooltip",(function(){return Ge})),n.d(i,"loadSavedDocumentTooltip",(function(){return ze})),n.d(i,"noMaterialText",(function(){return Je})),n.d(i,"loadingMaterialText",(function(){return Ye})),n.d(i,"activeDocumentText",(function(){return Ke})),n.d(i,"existingDataText",(function(){return Xe})),n.d(i,"loadMaterialText",(function(){return $e})),n.d(i,"downloadDatasetsText",(function(){return Ze})),n.d(i,"uploadDatasetsText",(function(){return et})),n.d(i,"noteText",(function(){return tt})),n.d(i,"questionText",(function(){return nt})),n.d(i,"answerText",(function(){return rt})),n.d(i,"defaultEnterDelay",(function(){return at})),n.d(i,"defaultEnterNextDelay",(function(){return ct}));var u={};n.r(u),n.d(u,"NewNoteCardTooltip",(function(){return ot})),n.d(u,"AddQAButtonTooltip",(function(){return it})),n.d(u,"AppendButtonTooltip",(function(){return lt})),n.d(u,"DeleteCardButtonTooltip",(function(){return ut}));var l={};n.r(l),n.d(l,"NAME",(function(){return St}));var d={};n.r(d),n.d(d,"NAME",(function(){return ht}));var s={};n.r(s),n.d(s,"CARD_REPLACE",(function(){return Nt})),n.d(s,"CARD_PUSH",(function(){return It})),n.d(s,"CARD_REMOVE",(function(){return Rt}));var f={};n.r(f),n.d(f,"toFieldValue",(function(){return Pt})),n.d(f,"createReplace",(function(){return kt})),n.d(f,"changeCardObject",(function(){return xt}));var m={};n.r(m),n.d(m,"emptyContent",(function(){return Lt})),n.d(m,"noteContentIsEmpty",(function(){return Ft})),n.d(m,"qaContentIsNotFull",(function(){return Bt})),n.d(m,"strToCardContent",(function(){return Vt})),n.d(m,"strToNewCardContent",(function(){return Qt}));var p={};n.r(p),n.d(p,"cardIDToNumber",(function(){return Wt})),n.d(p,"nextCardID",(function(){return Gt})),n.d(p,"cardIsNotFull",(function(){return Jt})),n.d(p,"strToCardConfig",(function(){return Yt})),n.d(p,"cardFieldToType",(function(){return Xt}));var E={};n.r(E),n.d(E,"getAll",(function(){return $t})),n.d(E,"getLastCardIDNumber",(function(){return Zt})),n.d(E,"getCards",(function(){return en})),n.d(E,"getCardByID",(function(){return tn}));var v={};n.r(v),n.d(v,"cardPush",(function(){return nn})),n.d(v,"emptyNoteCard",(function(){return rn})),n.d(v,"emptyQACard",(function(){return an})),n.d(v,"cardReplace",(function(){return cn})),n.d(v,"replaceCardFieldContent",(function(){return on})),n.d(v,"removeCard",(function(){return un}));var b={};n.r(b),n.d(b,"AddNoteButton",(function(){return sn})),n.d(b,"AddQAButton",(function(){return pn})),n.d(b,"DeleteCardButton",(function(){return bn}));var O={};n.r(O),n.d(O,"emptyOrigin",(function(){return Dn})),n.d(O,"singleOriginToCardOrigin",(function(){return yn}));var g={};n.r(g),n.d(g,"config",(function(){return p})),n.d(g,"origin",(function(){return O})),n.d(g,"permutation",(function(){return f})),n.d(g,"content",(function(){return m}));var D={};n.r(D),n.d(D,"NAME",(function(){return An}));var y={};n.r(y),n.d(y,"ARCHIVE_CURRENT_DATA",(function(){return hn})),n.d(y,"LOAD_DOCUMENT_DATA_SETS",(function(){return Nn})),n.d(y,"DELETE_DOCUMENT_DATA_SET",(function(){return In})),n.d(y,"DOCUMENT_CHANGE",(function(){return Rn}));var j={};n.r(j),n.d(j,"archiveDBData",(function(){return wn})),n.d(j,"loadDocumentDataSets",(function(){return Pn})),n.d(j,"deleteDocumentDataSet",(function(){return Mn}));var C={};n.r(C),n.d(C,"getAll",(function(){return Bn})),n.d(C,"getDocumentNames",(function(){return Hn})),n.d(C,"getDocumentDataSets",(function(){return qn}));var S={};n.r(S),n.d(S,"getAll",(function(){return Gn})),n.d(S,"getRiverMakeUps",(function(){return zn})),n.d(S,"getActiveRiverMakeUpID",(function(){return Jn})),n.d(S,"getActiveRiverMakeUp",(function(){return Yn})),n.d(S,"getActiveRiverCardIDs",(function(){return Kn})),n.d(S,"getActiveRiverCards",(function(){return Xn})),n.d(S,"getRiverShowState",(function(){return $n})),n.d(S,"riverShowStateIsShow",(function(){return Zn})),n.d(S,"getLastRiverIDNumber",(function(){return er})),n.d(S,"getRiverContentState",(function(){return tr})),n.d(S,"getRiverContentFilter",(function(){return nr})),n.d(S,"getOriginRequest",(function(){return rr}));var T={};n.r(T),n.d(T,"toggleRiverShowState",(function(){return lr})),n.d(T,"setRiverContentState",(function(){return dr})),n.d(T,"setActiveRiver",(function(){return sr})),n.d(T,"trySetActiveRiver",(function(){return fr})),n.d(T,"setContentFilter",(function(){return mr})),n.d(T,"resetContentFilter",(function(){return pr})),n.d(T,"setOriginRequest",(function(){return Er})),n.d(T,"resetOriginRequest",(function(){return vr}));var A={};n.r(A),n.d(A,"NAME",(function(){return Ar}));var h={};n.r(h),n.d(h,"SELECTION_SOURCE",(function(){return hr})),n.d(h,"SELECTION_GOAL",(function(){return Nr}));var N={};n.r(N),n.d(N,"getAll",(function(){return Ir})),n.d(N,"getGoalConfig",(function(){return Rr})),n.d(N,"getSourceConfig",(function(){return wr})),n.d(N,"sourceConfigExists",(function(){return Pr}));var I={};n.r(I),n.d(I,"selectionToCard",(function(){return Mr}));var R={};n.r(R),n.d(R,"resetSelectionSource",(function(){return Ur})),n.d(R,"resetSelectionGoal",(function(){return _r})),n.d(R,"addSelectionSource",(function(){return Lr})),n.d(R,"addMaterialSelectionSource",(function(){return Fr})),n.d(R,"addCardSelectionSource",(function(){return Br})),n.d(R,"addSelectionGoal",(function(){return Hr})),n.d(R,"addCardAppendSelectionGoal",(function(){return qr}));var w={};n.r(w),n.d(w,"SelectionSnackbar",(function(){return Jr})),n.d(w,"MaterialMouseUp",(function(){return Yr})),n.d(w,"CardFieldMouseUp",(function(){return Kr})),n.d(w,"AppendButton",(function(){return ta})),n.d(w,"ContextMenu",(function(){return aa}));var P={};n.r(P),n.d(P,"getSelectionWorkaround",(function(){return kr})),n.d(P,"use_selection",(function(){return I}));var M={};n.r(M),n.d(M,"RiverContentFormGroup",(function(){return yr})),n.d(M,"CardRiver",(function(){return va})),n.d(M,"SwitchActiveRiver",(function(){return ba}));var k={};n.r(k),n.d(k,"pageNumberToRiverMakeUpID",(function(){return ga})),n.d(k,"riverMakeUpIDToPageNumber",(function(){return Da})),n.d(k,"emptyCardRiver",(function(){return ya})),n.d(k,"updateStateWithMakeUps",(function(){return ja})),n.d(k,"removeCardFromRivers",(function(){return Ca}));var x={};n.r(x),n.d(x,"PageChooser",(function(){return gt})),n.d(x,"PageNavigation",(function(){return mt})),n.d(x,"PageKeyboardControl",(function(){return Dt})),n.d(x,"PDFDocument",(function(){return Ma})),n.d(x,"WindowMeasurer",(function(){return xa}));var U={};n.r(U),n.d(U,"collectCurrentDBData",(function(){return Ba}));var _={};n.r(_),n.d(_,"archiveCurrentDBData",(function(){return Ha})),n.d(_,"downloadDBData",(function(){return Va})),n.d(_,"changeDocument",(function(){return Qa})),n.d(_,"loadSavedDocument",(function(){return Wa})),n.d(_,"deleteDocument",(function(){return Ga}));var L={};n.r(L),n.d(L,"ControlBar",(function(){return _c}));var F,B=n(0),H=n.n(B),q=n(15),V=n.n(q),Q=n(277),W="displayData",G=W+"/PDF_UPLOADED",z=W+"/MATERIAL_LOADED",J=W+"/DISPLAY_STATUS",Y=W+"/PAGE_UPDATE",K=W+"/SPAN_ORIGIN",X=W+"/WINDOW_LAYOUT",$=function(e,t){return e===t+1?1:e},Z=function(e,t){return 0===e?t:e},ee=n(13),te=function(e){return e[W]},ne=Object(ee.a)(te,(function(e){return e.pdf})),re=Object(ee.a)(te,(function(e){return e.windowMeasurements})),ae=Object(ee.a)(te,(function(e){return e.pdfName})),ce=Object(ee.a)(te,(function(e){return e.totalPages})),oe=Object(ee.a)(te,(function(e){return e.currentPage})),ie=Object(ee.a)(te,(function(e){return e.scrollToPage})),ue=Object(ee.a)(ce,oe,(function(e,t){return{currentPage:t,totalPages:e}})),le=Object(ee.a)(te,(function(e){return e.displayStatus})),de=Object(ee.a)(le,(function(e){return"SHOW"===e})),se=Object(ee.a)(te,(function(e){return e.spanOrigin})),fe=function(){var e=0;return function(){var t=e;return e++,t}},me=function(e){return{type:X,payload:e}},pe=function(e){return{type:G,payload:e}},Ee=function(e){return{type:z,payload:e}},ve=function(e,t){return{type:Y,payload:{page:e,shouldScroll:t}}},be=function(e){return function(t,n){var r=ue(n()),a=r.currentPage,c=r.totalPages;switch(e){case"NEXT":t(ve($(a+1,c),!0));break;case"PREVIOUS":t(ve(Z(a-1,c),!0))}}},Oe=function(){return be("NEXT")},ge=function(){return be("PREVIOUS")},De={ArrowLeft:ge(),ArrowRight:Oe()},ye=(F=De,function(e,t){var n=F[e.key];n&&(e.preventDefault(),t(n))}),je=function(){return function(e,t){var n="SHOW"===le(t())?"HIDE":"SHOW";e({type:J,payload:n})}},Ce=function(e){return{type:K,payload:e}},Se=function(){return Ce(null)},Te=n(7),Ae=n(293),he=n(103),Ne=n(276),Ie=n(278),Re=n(132),we=n.n(Re),Pe=n(131),Me=n.n(Pe),ke="Switch to the Active-River view",xe="Switch to the Summary-River view",Ue="Undo last action",_e="Redo last action",Le="Next page",Fe="Previous page",Be="Delete this card",He="Activate the document-selection grab for this card(-field)",qe="Jump to the origin of the card content",Ve="Add the current or next selection to this card (only from document)",Qe="Create new QA-card",We="Create new Note-card",Ge="Delete this document and all its corresponding cards",ze="Load the card data of this document",Je="No PDF file specified.",Ye="Loading PDF\u2026",Ke="Active Document:",Xe="Inactive documents with existing data:",$e="Load document",Ze="Download document datasets",et="Upload document datasets",tt="Note",nt="Question",rt="Answer",at=500,ct=1e3,ot=function(e){var t=e.children;return H.a.createElement(Ae.a,{title:We,enterDelay:at,enterNextDelay:ct},t)},it=function(e){var t=e.children;return H.a.createElement(Ae.a,{title:Qe,enterDelay:at,enterNextDelay:ct},t)},ut=function(e){var t=e.children;return H.a.createElement(Ae.a,{title:Be,enterDelay:at,enterNextDelay:ct},t)},lt=function(e){var t=e.children;return H.a.createElement(Ae.a,{title:Ve,enterDelay:at,enterNextDelay:ct},t)},dt={components:u,constants:i},st=function(){var e=Object(Te.b)();return H.a.createElement(Ae.a,{title:dt.constants.previousPageTooltip,enterDelay:dt.constants.defaultEnterDelay,enterNextDelay:dt.constants.defaultEnterNextDelay},H.a.createElement(he.a,{type:"button",onClick:function(){e(ge())}},H.a.createElement(Me.a,null)))},ft=function(){var e=Object(Te.b)();return H.a.createElement(Ae.a,{title:dt.constants.nextPageTooltip,enterDelay:dt.constants.defaultEnterDelay,enterNextDelay:dt.constants.defaultEnterNextDelay},H.a.createElement(he.a,{type:"button",onClick:function(){e(Oe())}},H.a.createElement(we.a,null)))},mt=function(){return H.a.createElement(Ne.a,{variant:"outlined"},H.a.createElement(Q.a,{container:!0,direction:"row"},H.a.createElement(Q.a,{item:!0},H.a.createElement(st,null)),H.a.createElement(Q.a,{item:!0},H.a.createElement(Ie.a,{orientation:"vertical"})),H.a.createElement(Q.a,{item:!0},H.a.createElement(ft,null))))},pt=n(5),Et=n(23),vt=n(290),bt=n(106),Ot=/(\D)/,gt=function(){var e=Object(Te.b)(),t=Object(Te.c)(ue),n=t.currentPage,r=t.totalPages,a=Object(B.useState)({error:!1,value:null===n||void 0===n?void 0:n.toString(),userInput:null===n||void 0===n?void 0:n.toString()}),c=Object(Et.a)(a,2),o=c[0],i=c[1];return o.value!==n.toString()&&i({error:!1,value:n.toString(),userInput:n.toString()}),H.a.createElement(Ne.a,{variant:"outlined"},H.a.createElement(Q.a,{item:!0},H.a.createElement(Q.a,{container:!0,direction:"row",alignItems:"center",justify:"space-between"},H.a.createElement(Q.a,{item:!0,style:{width:"37%"}},H.a.createElement(vt.a,{inputProps:{style:{padding:"0px",fontSize:"1.25rem",fontFamily:'"Roboto", "Helvetica", "Arial", sansSerif',fontWeight:500,lineHeight:1.6,letterSpacing:"0.0075em"}},type:"text",variant:"filled",value:o.userInput,onKeyDown:function(t){if("Enter"===t.key){t.preventDefault();var n=t.target.value;o.error||e(ve(parseInt(n),!0))}},onChange:function(e){var t=e.target.value;!function(e,t){if(""===e||null!==e.trim().match(Ot))return!1;var n=parseInt(e);return!(n<1||t<n)}(t,r)?i(Object(pt.a)(Object(pt.a)({},o),{},{error:!0,userInput:t})):i(Object(pt.a)(Object(pt.a)({},o),{},{error:!1,userInput:t}))},error:o.error})),H.a.createElement(Q.a,{item:!0,style:{width:"61%"}},H.a.createElement(bt.a,{variant:"h6"},"of ",r)))))},Dt=function(e){var t=e.children,n=Object(Te.b)(),r=Object(B.useRef)(null);return H.a.createElement("span",{ref:r,onKeyDown:function(e){ye(e,n)},tabIndex:0},t)},yt=(n(179),n(180),n(62)),jt=n(134),Ct=n(159),St="cardRiverState",Tt=n(279),At=n(280),ht="cards",Nt=ht+"/CARD_REPLACE",It=ht+"/CARD_PUSH",Rt=ht+"/CARD_REMOVE",wt={note:function(e){return e},q:function(e){return e.q},a:function(e){return e.a}},Pt=function(e,t){return wt[e](t)},Mt={note:function(e,t){return t(e)},q:function(e,t){return Object(pt.a)(Object(pt.a)({},e),{},{q:t(e.q)})},a:function(e,t){return Object(pt.a)(Object(pt.a)({},e),{},{a:t(e.a)})}},kt=function(e){return function(t){return e}},xt=function(e){var t=Pt(e.inputField,e.inputObject),n=e.createModify(t);return function(e,t,n){return Mt[e](t,n)}(e.fieldToBeChanged,e.objectToBeChanged,n)},Ut=function(){return{q:"",a:""}},_t={q:Ut,a:Ut,note:function(){return""}},Lt=function(e){return _t[e]()},Ft=function(e){return""===e},Bt=function(e){return""===e.q||""===e.a},Ht={APPEND:function(e){return function(t){return t+e}},REPLACE:kt},qt=function(e){return Ht[e]},Vt=function(e,t,n,r){var a={inputObject:e,inputField:"note",fieldToBeChanged:t,objectToBeChanged:r,createModify:qt(n)};return xt(a)},Qt=function(e,t){var n=Lt(t);return Vt(e,t,"REPLACE",n)},Wt=function(e){return parseInt(e)},Gt=function(e){return(e+1).toString()},zt={Note:function(e){return Ft(e.content)},"Q-A":function(e){return Bt(e.content)}},Jt=function(e){return zt[e.type](e)},Yt=function(e,t,n,r){var a=Vt(e,t,n,r.content);return Object(pt.a)(Object(pt.a)({},r),{},{content:a})},Kt={q:"Q-A",a:"Q-A",note:"Note"},Xt=function(e){return Kt[e]},$t=function(e){return e[ht].present},Zt=Object(ee.a)($t,(function(e){return e.lastCardIDNumber})),en=Object(ee.a)($t,(function(e){return e.cards})),tn=function(e,t){return en(e)[t]},nn=function(e){return function(t,n){var r,a;t({type:It,payload:(r=e,a=n(),Object(pt.a)(Object(pt.a)({},r),{},{cardID:Gt(Zt(a))}))})}},rn=function(){return nn({type:"Note",content:""})},an=function(){return nn({type:"Q-A",content:{q:"",a:""}})},cn=function(e){return{type:Nt,payload:e}},on=function(e,t,n){return cn(Yt(n,e,"REPLACE",t))},un=function(e){return{type:Rt,payload:e}},ln=n(135),dn=n.n(ln),sn=function(){var e=Object(Te.b)();return H.a.createElement(dt.components.NewNoteCardTooltip,null,H.a.createElement(he.a,{type:"button",onClick:function(){e(rn())}},H.a.createElement(dn.a,null)))},fn=n(136),mn=n.n(fn),pn=function(){var e=Object(Te.b)();return H.a.createElement(dt.components.AddQAButtonTooltip,null,H.a.createElement(he.a,{type:"button",onClick:function(){e(an())}},H.a.createElement(mn.a,null)))},En=n(137),vn=n.n(En),bn=function(e){var t=e.cardID,n=Object(Te.b)();return H.a.createElement(dt.components.DeleteCardButtonTooltip,null,H.a.createElement(he.a,{type:"button",onClick:function(){n(un(t))}},H.a.createElement(vn.a,{fontSize:"small"})))},On=function(){return{q:{},a:{}}},gn={q:On,a:On,note:function(){return""}},Dn=function(e){return gn[e]()},yn=function(e,t,n){var r={inputObject:e,inputField:"note",fieldToBeChanged:t,objectToBeChanged:n||Dn(t),createModify:kt};return xt(r)},jn=function(e,t){var n=Object(pt.a)({},e.cards);return delete n[t],Object(pt.a)(Object(pt.a)({},e),{},{cards:n})},Cn=function(e,t,n){return Object(pt.a)(Object(pt.a)({},e),{},{cards:t,lastCardIDNumber:n})},Sn=function(e,t){var n=Object(pt.a)({},e);return n[t.cardID]=t,n},Tn=Sn,An="documentDB",hn=An+"/ARCHIVE_CURRENT_DATA",Nn=An+"/LOAD_DOCUMENT_DATA_SETS",In=An+"/DELETE_DOCUMENT_DATA_SET",Rn=An+"/DOCUMENT_CHANGE",wn=function(e){return{type:hn,payload:e}},Pn=function(e,t){return{type:Nn,payload:{dbData:e,newActiveDataSet:t}}},Mn=function(e){return{type:In,payload:e}},kn=n(37),xn=function(e,t){return Object(pt.a)(Object(pt.a)({},e),{},Object(kn.a)({},t.name,t))},Un=function(e,t){return Object(pt.a)(Object(pt.a)({},e),t.reduce((function(e,t){return e[t.name]=t,e}),{}))},_n=function(e,t){return Object.fromEntries(Object.entries(e).filter((function(e){return e[0]!==t})))},Ln={},Fn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case hn:return xn(e,r);case Nn:return Un(e,r.dbData);case In:return _n(e,r);default:return e}},Bn=function(e){return e[An].present},Hn=Object(ee.a)(Bn,(function(e){return Object.keys(e)})),qn=Object(ee.a)(Bn,(function(e){return Object.values(e)})),Vn={actions:j,actionTypes:y,constants:D,reducer:Fn,selectors:C},Qn={cards:{0:{cardID:"0",type:"Q-A",content:{q:"Was ist der Sinn des Lebens?",a:"42"}},1:{cardID:"1",type:"Q-A",content:{q:"Welches Layout macht mehr Sinn?",a:"??"}},2:{cardID:"2",type:"Note",content:"Note here"}},lastCardIDNumber:2},Wn={constants:d,actionTypes:s,actions:v,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case It:var a=Wt(r.cardID)+1;return Object(pt.a)(Object(pt.a)({},e),{},{cards:Tn(e.cards,r),lastCardIDNumber:a});case Nt:var c=null;return Object(pt.a)(Object(pt.a)({},e),{},{cards:Sn(e.cards,r),goalCard:c});case Rt:return jn(e,r);case Vn.actionTypes.DOCUMENT_CHANGE:return r?Cn(Qn,r.cards,r.lastCardIDNumber):Qn;case Vn.actionTypes.LOAD_DOCUMENT_DATA_SETS:return r.newActiveDataSet?Cn(Qn,r.cards,r.lastCardIDNumber):e;default:return e}},selectors:E,components:b,model:g},Gn=function(e){return e[St].present},zn=Object(ee.a)(Gn,(function(e){return e.riverMakeUps})),Jn=Object(ee.a)(Gn,(function(e){return e.activeRiverMakeUpID})),Yn=Object(ee.a)(zn,Jn,(function(e,t){var n=e[t];return n||{cardIDs:[]}})),Kn=Object(ee.a)(Yn,(function(e){return e.cardIDs})),Xn=Object(ee.a)(Kn,Wn.selectors.getCards,(function(e,t){return e.map((function(e){return t[e]}))})),$n=Object(ee.a)(Gn,(function(e){return e.riverShowState})),Zn=Object(ee.a)($n,(function(e){return"SHOW"===e})),er=Object(ee.a)(Gn,(function(e){return e.lastRiverIDNumber})),tr=Object(ee.a)(Gn,(function(e){return e.riverContentState})),nr=Object(ee.a)(Gn,(function(e){return e.contentFilter})),rr=Object(ee.a)(Gn,(function(e){return e.requestedOrigin})),ar=St+"/RIVER_ACTIVE_ID",cr=St+"/RIVER_SHOW_STATE",or=St+"/RIVER_CONTENT_STATE",ir=St+"/RIVER_CONTENT_FILTER",ur=St+"/ORIGIN_REQUEST",lr=function(){return function(e,t){e({type:cr,payload:Zn(t())?"HIDE":"SHOW"})}},dr=function(e){return{type:or,payload:e}},sr=function(e){return{type:ar,payload:e}},fr=function(e){return function(t,n){console.log(e,Jn(n())!==e),Jn(n())!==e&&t(sr(e))}},mr=function(e){return{type:ir,payload:e}},pr=function(){return{type:ir,payload:""}},Er=function(e){return{type:ur,payload:e}},vr=function(){return Er(null)},br=n(6),Or=n(291),gr=n(89),Dr=Object(br.a)({root:{color:gr.a[400],"&$checked":{color:gr.a[600]}},checked:{}})((function(e){return H.a.createElement(Or.a,Object.assign({color:"default"},e))})),yr=function(){var e=Object(Te.c)(tr),t=Object(Te.b)(),n="ALL"===e||"QAS"===e,r="ALL"===e||"NOTES"===e,a=function(e){n||"QAS"!==e?r||"NOTES"!==e?n&&"QAS"===e?t(dr(r?"NOTES":"NONE")):r&&"NOTES"===e&&t(dr(n?"QAS":"NONE")):t(dr(n?"ALL":"NOTES")):t(dr(r?"ALL":"QAS"))};return H.a.createElement(Tt.a,null,H.a.createElement(At.a,{control:H.a.createElement(Dr,{checked:n,onClick:function(){a("QAS")}}),label:"QAs"}),H.a.createElement(At.a,{control:H.a.createElement(Dr,{checked:r,onClick:function(){a("NOTES")}}),label:"Notes"}))},jr=n(295),Cr=n(281),Sr=n(282),Tr=n(160),Ar="selectionData",hr=Ar+"/SELECTION_SOURCE",Nr=Ar+"/SELECTION_GOAL",Ir=function(e){return e[Ar].present},Rr=Object(ee.a)(Ir,(function(e){return e.goalConfig})),wr=Object(ee.a)(Ir,(function(e){return e.sourceConfig})),Pr=Object(ee.a)(wr,(function(e){return!!e})),Mr=function(e,t,n,r){if(function(e){return!!!e.cardID}(t)){var a=function(e,t){var n=e.contentOrigin,r=e.contentStr,a=t.cardField;return{type:Wn.model.config.cardFieldToType(a),content:Wn.model.content.strToNewCardContent(r,a),origin:n?Wn.model.origin.singleOriginToCardOrigin(n,a):void 0}}(e,t);n(Wn.actions.cardPush(a))}else{var c=function(e,t,n){var r=Wn.selectors.getCardByID(n,t.cardID),a=e.contentOrigin,c=e.contentStr,o=t.cardField;return Object(pt.a)(Object(pt.a)({},r),{},{content:Wn.model.content.strToCardContent(c,o,t.updateType,r.content),origin:a?Wn.model.origin.singleOriginToCardOrigin(a,o,r.origin):r.origin})}(e,t,r);n(Wn.actions.cardReplace(c))}},kr=function(){var e=window.getSelection();if(!e)return null;try{var t=document.activeElement;if(t&&t.value){var n=t.value.substring(t.selectionStart,t.selectionEnd);return""===n?null:{text:n,selection:e}}var r=e.toString();return""===r?null:{text:r,selection:e}}catch(a){return null}},xr=function(e){var t=kr();return!!t&&function(e,t){var n,r=null===(n=e.selection.focusNode)||void 0===n?void 0:n.parentNode;if(!r||"SPAN"!==r.nodeName)return!1;var a=r.parentNode;if(!a||"DIV"!==a.nodeName)return!1;var c=Array.from(a.children);if(0===c.length)return!1;var o=c.indexOf(r);return!(o<0)&&{contentStr:e.text,contentOrigin:{spanIndex:o,page:t}}}(t,e)},Ur=function(){return{type:hr,payload:null}},_r=function(){return{type:Nr,payload:null}},Lr=function(e){return function(t,n){var r=n(),a=Rr(r);a?(Mr(e,a,t,r),t(_r())):t(function(e){return{type:hr,payload:e}}(e))}},Fr=function(e){var t=xr(e);return!!t&&Lr(t)},Br=function(e){var t=function(e){var t=kr();return!!t&&{contentStr:t.text,contentOrigin:e}}(e);return!!t&&Lr(t)},Hr=function(e){return function(t,n){var r=n(),a=wr(r);a?(Mr(a,e,t,r),t(Ur())):t(function(e){return{type:Nr,payload:e}}(e))}},qr=function(e,t){return Hr({cardID:e,cardField:t,updateType:"APPEND"})},Vr={sourceConfig:null,goalConfig:null},Qr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vr,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case hr:return Object(pt.a)(Object(pt.a)({},e),{},{sourceConfig:r});case Nr:return Object(pt.a)(Object(pt.a)({},e),{},{goalConfig:r});default:return e}},Wr=n(294),Gr=n(138),zr=n.n(Gr),Jr=function(){var e=Object(B.useState)(!1),t=Object(Et.a)(e,2),n=t[0],r=t[1],a=Object(Te.b)(),c=Object(Te.c)(wr);!c&&n&&r(!1),c&&!n&&r(!0);var o=H.a.createElement(B.Fragment,null,H.a.createElement("div",null,"Current Selection: "),H.a.createElement("div",{style:{color:"green"}}," ",null===c||void 0===c?void 0:c.contentStr),(null===c||void 0===c?void 0:c.contentOrigin)&&H.a.createElement("div",{style:{color:"red"}}," From Page ",c.contentOrigin.page));return H.a.createElement(Wr.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:n,onClose:function(e,t){"clickaway"===t?e.preventDefault():(r(!1),a(Ur()))},message:o,action:H.a.createElement(he.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){r(!1),a(Ur())}},H.a.createElement(zr.a,{fontSize:"small"}))})},Yr=function(e){var t=e.children,n=e.page,r=Object(Te.b)();return H.a.createElement("span",{onMouseUp:function(){var e=Fr(n);e&&r(e)}},t)},Kr=function(e){var t=e.children,n=e.fieldOrigin,r=Object(Te.b)();return H.a.createElement("span",{onMouseUp:function(){var e=Br(n);e&&r(e)}},t)},Xr=n(140),$r=n.n(Xr),Zr=n(139),ea=n.n(Zr),ta=function(e){var t=e.cardField,n=e.cardID,r=Object(Te.b)(),a=Object(Te.c)(Rr),c=Object(B.useState)(!1),o=Object(Et.a)(c,2),i=o[0],u=o[1],l=!!a&&!!a.cardID&&a.cardID===n&&a.cardField===t;return l?i||u(!0):i&&u(!1),H.a.createElement(dt.components.AppendButtonTooltip,null,H.a.createElement(he.a,{type:"button",onClick:function(){i||a?l&&r(_r()):r(qr(n,t))}},i?H.a.createElement(ea.a,{fontSize:"small"}):H.a.createElement($r.a,{fontSize:"small"})))},na=n(157),ra=n(297),aa=function(){var e=Object(B.useState)(void 0),t=Object(Et.a)(e,2),n=t[0],r=t[1],a=Object(B.useRef)(null),c=Object(B.useCallback)((function(e){!function(e,t){var n,r,a=t.target;return!!(null===(n=e.current)||void 0===n||null===(r=n.querySelector("div.MuiPaper-root"))||void 0===r?void 0:r.contains(a))}(a,e)&&r(void 0)}),[a,r]);Object(B.useEffect)((function(){return document.addEventListener("mousedown",c),function(){document.removeEventListener("mousedown",c)}}),[c]);var o=Object(Te.c)(Pr),i=Object(B.useCallback)((function(e){o&&(e.preventDefault(),r({left:e.x,top:e.y}))}),[o,r]);Object(B.useEffect)((function(){return document.addEventListener("contextmenu",i),function(){document.removeEventListener("contextmenu",i)}}),[i]);var u=!!n,l=Object(Te.b)();return H.a.createElement(na.a,{ref:a,keepMounted:!0,open:u,anchorReference:"anchorPosition",anchorPosition:n},u&&H.a.createElement(B.Fragment,null,H.a.createElement(ra.a,{onClick:function(){l(Hr({cardField:"note",updateType:"REPLACE"})),r(void 0)}},"New: Note"),H.a.createElement(Ie.a,null),H.a.createElement(ra.a,{onClick:function(){l(Hr({cardField:"q",updateType:"REPLACE"})),r(void 0)}},"New: Q (Q-A)"),H.a.createElement(ra.a,{onClick:function(){l(Hr({cardField:"a",updateType:"REPLACE"})),r(void 0)}},"New: A (Q-A)")))},ca={actions:R,actionTypes:h,constants:A,components:w,reducer:Qr,selectors:N,services:P},oa=function(e){var t=e.storeValue,n=void 0===t?"":t,r=e.saveChanges,a=e.fieldOrigin,c=e.style,o=Object(Tr.a)(e,["storeValue","saveChanges","fieldOrigin","style"]),i=Object(B.useState)({storeValue:n,mutableValue:n}),u=Object(Et.a)(i,2),l=u[0],d=u[1];return l.storeValue!==n&&d({storeValue:n,mutableValue:n}),H.a.createElement(ca.components.CardFieldMouseUp,{fieldOrigin:a&&void 0!==a.spanIndex?a:void 0},H.a.createElement(vt.a,Object.assign({InputProps:{disableUnderline:!0,style:{minWidth:"400px"}},multiline:!0,variant:"filled",value:l.mutableValue,onChange:function(e){var t=e.target.value;d(Object(pt.a)(Object(pt.a)({},l),{},{mutableValue:t}))},onBlur:function(e){r(e.target.value)},style:c},o)))},ia=n(141),ua=n.n(ia),la=function(e){var t=e.cardOrigin,n=Object(Te.b)();return H.a.createElement(Ae.a,{title:dt.constants.jumpToOriginTooltip,enterDelay:dt.constants.defaultEnterDelay,enterNextDelay:dt.constants.defaultEnterNextDelay},H.a.createElement(he.a,{type:"button",onClick:function(){n(Er(t))}},H.a.createElement(ua.a,{fontSize:"small"})))},da=n(83),sa=function(e){var t=e.config,n=e.cardField;return H.a.createElement(da.a,{variant:"outlined"},H.a.createElement(Q.a,{container:!0,direction:"row"},H.a.createElement(Q.a,{item:!0},H.a.createElement(ca.components.AppendButton,{cardID:t.cardID,cardField:n})),H.a.createElement(Q.a,{item:!0},t.origin&&H.a.createElement(la,{cardOrigin:Wn.model.permutation.toFieldValue(n,t.origin)}))))},fa=function(e){var t,n,r=e.config,a=Object(Te.b)();return H.a.createElement(Ne.a,{variant:"elevation",elevation:5,style:{padding:"3px"}},H.a.createElement(Q.a,{container:!0,direction:"row",justify:"space-between"},H.a.createElement(Q.a,{item:!0},H.a.createElement(Q.a,{container:!0,direction:"column",spacing:1},H.a.createElement(Q.a,{item:!0},H.a.createElement(Q.a,{container:!0,direction:"row",spacing:1},H.a.createElement(Q.a,{item:!0},H.a.createElement(oa,{saveChanges:function(e){a(Wn.actions.replaceCardFieldContent("q",r,e))},storeValue:r.content.q,label:dt.constants.questionText,variant:"filled",style:{backgroundColor:"#FFBF69"},InputLabelProps:{style:{color:"#000000"}},fieldOrigin:null===(t=r.origin)||void 0===t?void 0:t.q})),H.a.createElement(Q.a,{item:!0},H.a.createElement(sa,{cardField:"q",config:r})))),H.a.createElement(Q.a,{item:!0},H.a.createElement(Q.a,{container:!0,direction:"row",spacing:1},H.a.createElement(Q.a,{item:!0},H.a.createElement(oa,{saveChanges:function(e){a(Wn.actions.replaceCardFieldContent("a",r,e))},storeValue:r.content.a,label:dt.constants.answerText,style:{backgroundColor:"#2EC4B6"},InputLabelProps:{style:{color:"#000000"}},fieldOrigin:null===(n=r.origin)||void 0===n?void 0:n.a})),H.a.createElement(Q.a,{item:!0},H.a.createElement(sa,{cardField:"a",config:r})))))),H.a.createElement(Q.a,{item:!0},H.a.createElement(Wn.components.DeleteCardButton,{cardID:r.cardID}))))},ma=function(e){var t=e.config,n=Object(Te.b)();return H.a.createElement(Ne.a,{variant:"elevation",elevation:5,style:{padding:"3px"}},H.a.createElement(Q.a,{container:!0,direction:"row",justify:"space-between"},H.a.createElement(Q.a,{item:!0},H.a.createElement(Q.a,{container:!0,direction:"row",spacing:1},H.a.createElement(Q.a,{item:!0},H.a.createElement(oa,{saveChanges:function(e){n(Wn.actions.cardReplace(Object(pt.a)(Object(pt.a)({},t),{},{content:e})))},storeValue:t.content,label:dt.constants.noteText,variant:"filled",style:{backgroundColor:"#CBF3F0"},InputLabelProps:{style:{color:"#000000"}},fieldOrigin:t.origin})),H.a.createElement(Q.a,{item:!0},H.a.createElement(sa,{cardField:"note",config:t})))),H.a.createElement(Q.a,{item:!0},H.a.createElement(Wn.components.DeleteCardButton,{cardID:t.cardID}))))},pa=function(e){var t=e.config;e.riverID;switch(t.type){case"Note":return H.a.createElement(ma,{config:t});case"Q-A":return H.a.createElement(fa,{config:t})}},Ea=function(){return H.a.createElement(Q.a,{item:!0},H.a.createElement(Ie.a,null))},va=function(e){var t=e.riverID,n=e.materialHeight,r=Object(Te.c)(Wn.selectors.getCards),a=Object(Te.c)(zn)[t],c=a?a.cardIDs.map((function(e){return r[e]})):[],o=Object(Te.c)(tr),i=Object(Te.c)(nr),u=Object(B.useMemo)((function(){var e=c;return"NONE"===o?[]:("ALL"!==o&&("QAS"===o&&(e=c.filter((function(e){return"Q-A"===e.type}))),"NOTES"===o&&(e=c.filter((function(e){return"Note"===e.type})))),""!==i&&(e=e.filter((function(e){switch(e.type){case"Note":return function(e,t){return e.content.includes(t)}(e,i);case"Q-A":return function(e,t){return e.content.a.includes(t)||e.content.q.includes(t)}(e,i)}return!1}))),function(e,t){var n=fe();return e.reduce((function(e,r,a,c){return e.push(H.a.createElement(Q.a,{item:!0,key:n()},H.a.createElement(pa,{config:r,riverID:t,key:n()}))),a<c.length-1&&e.push(H.a.createElement(Ea,{key:n()})),e}),[])}(e,t))}),[c,t,o,i]);return H.a.createElement(jr.a,{defaultExpanded:!0,style:{overflowY:"auto",maxHeight:n},elevation:5},H.a.createElement(Cr.a,null,H.a.createElement(bt.a,{variant:"h6",align:"center",style:{MozUserSelect:"none",WebkitUserSelect:"none",msUserSelect:"none"}},t)),H.a.createElement(Sr.a,null,H.a.createElement(Q.a,{container:!0,direction:"column",spacing:2,justify:"center",alignItems:"stretch"},H.a.createElement(Q.a,{item:!0},H.a.createElement(Wn.components.AddQAButton,null),H.a.createElement(Wn.components.AddNoteButton,null),H.a.createElement(Ie.a,null)),H.a.createElement(Q.a,{item:!0},H.a.createElement(Q.a,{container:!0,direction:"column",spacing:2,justify:"center",alignItems:"stretch"},u)))))},ba=function(e){var t=e.children,n=e.riverID,r=Object(Te.b)();return H.a.createElement("span",{onMouseEnter:function(){r(fr(n))}},t)},Oa=n(158),ga=function(e){return"CardRiver "+e},Da=function(e){return parseInt(e.replace("CardRiver ",""))},ya=function(e){return{riverID:ga(e),cardIDs:[]}},ja=function(e){for(var t=Object(pt.a)({},e),n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach((function(e){t.riverMakeUps[e.riverID]=e})),t},Ca=function(e,t){var n=Object.fromEntries(Object.entries(e.riverMakeUps).map((function(e){return[e[0],Object(pt.a)(Object(pt.a)({},e[1]),{},{cardIDs:e[1].cardIDs.filter((function(e){return e!==t}))})]})));return Object(pt.a)(Object(pt.a)({},e),{},{riverMakeUps:n})},Sa={requestedOrigin:null,riverMakeUps:Object(kn.a)({},ga(1),{riverID:ga(1),cardIDs:["2","0","1"]}),activeRiverMakeUpID:ga(1),lastRiverIDNumber:1,riverShowState:"SHOW",riverContentState:"ALL",contentFilter:""},Ta={constants:l,components:M,reducer:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sa,r=arguments.length>1?arguments[1]:void 0,a=r.type,c=r.payload;switch(a){case ar:return Object(pt.a)(Object(pt.a)({},n),{},{activeRiverMakeUpID:c});case cr:return Object(pt.a)(Object(pt.a)({},n),{},{riverShowState:c});case or:return Object(pt.a)(Object(pt.a)({},n),{},{riverContentState:c});case Wn.actionTypes.CARD_PUSH:return e=n.riverMakeUps[n.activeRiverMakeUpID]?Object(pt.a)(Object(pt.a)({},n.riverMakeUps[n.activeRiverMakeUpID]),{},{cardIDs:[].concat(Object(Oa.a)(n.riverMakeUps[n.activeRiverMakeUpID].cardIDs),[c.cardID])}):{riverID:n.activeRiverMakeUpID,cardIDs:[c.cardID]},(t=Object(pt.a)({},n.riverMakeUps))[n.activeRiverMakeUpID]=e,Object(pt.a)(Object(pt.a)({},n),{},{riverMakeUps:t});case Wn.actionTypes.CARD_REMOVE:return Ca(n,c);case Vn.actionTypes.DOCUMENT_CHANGE:return c?Object(pt.a)(Object(pt.a)({},Sa),{},{riverMakeUps:c.riverMakeUps,lastRiverIDNumber:c.lastRiverIDNumber}):Sa;case Vn.actionTypes.LOAD_DOCUMENT_DATA_SETS:return c.newActiveDataSet?Object(pt.a)(Object(pt.a)({},Sa),{},{riverMakeUps:c.newActiveDataSet.riverMakeUps,lastRiverIDNumber:c.newActiveDataSet.lastRiverIDNumber}):n;case ir:return Object(pt.a)(Object(pt.a)({},n),{},{contentFilter:c});case ur:return Object(pt.a)(Object(pt.a)({},n),{},{requestedOrigin:c});default:return n}},selectors:S,actions:T,model:k},Aa=function(e){var t=e.page,n=e.pageRef,r=Object(Te.c)(se),a=Object(B.useRef)(0),c=Object(Te.b)(),o=Object(B.useCallback)((function(){var e=setInterval((function(){var t;if(10===a.current)return a.current=0,clearInterval(e),console.log("invalid origin clicked",r),void c(Se());var o=null===(t=n.current)||void 0===t?void 0:t.children.item(1);if(o){var i=o.children.item(r.spanIndex);if(i)return i.scrollIntoView({behavior:"auto",block:"center",inline:"center"}),c(Se()),a.current=0,void clearInterval(e)}a.current=a.current+1}),10)}),[c,a,r,n]);return Object(B.useEffect)((function(){if(r&&r.page===t&&n.current){var e=n.current.children.item(1);if(e){var i=e.children.item(r.spanIndex);i?(i.scrollIntoView({behavior:"auto",block:"center",inline:"center"}),c(Se()),a.current=0):o()}else o()}}),[c,t,n,r,o]),null},ha=function(e){var t,n=e.pageNumber,r=null===(t=Object(Te.c)(re))||void 0===t?void 0:t.width,a=Object(B.useRef)(null);return H.a.createElement(B.Fragment,null,H.a.createElement(ca.components.MaterialMouseUp,{page:n},H.a.createElement(Dt,null,H.a.createElement(yt.b,{inputRef:function(e){a.current=e},pageNumber:n,width:r*Ra,onRenderSuccess:function(){console.log("rendered Page "+n)}}))),H.a.createElement(Aa,{page:n,pageRef:a}))},Na=function(e){var t=e.index,n=e.data,r=e.style,a=t+1,c=Ta.model.pageNumberToRiverMakeUpID(a),o=n.materialHeights;return H.a.createElement("div",{style:r},H.a.createElement(Ta.components.SwitchActiveRiver,{riverID:c},H.a.createElement(Q.a,{container:!0,justify:"space-between",direction:"row",alignItems:"flex-start"},H.a.createElement(Q.a,{item:!0},H.a.createElement(Ta.components.CardRiver,{riverID:c,materialHeight:o.get(a)})),H.a.createElement(Q.a,{item:!0},H.a.createElement(ha,{pageNumber:a})))),H.a.createElement(Ie.a,null))},Ia=function(e){var t=e.listRef,n=Object(Te.c)(ie),r=Object(Te.c)(oe),a=Object(Te.c)(Ta.selectors.getOriginRequest);Object(B.useEffect)((function(){var e;null===(e=t.current)||void 0===e||e.scrollToItem(r-1,"start")}),[]);var c=Object(Te.b)();return Object(B.useEffect)((function(){var e,r;if(a)return null===(e=t.current)||void 0===e||e.scrollToItem(a.page-1,"auto"),c(Ce(a)),c(ve(a.page,!1)),void c(Ta.actions.resetOriginRequest());n&&(null===(r=t.current)||void 0===r||r.scrollToItem(n-1,"start"),c(ve(n,!1)))}),[c,t,n,a]),null},Ra=.57,wa=function(e){var t=e.pdfProxyRef,n=e.cachedPageDimensions,r=Object(B.useRef)(),a=Object(Te.c)(re),c=a?Array.from(n.keys()).reduce((function(e,t){return e.set(t,function(e,t,n){var r=t.get(e),a=n*Ra/r[0];return r[1]*a+20}(t,n,a.width)),e}),new Map):void 0,o=Object(Te.b)();return H.a.createElement(B.Fragment,null,a&&c&&H.a.createElement(Ct.a,{height:a.height,itemCount:t.current.numPages,itemSize:function(e){return c.get(e+1)},itemData:{materialHeights:c},ref:r,width:"100%",onItemsRendered:function(e){o(ve(e.visibleStopIndex+1,!1))}},Na),H.a.createElement(Ia,{listRef:r}))};yt.c.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(yt.c.version,"/pdf.worker.js");var Pa={cMapUrl:"cmaps/",cMapPacked:!0},Ma=function(){var e=Object(Te.c)(ne),t=Object(B.useState)(),n=Object(Et.a)(t,2),r=n[0],a=n[1],c=Object(B.useRef)(),o=Object(Te.b)(),i=null===e||void 0===e?void 0:e.name,u=Object(B.useRef)(i);return u.current!==i&&(u.current=i),H.a.createElement(yt.a,{loading:dt.constants.loadingMaterialText,noData:dt.constants.noMaterialText,options:Pa,file:e,renderMode:"canvas",onLoadSuccess:function(t){o(Ee(t.numPages)),e&&function(e,t,n,r){var a=Array.from({length:e.numPages},(function(e,t){return t+1})).map((function(t){return e.getPage(t)}));Promise.all(a).then((function(e){if(t===n.current){var a,c=new Map,o=Object(jt.a)(e);try{for(o.s();!(a=o.n()).done;){var i=a.value,u=1*i.view[2],l=1*i.view[3];c.set(i._pageIndex+1,[u,l])}}catch(d){o.e(d)}finally{o.f()}r(c)}}))}(t,i,u,a),c.current=t},onItemClick:function(e){var t=e.pageNumber;o(ve(parseInt(t),!0))}},r&&u.current===i&&H.a.createElement(wa,{pdfProxyRef:c,cachedPageDimensions:r}))},ka=n(142),xa=function(){var e=Object(Te.b)(),t=Object(ka.debounce)(50,(function(){var t=window.innerWidth,n=window.innerHeight;e(me({width:t,height:n}))}));return Object(B.useLayoutEffect)((function(){t()}),[t]),Object(B.useEffect)((function(){return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}})),null},Ua={displayStatus:"SHOW",totalPages:1e3,currentPage:1,scrollToPage:null,windowMeasurements:null,spanOrigin:null},_a={actions:o,actionTypes:a,components:x,constants:r,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ua,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case G:return Object(pt.a)(Object(pt.a)({},e),{},{pdf:r,pdfName:r.name});case Vn.actionTypes.DOCUMENT_CHANGE:return r?r.name===e.pdfName?e:Object(pt.a)(Object(pt.a)({},Ua),{},{pdf:void 0,pdfName:r.name,totalPages:r.totalPages,currentPage:r.currentPage}):e;case z:return Object(pt.a)(Object(pt.a)({},e),{},{totalPages:r});case Y:return Object(pt.a)(Object(pt.a)({},e),{},{currentPage:r.page,scrollToPage:r.shouldScroll?r.page:null});case J:return Object(pt.a)(Object(pt.a)({},e),{},{displayStatus:r});case K:return Object(pt.a)(Object(pt.a)({},e),{},{spanOrigin:r});case X:return Object(pt.a)(Object(pt.a)({},e),{},{windowMeasurements:r});default:return e}},selectors:c},La=n(28),Fa=n.n(La),Ba=Object(ee.a)(_a.selectors.getPDFName,_a.selectors.getTotalPages,_a.selectors.getCurrentPage,Ta.selectors.getRiverMakeUps,Ta.selectors.getActiveRiverMakeUpID,Ta.selectors.getLastRiverIDNumber,Wn.selectors.getCards,Wn.selectors.getLastCardIDNumber,(function(e,t,n,r,a,c,o,i){return{name:e,totalPages:t,currentPage:n,riverMakeUps:r,activeRiverMakeUpID:a,lastRiverIDNumber:c,cards:o,lastCardIDNumber:i}})),Ha=function(){return function(e,t){var n=t();if(void 0!==_a.selectors.getPDFName(n)){var r=Ba(n);e(Vn.actions.archiveDBData(r))}}},qa=n(209),Va=function(){return function(e,t){e(Ha());var n=Vn.selectors.getDocumentDataSets(t()),r=(new Date).toLocaleString();qa(JSON.stringify(n),r+" ClayMemory.txt")}},Qa=function(e){return function(t,n){var r=e.name,a=n(),c=_a.selectors.getPDFName(a),o=Vn.selectors.getAll(a);if(void 0!==c){var i=Ba(a);t(Vn.actions.archiveDBData(i))}if(t(_a.actions.pdfUpload(e)),r!==c){var u=o[r];t(u?{type:Vn.actionTypes.DOCUMENT_CHANGE,payload:u}:{type:Vn.actionTypes.DOCUMENT_CHANGE}),t(La.ActionCreators.clearHistory())}}},Wa=function(e){return function(t,n){var r=n(),a=_a.selectors.getPDFName(r),c=Vn.selectors.getAll(r);if(void 0!==a){var o=Ba(r);t(Vn.actions.archiveDBData(o))}var i=c[e];t({type:Vn.actionTypes.DOCUMENT_CHANGE,payload:i}),t(La.ActionCreators.clearHistory())}},Ga=function(e){return function(t,n){var r=n(),a=_a.selectors.getPDFName(r);a&&a===e&&(t({type:Vn.actionTypes.DOCUMENT_CHANGE}),t(La.ActionCreators.clearHistory())),t(Vn.actions.deleteDocumentDataSet(e))}},za=n(288),Ja=n(289),Ya=n(287),Ka=n(147),Xa=n.n(Ka),$a=n(148),Za=n.n($a),ec=n(296),tc=n(283),nc=n(284),rc=n(285),ac=n(286),cc=n(143),oc=n.n(cc),ic=function(e){var t=e.document,n=e.handleClose,r=e.open,a=Object(Te.b)();return H.a.createElement(ec.a,{open:r,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},H.a.createElement(tc.a,{id:"alert-dialog-title"},"Delete "+t+" and all associated card data?"),H.a.createElement(nc.a,null,H.a.createElement(rc.a,{id:"alert-dialog-description"},"This change can not be undone.")),H.a.createElement(ac.a,null,H.a.createElement(Ya.a,{onClick:n,color:"primary"},"Abort"),H.a.createElement(Ya.a,{onClick:function(){a(Ga(t)),n()},color:"primary",autoFocus:!0},"Delete document and associated card data")))},uc=function(e){var t=e.document,n=Object(B.useState)(!1),r=Object(Et.a)(n,2),a=r[0],c=r[1];return H.a.createElement("div",null,H.a.createElement(Ae.a,{title:dt.constants.deleteDocumentTooltip,enterDelay:dt.constants.defaultEnterDelay,enterNextDelay:dt.constants.defaultEnterNextDelay},H.a.createElement(he.a,{type:"button",onClick:function(){c(!0)}},H.a.createElement(oc.a,{fontSize:"small"}))),H.a.createElement(ic,{document:t,open:a,handleClose:function(){c(!1)}}))},lc=n(144),dc=n.n(lc),sc=function(e){var t=e.handleClose,n=e.label,r=Object(Te.b)(),a=Object(Te.c)(_a.selectors.getPDFName),c=Object(B.useRef)(null);return H.a.createElement(B.Fragment,null,H.a.createElement(ra.a,{onClick:function(){c.current.click()}},H.a.createElement(Ya.a,{variant:"contained",color:"primary",disableElevation:!0,startIcon:H.a.createElement(dc.a,null)},n)),H.a.createElement("input",{ref:c,style:{display:"none"},onChange:function(e){var n=e.target.files,c=n?n[0]:null;if(c){var o=new FileReader;o.readAsText(c),o.onload=function(){var e=JSON.parse(o.result),t=e.find((function(e){return e.name===a}));r(Vn.actions.loadDocumentDataSets(e,t))}}t()},type:"file",accept:".txt"}))},fc=n(145),mc=n.n(fc),pc=function(e){var t=e.handleClose,n=e.label,r=Object(Te.b)(),a=Object(B.useRef)(null);return H.a.createElement(B.Fragment,null,H.a.createElement(ra.a,{onClick:function(){a.current.click()}},H.a.createElement(Ya.a,{variant:"contained",color:"primary",disableElevation:!0,startIcon:H.a.createElement(mc.a,null)},n)),H.a.createElement("input",{ref:a,style:{display:"none"},onChange:function(e){var n=e.target.files,a=n?n[0]:null;a&&r(Qa(a)),t()},type:"file",accept:".pdf"}))},Ec=n(146),vc=n.n(Ec),bc=function(e){var t=e.document,n=Object(Te.b)();return H.a.createElement(Ae.a,{title:dt.constants.loadSavedDocumentTooltip,enterDelay:dt.constants.defaultEnterDelay,enterNextDelay:dt.constants.defaultEnterNextDelay},H.a.createElement(he.a,{type:"button",onClick:function(){n(Wa(t))}},H.a.createElement(vc.a,{fontSize:"small"})))},Oc=function(e){var t=e.document;return H.a.createElement(Q.a,{container:!0,direction:"row"},H.a.createElement(Q.a,{item:!0},H.a.createElement(bc,{document:t})),H.a.createElement(Q.a,{item:!0},H.a.createElement(Ie.a,{orientation:"vertical"})),H.a.createElement(Q.a,{item:!0},H.a.createElement(uc,{document:t})))},gc=function(e){var t=e.document;return H.a.createElement(Q.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:1},H.a.createElement(Q.a,{item:!0},t.replace(".pdf","")),H.a.createElement(Q.a,{item:!0},H.a.createElement(Ne.a,{variant:"outlined"},H.a.createElement(Oc,{document:t}))))},Dc=function(e){var t=e.document;return H.a.createElement(Q.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:1},H.a.createElement(Q.a,{item:!0},t.replace(".pdf","")),H.a.createElement(Q.a,{item:!0},H.a.createElement(Ne.a,{variant:"outlined"},H.a.createElement(uc,{document:t}))))},yc=function(){var e=Object(Te.c)(_a.selectors.getPDFName),t=Object(Te.c)(Vn.selectors.getDocumentNames).filter((function(t){return t!==e})),n=H.a.useState(null),r=Object(Et.a)(n,2),a=r[0],c=r[1],o=function(){c(null)},i=Object(Te.b)(),u=fe();return H.a.createElement("div",null,H.a.createElement(he.a,{type:"button",onClick:function(e){c(e.currentTarget)}},H.a.createElement(Xa.a,null)),H.a.createElement(na.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:o,MenuListProps:{style:{paddingLeft:"8px",paddingRight:"8px"}}},e&&[H.a.createElement(bt.a,{key:u(),component:"span",variant:"h6"},dt.constants.activeDocumentText),H.a.createElement(Dc,{key:u(),document:e}),H.a.createElement(Ie.a,{key:u(),style:{marginTop:"6px"}})],t.length>0&&[H.a.createElement(bt.a,{key:u(),component:"span",variant:"h6"},dt.constants.existingDataText),H.a.createElement(bt.a,{key:u(),component:"span"},H.a.createElement("ul",{style:{listStyleType:"square"}},t.map((function(e){return e?H.a.createElement("li",{key:u()},H.a.createElement(gc,{document:e,key:u()})):null})))),H.a.createElement(Ie.a,{key:u(),style:{marginTop:"6px"}})],H.a.createElement(pc,{handleClose:o,label:"Load document"}),H.a.createElement(Ie.a,null),H.a.createElement(ra.a,{onClick:function(){i(Va()),o()}},H.a.createElement(Ya.a,{variant:"contained",color:"primary",disableElevation:!0,startIcon:H.a.createElement(Za.a,null)},dt.constants.downloadDatasetsText)),H.a.createElement(Ie.a,null),H.a.createElement(sc,{handleClose:o,label:dt.constants.uploadDatasetsText})))},jc=n(149),Cc=n.n(jc),Sc=function(){var e=Object(Te.b)(),t=Object(Te.c)(Ta.selectors.getRiverContentFilter),n=Object(B.useState)(t),r=Object(Et.a)(n,2),a=r[0],c=r[1];return H.a.createElement(Cc.a,{value:a,placeholder:"Search in cards",onChange:function(t){""===t&&e(Ta.actions.resetContentFilter()),c(t)},onCancelSearch:function(){e(Ta.actions.resetContentFilter())},onRequestSearch:function(){return e(Ta.actions.setContentFilter(a))}})},Tc=n(150),Ac=n.n(Tc),hc=n(151),Nc=n.n(hc),Ic=function(){var e=Object(Te.b)();return H.a.createElement(Ae.a,{title:dt.constants.undoTooltip,enterDelay:dt.constants.defaultEnterDelay,enterNextDelay:dt.constants.defaultEnterNextDelay},H.a.createElement("span",null,H.a.createElement(he.a,{type:"button",onClick:function(){e(La.ActionCreators.undo())}},H.a.createElement(Ac.a,null))))},Rc=function(){var e=Object(Te.b)();return H.a.createElement(Ae.a,{title:dt.constants.redoTooltip,enterDelay:dt.constants.defaultEnterDelay,enterNextDelay:dt.constants.defaultEnterNextDelay},H.a.createElement(he.a,{type:"button",onClick:function(){e(La.ActionCreators.redo())}},H.a.createElement(Nc.a,null)))},wc=function(){return H.a.createElement(Ne.a,{variant:"outlined"},H.a.createElement(Q.a,{container:!0,direction:"row"},H.a.createElement(Q.a,{item:!0},H.a.createElement(Ic,null)),H.a.createElement(Q.a,{item:!0},H.a.createElement(Ie.a,{orientation:"vertical"})),H.a.createElement(Q.a,{item:!0},H.a.createElement(Rc,null))))},Pc=n(152),Mc=n.n(Pc),kc=function(){var e=Object(Te.b)(),t=Object(Te.c)(Ta.selectors.getRiverShowState);return H.a.createElement(At.a,{control:H.a.createElement(Dr,{checked:"SHOW"===t,onClick:function(){e(Ta.actions.toggleRiverShowState())}}),label:"River"})},xc=function(){var e=Object(Te.b)(),t=Object(Te.c)(_a.selectors.getDisplayStatus);return H.a.createElement(At.a,{control:H.a.createElement(Dr,{checked:"SHOW"===t,onClick:function(){e(_a.actions.toggleDisplayState())}}),label:"Material"})},Uc=function(){var e=H.a.useState(null),t=Object(Et.a)(e,2),n=t[0],r=t[1];return H.a.createElement("div",null,H.a.createElement(he.a,{type:"button",onClick:function(e){r(e.currentTarget)}},H.a.createElement(Mc.a,null)),H.a.createElement(na.a,{anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:function(){r(null)}},H.a.createElement(bt.a,null,"Show:"),H.a.createElement(Ie.a,null),H.a.createElement(Q.a,{container:!0,direction:"row"},H.a.createElement(Q.a,{item:!0},H.a.createElement(Ta.components.RiverContentFormGroup,null)),H.a.createElement(Q.a,{item:!0},H.a.createElement(Ie.a,{orientation:"vertical"})),H.a.createElement(Q.a,{item:!0},H.a.createElement(Q.a,{container:!0,direction:"column"},H.a.createElement(Q.a,{item:!0},H.a.createElement(kc,null)),H.a.createElement(Q.a,{item:!0},H.a.createElement(xc,null)))))))},_c=function(){var e=Object(Te.c)(_a.selectors.getPDFName);return H.a.createElement(_a.components.PageKeyboardControl,null,H.a.createElement(za.a,null,H.a.createElement(Ja.a,{variant:"regular"},H.a.createElement(Q.a,{item:!0},H.a.createElement(Q.a,{container:!0,spacing:1,direction:"row",alignItems:"center",justify:"flex-start"},H.a.createElement(Q.a,{item:!0,style:{width:"20%"}},H.a.createElement(_a.components.PageChooser,null)),H.a.createElement(Q.a,{item:!0},H.a.createElement(_a.components.PageNavigation,null)),H.a.createElement(Q.a,{item:!0},H.a.createElement(wc,null)))),H.a.createElement(bt.a,{style:{flexGrow:1}},null===e||void 0===e?void 0:e.replace(".pdf","")),H.a.createElement(Sc,null),H.a.createElement(Uc,null),H.a.createElement(yc,null))))},Lc={actions:_,components:L,selectors:U};function Fc(){return H.a.createElement(B.Fragment,null,H.a.createElement(_a.components.WindowMeasurer,null),H.a.createElement(Q.a,{container:!0,justify:"center",direction:"column",alignItems:"stretch",spacing:1},H.a.createElement(Q.a,{item:!0},H.a.createElement(Lc.components.ControlBar,null)),H.a.createElement(Ja.a,{id:"back-to-top-anchor"}),H.a.createElement(Q.a,{item:!0},H.a.createElement(_a.components.PDFDocument,null))),H.a.createElement(ca.components.ContextMenu,null),H.a.createElement(ca.components.SelectionSnackbar,null))}var Bc,Hc=n(30),qc=n(153),Vc=n(68),Qc=n(154),Wc=n.n(Qc),Gc=Object(Vc.a)((function(e){return function(e){return Object(pt.a)(Object(pt.a)({},e),{},{documentRef:null,materialData:null,pdf:null})}(e)}),(function(e){return function(e){return Object(pt.a)(Object(pt.a)({},e),{},{pdf:void 0,spanOrigin:null,windowMeasurements:null})}(e)}),{whitelist:[_a.constants.NAME]}),zc={key:"root",storage:Wc.a,transforms:[Gc]},Jc=n(155),Yc=Object(Hc.combineReducers)((Bc={},Object(kn.a)(Bc,ca.constants.NAME,Fa()(ca.reducer,{filter:Object(La.includeAction)([ca.actionTypes.SELECTION_GOAL,ca.actionTypes.SELECTION_SOURCE])})),Object(kn.a)(Bc,Ta.constants.NAME,Fa()(Ta.reducer,{filter:Object(La.includeAction)([Wn.actionTypes.CARD_PUSH,Wn.actionTypes.CARD_REMOVE,Vn.actionTypes.LOAD_DOCUMENT_DATA_SETS])})),Object(kn.a)(Bc,_a.constants.NAME,_a.reducer),Object(kn.a)(Bc,Wn.constants.NAME,Fa()(Wn.reducer,{filter:Object(La.includeAction)([Vn.actionTypes.LOAD_DOCUMENT_DATA_SETS,Wn.actionTypes.CARD_PUSH,Wn.actionTypes.CARD_REPLACE,Wn.actionTypes.CARD_REMOVE])})),Object(kn.a)(Bc,Vn.constants.NAME,Fa()(Vn.reducer,{filter:Object(La.includeAction)([Vn.actionTypes.LOAD_DOCUMENT_DATA_SETS])})),Bc)),Kc=Object(Vc.b)(zc,Yc),Xc=Object(Jc.composeWithDevTools)({stateSanitizer:function(e){return e.displayData.pdf?Object(pt.a)(Object(pt.a)({},e),{},{displayData:Object(pt.a)(Object(pt.a)({},e.displayData),{},{pdf:"PDF_FILE_IS_HERE"})}):e}})(Object(Hc.applyMiddleware)(qc.a)),$c=Object(Hc.createStore)(Kc,Xc),Zc=Object(Vc.c)($c),eo=n(156);n(241),V.a.render(H.a.createElement(H.a.StrictMode,null,H.a.createElement(Te.a,{store:$c},H.a.createElement(eo.a,{loading:null,persistor:Zc},H.a.createElement(Fc,null)))),document.getElementById("root"))}},[[170,1,2]]]);
//# sourceMappingURL=main.f4e3ad79.chunk.js.map