(this.webpackJsonpclaymemory=this.webpackJsonpclaymemory||[]).push([[0],{180:function(e,t,n){e.exports=n(265)},205:function(e,t,n){},206:function(e,t,n){},227:function(e,t){},228:function(e,t){},229:function(e,t){},230:function(e,t){},231:function(e,t){},265:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"NAME",(function(){return J}));var a={};n.r(a),n.d(a,"PDF_UPLOADED",(function(){return Z})),n.d(a,"MATERIAL_LOADED",(function(){return K})),n.d(a,"DISPLAY_STATUS",(function(){return $})),n.d(a,"PAGE_UPDATE",(function(){return ee})),n.d(a,"ZOOM_QUEUE",(function(){return te})),n.d(a,"MATERIAL_DATA",(function(){return ne})),n.d(a,"MATERIAL_HEIGHT",(function(){return re}));var c={};n.r(c),n.d(c,"getAll",(function(){return ce})),n.d(c,"getPDF",(function(){return oe})),n.d(c,"getPDFName",(function(){return ie})),n.d(c,"getRenderCritialData",(function(){return ue})),n.d(c,"getTotalPages",(function(){return le})),n.d(c,"getCurrentPage",(function(){return se})),n.d(c,"getPageControlData",(function(){return de})),n.d(c,"getDocumentRef",(function(){return fe})),n.d(c,"getMaterialData",(function(){return me})),n.d(c,"getTimeStamp",(function(){return pe})),n.d(c,"getMaterialSpans",(function(){return Ee})),n.d(c,"getSpanIndex",(function(){return ve})),n.d(c,"getMaterialBoundingRects",(function(){return Oe})),n.d(c,"getDataExists",(function(){return be})),n.d(c,"getDisplayStatus",(function(){return De})),n.d(c,"displayStatusIsShow",(function(){return ge})),n.d(c,"getZoomQueue",(function(){return Ce})),n.d(c,"getMaterialHeight",(function(){return ye}));var o={};n.r(o),n.d(o,"NAME",(function(){return Se}));var i={};n.r(i),n.d(i,"ARCHIVE_CURRENT_DATA",(function(){return Ae})),n.d(i,"LOAD_DOCUMENT_DATA_SETS",(function(){return Ie})),n.d(i,"DELETE_DOCUMENT_DATA_SET",(function(){return Ne})),n.d(i,"DOCUMENT_CHANGE",(function(){return Me}));var u={};n.r(u),n.d(u,"archiveDBData",(function(){return Ue})),n.d(u,"loadDocumentDataSets",(function(){return Pe})),n.d(u,"deleteDocumentDataSet",(function(){return _e}));var l={};n.r(l),n.d(l,"getAll",(function(){return Fe})),n.d(l,"getDocumentDB",(function(){return Le})),n.d(l,"getDocumentNames",(function(){return Ve})),n.d(l,"getDocumentDataSets",(function(){return He}));var s={};n.r(s),n.d(s,"pdfUpload",(function(){return Ge})),n.d(s,"materialUploaded",(function(){return ze})),n.d(s,"materialLoaded",(function(){return We})),n.d(s,"tryInterval",(function(){return Xe})),n.d(s,"captureMaterialData",(function(){return Ye})),n.d(s,"setPage",(function(){return Je})),n.d(s,"movePage",(function(){return $e})),n.d(s,"nextPage",(function(){return et})),n.d(s,"previousPage",(function(){return tt})),n.d(s,"toggleDisplayState",(function(){return nt})),n.d(s,"setZoomQueue",(function(){return rt})),n.d(s,"zoomToCardOrigin",(function(){return at})),n.d(s,"emptyZoomQueue",(function(){return ct})),n.d(s,"setMaterialHeight",(function(){return ot})),n.d(s,"deleteDocument",(function(){return it}));var d={};n.r(d),n.d(d,"switchToActiveRiverTooltip",(function(){return Ot})),n.d(d,"switchToSummaryRiverTooltip",(function(){return bt})),n.d(d,"undoTooltip",(function(){return Dt})),n.d(d,"redoTooltip",(function(){return gt})),n.d(d,"nextPageTooltip",(function(){return Ct})),n.d(d,"previousPageTooltip",(function(){return yt})),n.d(d,"deleteCardTooltip",(function(){return jt})),n.d(d,"grabForCardTooltip",(function(){return Tt})),n.d(d,"jumpToOriginTooltip",(function(){return Rt})),n.d(d,"appendToCardTooltip",(function(){return ht})),n.d(d,"newQACardTooltip",(function(){return St})),n.d(d,"newNoteCardTooltip",(function(){return At})),n.d(d,"deleteDocumentTooltip",(function(){return It})),n.d(d,"loadSavedDocumentTooltip",(function(){return Nt})),n.d(d,"noMaterialText",(function(){return Mt})),n.d(d,"loadingMaterialText",(function(){return Ut})),n.d(d,"activeDocumentText",(function(){return Pt})),n.d(d,"existingDataText",(function(){return _t})),n.d(d,"loadMaterialText",(function(){return kt})),n.d(d,"downloadDatasetsText",(function(){return wt})),n.d(d,"uploadDatasetsText",(function(){return xt})),n.d(d,"noteText",(function(){return Ft})),n.d(d,"questionText",(function(){return Lt})),n.d(d,"answerText",(function(){return Vt})),n.d(d,"defaultEnterDelay",(function(){return Ht})),n.d(d,"defaultEnterNextDelay",(function(){return qt}));var f={};n.r(f),n.d(f,"NewNoteCardTooltip",(function(){return Qt})),n.d(f,"AddQAButtonTooltip",(function(){return Bt})),n.d(f,"AppendButtonTooltip",(function(){return zt})),n.d(f,"DeleteCardButtonTooltip",(function(){return Gt}));var m={};n.r(m),n.d(m,"NAME",(function(){return an}));var p={};n.r(p),n.d(p,"FOCUS_UPDATE",(function(){return cn})),n.d(p,"DISPLAY_FOCUS_UPDATE",(function(){return on}));var E={};n.r(E),n.d(E,"getAll",(function(){return un})),n.d(E,"getFocus",(function(){return ln})),n.d(E,"getDisplayFocus",(function(){return sn}));var v={};n.r(v),n.d(v,"updateFocus",(function(){return dn})),n.d(v,"tryUpdateFocus",(function(){return fn})),n.d(v,"toggleContextMenuFocus",(function(){return mn})),n.d(v,"updateDisplayFocus",(function(){return pn}));var O={};n.r(O),n.d(O,"RiverControlFocusUpdater",(function(){return vn}));var b={};n.r(b),n.d(b,"PageChooser",(function(){return tn})),n.d(b,"PageNavigation",(function(){return Jt})),n.d(b,"MaterialDisplayColumnWithSize",(function(){return yn}));var D={};n.r(D),n.d(D,"NAME",(function(){return Rn}));var g={};n.r(g),n.d(g,"transformInputOrigin",(function(){return Nn}));var C={};n.r(C),n.d(C,"NAME",(function(){return Mn}));var y={};n.r(y),n.d(y,"CARD_UPDATE",(function(){return Un})),n.d(y,"CARD_PUSH",(function(){return Pn})),n.d(y,"CARD_REMOVE",(function(){return _n})),n.d(y,"CARD_GOAL",(function(){return kn}));var j={};n.r(j),n.d(j,"getAll",(function(){return xn})),n.d(j,"getLastCardIDNumber",(function(){return Fn})),n.d(j,"getCards",(function(){return Ln})),n.d(j,"getGoalCard",(function(){return Vn}));var T={};n.r(T),n.d(T,"cardPush",(function(){return Bn})),n.d(T,"emptyCard",(function(){return Gn})),n.d(T,"emptyNoteCard",(function(){return zn})),n.d(T,"emptyQACard",(function(){return Wn})),n.d(T,"cardUpdate",(function(){return Xn})),n.d(T,"updateCardContent",(function(){return Yn})),n.d(T,"pushCardContent",(function(){return Jn})),n.d(T,"removeCard",(function(){return Zn})),n.d(T,"setGoalCard",(function(){return Kn})),n.d(T,"resetGoalCard",(function(){return $n}));var R={};n.r(R),n.d(R,"AddNoteButton",(function(){return nr})),n.d(R,"AddQAButton",(function(){return cr})),n.d(R,"DeleteCardButton",(function(){return ur}));var h={};n.r(h),n.d(h,"getAll",(function(){return fr})),n.d(h,"getRiverMakeUps",(function(){return mr})),n.d(h,"getActiveRiverMakeUpID",(function(){return pr})),n.d(h,"getPushToRiver",(function(){return Er})),n.d(h,"getPushToRiverMakeUp",(function(){return vr})),n.d(h,"getActiveRiverMakeUp",(function(){return Or})),n.d(h,"getPushToRiverCardIDs",(function(){return br})),n.d(h,"getPushToRiverCards",(function(){return Dr})),n.d(h,"getActiveRiverCardIDs",(function(){return gr})),n.d(h,"getActiveRiverCards",(function(){return Cr})),n.d(h,"getRiverShowState",(function(){return yr})),n.d(h,"riverShowStateIsShow",(function(){return jr})),n.d(h,"getHoveredCardData",(function(){return Tr})),n.d(h,"getSourceCard",(function(){return Rr})),n.d(h,"getLastRiverIDNumber",(function(){return hr})),n.d(h,"getRiverContentState",(function(){return Sr})),n.d(h,"getRiverContentFilter",(function(){return Ar}));var S={};n.r(S),n.d(S,"toggleRiverShowState",(function(){return kr})),n.d(S,"setRiverContentState",(function(){return wr})),n.d(S,"setPushToRiver",(function(){return xr})),n.d(S,"trySetPushToRiver",(function(){return Fr})),n.d(S,"setHoveredCard",(function(){return Lr})),n.d(S,"trySetHoveredCard",(function(){return Vr})),n.d(S,"setSourceCard",(function(){return Hr})),n.d(S,"trySetSourceCard",(function(){return qr})),n.d(S,"resetSourceCard",(function(){return Qr})),n.d(S,"tryResetSourceCard",(function(){return Br})),n.d(S,"setContentFilter",(function(){return Gr}));var A={};n.r(A),n.d(A,"NAME",(function(){return Kr}));var I={};n.r(I),n.d(I,"SELECTED_STRING",(function(){return $r})),n.d(I,"SELECTED_PARENT",(function(){return ea})),n.d(I,"DOCUMENT_POSITION",(function(){return ta}));var N={};n.r(N),n.d(N,"getAll",(function(){return na})),n.d(N,"getCurrentSelectionPosition",(function(){return ra})),n.d(N,"getCurrentSelectedString",(function(){return aa})),n.d(N,"getCurrentSelectedParent",(function(){return ca})),n.d(N,"getCurrentOrigin",(function(){return oa}));var M={};n.r(M),n.d(M,"selectionToCardAppend",(function(){return ia})),n.d(M,"selectionToCard",(function(){return ua})),n.d(M,"selectionToCardForSourceCard",(function(){return la})),n.d(M,"updateManuallySelectedString",(function(){return sa})),n.d(M,"resetManuallySelectedString",(function(){return da})),n.d(M,"selectedParent",(function(){return fa})),n.d(M,"updateSelectionPosition",(function(){return ma}));var U={};n.r(U),n.d(U,"SelectionSnackbar",(function(){return Da}));var P={};n.r(P),n.d(P,"getSelection",(function(){return ga}));var _={};n.r(_),n.d(_,"ActiveCardRiver",(function(){return Wa})),n.d(_,"SummaryRiver",(function(){return za})),n.d(_,"RiverContentFormGroup",(function(){return Jr}));var k={};n.r(k),n.d(k,"collectCurrentDBData",(function(){return tc}));var w={};n.r(w),n.d(w,"archiveCurrentDBData",(function(){return nc})),n.d(w,"downloadDBData",(function(){return ac})),n.d(w,"changeDocument",(function(){return cc})),n.d(w,"loadSavedDocument",(function(){return oc}));var x={};n.r(x),n.d(x,"NAME",(function(){return uc}));var F={};n.r(F),n.d(F,"TOGGLE_CONTEXT_MENU",(function(){return lc})),n.d(F,"CLOSE_CONTEXT_MENU",(function(){return sc})),n.d(F,"OPEN_CONTEXT_MENU",(function(){return dc}));var L={};n.r(L),n.d(L,"getAll",(function(){return fc})),n.d(L,"getContextMenuState",(function(){return mc})),n.d(L,"getContextMenuRef",(function(){return pc})),n.d(L,"getContextMenuFullCardsRef",(function(){return Ec})),n.d(L,"getContextMenuQARefs",(function(){return vc})),n.d(L,"getContextMenuInitData",(function(){return Oc}));var V={};n.r(V),n.d(V,"toggleContextMenu",(function(){return bc})),n.d(V,"closeContextMenu",(function(){return Dc})),n.d(V,"openContextMenu",(function(){return gc}));var H={};n.r(H),n.d(H,"ContextMenuContainer",(function(){return kc}));var q={};n.r(q),n.d(q,"contextMenuContainsTargetNode",(function(){return wc}));var Q={};n.r(Q),n.d(Q,"ControlContainer",(function(){return Gc})),n.d(Q,"ControlBar",(function(){return Fo}));var B=n(0),G=n.n(B),z=n(15),W=n.n(z),X=n(304),Y=n(3),J="displayData",Z=J+"/PDF_UPLOADED",K=J+"/MATERIAL_LOADED",$=J+"/DISPLAY_STATUS",ee=J+"/PAGE_UPDATE",te=J+"/ZOOM_QUEUE",ne=J+"/MATERIAL_DATA",re=J+"/MATERIAL_HEIGHT",ae=n(10),ce=function(e){return e[J]},oe=Object(ae.a)(ce,(function(e){return{pdf:e.pdf?e.pdf:null}})),ie=Object(ae.a)(ce,(function(e){return e.pdfName})),ue=Object(ae.a)(ce,(function(e){return{pdf:e.pdf,currentPage:e.currentPage,documentRef:e.documentRef}})),le=Object(ae.a)(ce,(function(e){return e.totalPages})),se=Object(ae.a)(ce,(function(e){return e.currentPage})),de=Object(ae.a)(le,se,(function(e,t){return{currentPage:t,totalPages:e}})),fe=Object(ae.a)(ce,(function(e){return e.documentRef})),me=Object(ae.a)(ce,(function(e){return e.materialData})),pe=Object(ae.a)(me,(function(e){return e.materialDataTimeStamp})),Ee=Object(ae.a)(me,(function(e){return e.materialSpans})),ve=function(e,t){return Ee(e).indexOf(t)},Oe=Object(ae.a)(me,(function(e){return e.materialBoundingRects})),be=Object(ae.a)(pe,(function(e){return e>0})),De=Object(ae.a)(ce,(function(e){return e.displayStatus})),ge=Object(ae.a)(De,(function(e){return"SHOW"===e})),Ce=Object(ae.a)(ce,(function(e){return e.zoomQueue})),ye=Object(ae.a)(ce,(function(e){return e.materialHeight})),je=function(){var e=0;return function(){var t=e;return e++,t}},Te=n(61),Re=function(e){return{span:e,rect:e.getBoundingClientRect()}},he=function(e){var t=Array.from(e.querySelectorAll("span"));if(0===t.length)return null;var n=function(e){var t,n=[],r=[],a=Object(Te.a)(e);try{for(a.s();!(t=a.n()).done;){var c=t.value;n.push(c.span),r.push(c.rect)}}catch(o){a.e(o)}finally{a.f()}return{spans:n,boundingRects:r}}(function(e){return e.map(Re)}(t).sort((function(e,t){return e.rect.y-t.rect.y})));return{materialSpans:n.spans,materialBoundingRects:n.boundingRects}},Se="documentDB",Ae=Se+"/ARCHIVE_CURRENT_DATA",Ie=Se+"/LOAD_DOCUMENT_DATA_SETS",Ne=Se+"/DELETE_DOCUMENT_DATA_SET",Me=Se+"/DOCUMENT_CHANGE",Ue=function(e){return{type:Ae,payload:e}},Pe=function(e,t){return{type:Ie,payload:{dbData:e,newActiveDataSet:t}}},_e=function(e){return{type:Ne,payload:e}},ke=n(24),we={documentDB:{}},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Ae:return Object(Y.a)(Object(Y.a)({},e),{},{documentDB:Object(Y.a)(Object(Y.a)({},e.documentDB),{},Object(ke.a)({},r.name,r))});case Ie:return Object(Y.a)(Object(Y.a)({},e),{},{documentDB:Object(Y.a)(Object(Y.a)({},e.documentDB),r.dbData.reduce((function(e,t){return e[t.name]=t,e}),{}))});case Ne:return Object(Y.a)(Object(Y.a)({},e),{},{documentDB:Object.fromEntries(Object.entries(e.documentDB).filter((function(e){return e[0]!==r})))});default:return e}},Fe=function(e){return e[Se].present},Le=Object(ae.a)(Fe,(function(e){return e.documentDB})),Ve=Object(ae.a)(Le,(function(e){return Object.keys(e)})),He=Object(ae.a)(Le,(function(e){return Object.values(e)})),qe={actions:u,actionTypes:i,constants:o,reducer:xe,selectors:l},Qe=n(27),Be=n.n(Qe),Ge=function(e){return{type:Z,payload:e}},ze=function(e){return function(t){var n=e.target.files,r=n?n[0]:null;r&&t(Ge(r))}},We=function(e){return{type:K,payload:e}},Xe=function(e,t,n){var r=je(),a=setInterval((function(){(r()>e||n())&&clearInterval(a)}),t)};function Ye(e){return function(t,n){var r=n(),a=e.current;if(a){var c=Date.now(),o=he(a);if(o&&pe(r)<c){var i=Object(Y.a)(Object(Y.a)({},o),{},{materialDataTimeStamp:c});t({type:ne,payload:i})}else Xe(10,20,(function(){var e=he(a);if(e&&pe(n())<c){var r=Object(Y.a)(Object(Y.a)({},e),{},{materialDataTimeStamp:c});return t({type:ne,payload:r}),!0}return!1}))}}}var Je=function(e){return{type:ee,payload:e}},Ze=function(e,t){return e===t+1?1:e},Ke=function(e,t){return 0===e?t:e},$e=function(e){return function(t,n){var r=de(n()),a=r.currentPage,c=r.totalPages;switch(e){case"NEXT":t({type:ee,payload:Ze(a+1,c)});break;case"PREVIOUS":t({type:ee,payload:Ke(a-1,c)})}}},et=function(){return $e("NEXT")},tt=function(){return $e("PREVIOUS")},nt=function(){return function(e,t){var n="SHOW"===De(t())?"HIDE":"SHOW";e({type:$,payload:n})}},rt=function(e){return{type:te,payload:e}},at=function(e,t){return function(n){console.log(t,e),n(Je(t)),n(rt(e))}},ct=function(){return function(e,t){var n=t(),r=Ce(n);if(r){var a=Ee(n);if(a)a[r].scrollIntoView({behavior:"smooth",block:"center",inline:"center"});e(rt(null))}}},ot=function(e){return{type:re,payload:e}},it=function(e){return function(t,n){var r=n(),a=ie(r);a&&a===e&&(t({type:qe.actionTypes.DOCUMENT_CHANGE}),t(Qe.ActionCreators.clearHistory())),t(qe.actions.deleteDocumentDataSet(e))}},ut=n(6),lt=n(326),st=n(109),dt=n(303),ft=n(305),mt=n(141),pt=n.n(mt),Et=n(140),vt=n.n(Et),Ot="Switch to the Active-River view",bt="Switch to the Summary-River view",Dt="Undo last action",gt="Redo last action",Ct="Next page",yt="Previous page",jt="Delete this card",Tt="Activate the document-selection grab for this card(-field)",Rt="Jump to the origin of the card content",ht="Add the current selection to this card (only from document)",St="Create new QA-card",At="Create new Note-card",It="Delete this document and all its corresponding cards",Nt="Load the card data of this document",Mt="No PDF file specified.",Ut="Loading PDF\u2026",Pt="Active Document:",_t="Inactive documents with existing data:",kt="Load document",wt="Download document datasets",xt="Upload document datasets",Ft="Note",Lt="Question",Vt="Answer",Ht=500,qt=1e3,Qt=function(e){var t=e.children;return G.a.createElement(lt.a,{title:At,enterDelay:Ht,enterNextDelay:qt},t)},Bt=function(e){var t=e.children;return G.a.createElement(lt.a,{title:St,enterDelay:Ht,enterNextDelay:qt},t)},Gt=function(e){var t=e.children;return G.a.createElement(lt.a,{title:jt,enterDelay:Ht,enterNextDelay:qt},t)},zt=function(e){var t=e.children;return G.a.createElement(lt.a,{title:ht,enterDelay:Ht,enterNextDelay:qt},t)},Wt={components:f,constants:d},Xt=function(){var e=Object(ut.c)();return G.a.createElement(lt.a,{title:Wt.constants.previousPageTooltip,enterDelay:Wt.constants.defaultEnterDelay,enterNextDelay:Wt.constants.defaultEnterNextDelay},G.a.createElement(st.a,{type:"button",onClick:function(){e(tt())}},G.a.createElement(vt.a,null)))},Yt=function(){var e=Object(ut.c)();return G.a.createElement(lt.a,{title:Wt.constants.nextPageTooltip,enterDelay:Wt.constants.defaultEnterDelay,enterNextDelay:Wt.constants.defaultEnterNextDelay},G.a.createElement(st.a,{type:"button",onClick:function(){e(et())}},G.a.createElement(pt.a,null)))},Jt=function(){return G.a.createElement(dt.a,{variant:"outlined"},G.a.createElement(X.a,{container:!0,direction:"row"},G.a.createElement(X.a,{item:!0},G.a.createElement(Xt,null)),G.a.createElement(X.a,{item:!0},G.a.createElement(ft.a,{orientation:"vertical"})),G.a.createElement(X.a,{item:!0},G.a.createElement(Yt,null))))},Zt=n(23),Kt=n(322),$t=n(113),en=/(\D)/,tn=function(){var e=Object(ut.c)(),t=Object(ut.d)(de),n=t.currentPage,r=t.totalPages,a=Object(B.useState)({error:!1,value:null===n||void 0===n?void 0:n.toString(),userInput:null===n||void 0===n?void 0:n.toString()}),c=Object(Zt.a)(a,2),o=c[0],i=c[1];return o.value!==n.toString()&&i({error:!1,value:n.toString(),userInput:n.toString()}),G.a.createElement(dt.a,{variant:"outlined"},G.a.createElement(X.a,{item:!0},G.a.createElement(X.a,{container:!0,direction:"row",alignItems:"center",justify:"space-between"},G.a.createElement(X.a,{item:!0,style:{width:"37%"}},G.a.createElement(Kt.a,{inputProps:{style:{padding:"0px",fontSize:"1.25rem",fontFamily:'"Roboto", "Helvetica", "Arial", sansSerif',fontWeight:500,lineHeight:1.6,letterSpacing:"0.0075em"}},type:"text",variant:"filled",value:o.userInput,onKeyDown:function(t){if("Enter"===t.key){t.preventDefault();var n=t.target.value;o.error||e(Je(parseInt(n)))}},onChange:function(e){var t=e.target.value;!function(e,t){if(""===e||null!==e.trim().match(en))return!1;var n=parseInt(e);return!(n<1||t<n)}(t,r)?i(Object(Y.a)(Object(Y.a)({},o),{},{error:!0,userInput:t})):i(Object(Y.a)(Object(Y.a)({},o),{},{error:!1,userInput:t}))},error:o.error})),G.a.createElement(X.a,{item:!0,style:{width:"61%"}},G.a.createElement($t.a,{variant:"h6"},"of ",r)))))},nn=n(142),rn=n(93),an="appFocus",cn=an+"/FOCUS_UPDATE",on=an+"/DISPLAY_FOCUS_UPDATE",un=function(e){return e[an]},ln=Object(ae.a)(un,(function(e){return e.userFocus})),sn=Object(ae.a)(un,(function(e){return e.displayFocus})),dn=function(e){return{type:cn,payload:e}},fn=function(e){return function(t,n){ln(n())!==e&&t(dn(e))}},mn=function(){return function(e,t){switch(ln(t())){case"CONTEXT_MENU":e(dn("DOCUMENT"));break;case"DOCUMENT":e(dn("CONTEXT_MENU"))}}},pn=function(e){return{type:on,payload:e}},En={userFocus:"CONTROL",displayFocus:"ACTIVE_RIVER"},vn=function(e){var t=e.children;return G.a.createElement(On,{userFocus:"RIVER_CONTROL"},t)},On=function(e){var t=e.userFocus,n=e.children,r=Object(ut.c)();return G.a.createElement("span",{onMouseEnter:function(){r(fn(t))}},n)},bn={actions:v,constants:m,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case cn:return Object(Y.a)(Object(Y.a)({},e),{},{userFocus:r});case on:return Object(Y.a)(Object(Y.a)({},e),{},{displayFocus:r});default:return e}},selectors:E,actionTypes:p,components:O},Dn=(n(205),n(206),n(76));Dn.c.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(Dn.c.version,"/pdf.worker.js");var gn={cMapUrl:"cmaps/",cMapPacked:!0};var Cn=Object(ut.b)(ue,{materialLoaded:We,captureMaterialData:Ye})((function(e){var t=e.parentSize,n=e.pdf,r=e.currentPage,a=e.materialLoaded,c=e.captureMaterialData,o=e.documentRef,i=Object(ut.c)(),u=Object(ut.d)(ye);Object(B.useLayoutEffect)((function(){u||i(ot(t.height)),u&&u!==t.height&&i(ot(t.height))}),[i,u,t.height]);var l=Object(ut.d)(Ce);return Object(B.useEffect)((function(){l&&n&&i(ct())}),[l,n,i]),G.a.createElement(Dn.a,{file:n,options:gn,onLoadSuccess:function(e){var t=e.numPages;a(t)},inputRef:o,onItemClick:function(e){var t=e.pageNumber;i(Je(parseInt(t)))},loading:Wt.constants.loadingMaterialText,noData:Wt.constants.noMaterialText},n&&G.a.createElement(Dn.b,{width:t.width,pageNumber:r,onRenderSuccess:function(){document.querySelectorAll(".react-pdf__Page__textContent").forEach((function(e){var t=e.style;t.top="0",t.left="0",t.transform=""})),c(o)}}))}));var yn=Object(nn.withSize)({monitorHeight:!0,noPlaceholder:!0})((function(e){var t=e.size,n=e.hidden,r=Object(ut.c)(),a=Object(B.useState)(3),c=Object(Zt.a)(a,2),o=c[0],i=c[1];return G.a.createElement(X.a,{item:!0,style:{width:"60%"},onMouseEnter:function(){r(bn.actions.tryUpdateFocus("DOCUMENT")),i(20)},onMouseLeave:function(){i(3)},hidden:n},G.a.createElement(rn.a,{elevation:o},G.a.createElement(Cn,{parentSize:t})))})),jn={displayStatus:"SHOW",totalPages:1e3,currentPage:1,documentRef:Object(B.createRef)(),pageSpans:{},zoomQueue:null,materialData:{materialDataTimeStamp:-1/0}},Tn={actions:s,actionTypes:a,components:b,constants:r,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jn,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Z:return Object(Y.a)(Object(Y.a)({},e),{},{pdf:r,pdfName:r.name});case qe.actionTypes.DOCUMENT_CHANGE:return r?r.name===e.pdfName?e:Object(Y.a)(Object(Y.a)({},jn),{},{pdf:void 0,pdfName:r.name,totalPages:r.totalPages,currentPage:r.currentPage}):e;case K:return Object(Y.a)(Object(Y.a)({},e),{},{totalPages:r});case ee:return Object(Y.a)(Object(Y.a)({},e),{},{currentPage:r});case $:return Object(Y.a)(Object(Y.a)({},e),{},{displayStatus:r});case ne:return Object(Y.a)(Object(Y.a)({},e),{},{materialData:r,pageSpans:Object(Y.a)(Object(Y.a)({},e.pageSpans),{},Object(ke.a)({},e.currentPage,r.materialSpans.length-1))});case re:return Object(Y.a)(Object(Y.a)({},e),{},{materialHeight:r});case te:return Object(Y.a)(Object(Y.a)({},e),{},{zoomQueue:r});default:return e}},selectors:c},Rn="cardRiverState",hn=n(306),Sn=n(307),An=n(51),In=function(e,t){return e[t]},Nn=function(e,t,n,r){return r?t===n?function(e,t){return Object(Y.a)(Object(Y.a)({},t),e)}(e,r):"note"===t&&function(e){return!Object(An.isNullOrUndefined)(e.q)}(r)?Object(Y.a)(Object(Y.a)({},r),{},Object(ke.a)({},n,e)):"note"===n?In(e,t):"q"===n?{q:e.a,a:r.a}:{a:e.q,q:r.q}:t===n?e:"note"===t?function(e,t){return Object(ke.a)({q:{},a:{}},t,e)}(e,n):"note"===n?In(e,t):function(e,t,n){var r;return r={},Object(ke.a)(r,t,{}),Object(ke.a)(r,n,e[t]),r}(e,t,n)},Mn="cards",Un=Mn+"/CARD_UPDATE",Pn=Mn+"/CARD_PUSH",_n=Mn+"/CARD_REMOVE",kn=Mn+"/CARD_GOAL",wn=function(e){switch(e){case"Note":return{type:"Note",content:""};case"Q-A":return{type:"Q-A",content:{q:"",a:""}}}},xn=function(e){return e[Mn].present},Fn=Object(ae.a)(xn,(function(e){return e.lastCardIDNumber})),Ln=Object(ae.a)(xn,(function(e){return e.cards})),Vn=Object(ae.a)(xn,(function(e){return e.goalCard})),Hn={REPLACE:function(e,t){return t},APPEND:function(e,t){return e+t}},qn={note:function(e,t){return Object(Y.a)(Object(Y.a)({},e),{},{content:t(e.content)})},q:function(e,t){var n=e.content;return Object(Y.a)(Object(Y.a)({},e),{},{content:Object(Y.a)(Object(Y.a)({},n),{},{q:t(n.q)})})},a:function(e,t){var n=e.content;return Object(Y.a)(Object(Y.a)({},e),{},{content:Object(Y.a)(Object(Y.a)({},n),{},{a:t(n.a)})})}},Qn=function(e,t,n,r,a){var c=function(e,t){return function(n){return Hn[e](n,t)}}(r,e);return!!a?qn[n](a,c):qn[n]({type:t,content:"Q-A"===t?{q:"",a:""}:""},c)},Bn=function(e){return function(t,n){var r;t({type:Pn,payload:Object(Y.a)(Object(Y.a)({},e),{},{card:Object(Y.a)(Object(Y.a)({},e.card),{},{cardID:(r=Fn(n()),(r+1).toString())})})})}},Gn=function(e){return Bn({card:wn(e)})},zn=function(){return Gn("Note")},Wn=function(){return Gn("Q-A")},Xn=function(e){return{type:Un,payload:e}},Yn=function(e,t,n,r,a){return function(c,o){var i=o(),u=Ln(i)[t],l=Qn(e,u.type,n,r,u);c(Xn({card:Object(Y.a)(Object(Y.a)({},l),{},{origin:a})}))}},Jn=function(e,t,n,r,a){var c=Qn(e,r,t,n);return Bn({card:Object(Y.a)(Object(Y.a)({},c),{},{origin:a})})},Zn=function(e){return{type:_n,payload:e}},Kn=function(e,t){return{type:kn,payload:Object(Y.a)(Object(Y.a)({},e),{},{creationType:t})}},$n=function(){return{type:kn,payload:null}},er=n(144),tr=n.n(er),nr=function(){var e=Object(ut.c)();return G.a.createElement(Wt.components.NewNoteCardTooltip,null,G.a.createElement(st.a,{type:"button",onClick:function(){e(zn())}},G.a.createElement(tr.a,null)))},rr=n(145),ar=n.n(rr),cr=function(){var e=Object(ut.c)();return G.a.createElement(Wt.components.AddQAButtonTooltip,null,G.a.createElement(st.a,{type:"button",onClick:function(){e(Wn())}},G.a.createElement(ar.a,null)))},or=n(146),ir=n.n(or),ur=function(e){var t=e.cardID,n=Object(ut.c)();return G.a.createElement(Wt.components.DeleteCardButtonTooltip,null,G.a.createElement(st.a,{type:"button",onClick:function(){n(Zn(t))}},G.a.createElement(ir.a,{fontSize:"small"})))},lr={cards:{0:{cardID:"0",type:"Q-A",content:{q:"Was ist der Sinn des Lebens?",a:"42"}},1:{cardID:"1",type:"Q-A",content:{q:"Welches Layout macht mehr Sinn?",a:"??"}},2:{cardID:"2",type:"Note",content:"Note here"}},lastCardIDNumber:2,goalCard:null},sr=function(e,t){var n=Object(Y.a)({},e.cards);return delete n[t],Object(Y.a)(Object(Y.a)({},e),{},{cards:n})},dr={services:g,constants:C,actionTypes:y,actions:T,reducer:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lr,r=arguments.length>1?arguments[1]:void 0,a=r.type,c=r.payload;switch(a){case Pn:var o=n.lastCardIDNumber+1;return(t=Object(Y.a)({},n.cards))[c.card.cardID]=c.card,Object(Y.a)(Object(Y.a)({},n),{},{cards:t,lastCardIDNumber:o});case Un:return e=c.card.cardID,(t=Object(Y.a)({},n.cards))[e]=c.card,Object(Y.a)(Object(Y.a)({},n),{},{cards:t});case _n:return sr(n,c);case kn:return Object(Y.a)(Object(Y.a)({},n),{},{goalCard:c});case qe.actionTypes.DOCUMENT_CHANGE:return c?Object(Y.a)(Object(Y.a)({},lr),{},{cards:c.cards,lastCardIDNumber:c.lastCardIDNumber}):lr;case qe.actionTypes.LOAD_DOCUMENT_DATA_SETS:return c.newActiveDataSet?Object(Y.a)(Object(Y.a)({},lr),{},{cards:c.newActiveDataSet.cards,lastCardIDNumber:c.newActiveDataSet.lastCardIDNumber}):n;default:return n}},selectors:j,components:R},fr=function(e){return e[Rn].present},mr=Object(ae.a)(fr,(function(e){return e.riverMakeUps})),pr=Object(ae.a)(fr,(function(e){return e.activeRiverMakeUpID})),Er=Object(ae.a)(fr,(function(e){return e.pushToRiverID})),vr=Object(ae.a)(mr,Er,(function(e,t){return e[t]})),Or=Object(ae.a)(mr,pr,(function(e,t){return e[t]})),br=Object(ae.a)(vr,(function(e){return e.cardIDs})),Dr=Object(ae.a)(br,dr.selectors.getCards,(function(e,t){return e.map((function(e){return t[e]}))})),gr=Object(ae.a)(Or,(function(e){return e.cardIDs})),Cr=Object(ae.a)(gr,dr.selectors.getCards,(function(e,t){return e.map((function(e){return t[e]}))})),yr=Object(ae.a)(fr,(function(e){return e.riverShowState})),jr=Object(ae.a)(yr,(function(e){return"SHOW"===e})),Tr=Object(ae.a)(fr,(function(e){return{id:e.highlightedCardID,field:e.highlightedCardField}})),Rr=Object(ae.a)(fr,dr.selectors.getCards,(function(e,t){return e.sourceCard&&t[e.sourceCard]?e.sourceCard:null})),hr=Object(ae.a)(fr,(function(e){return e.lastRiverIDNumber})),Sr=Object(ae.a)(fr,(function(e){return e.riverContentState})),Ar=Object(ae.a)(fr,(function(e){return e.contentFilter})),Ir=Rn+"/RIVER_SHOW_STATE",Nr=Rn+"/RIVER_CONTENT_STATE",Mr=Rn+"/RIVER_PUSH_STATE",Ur=Rn+"/RIVER_HOVERED_CARD",Pr=Rn+"/RIVER_CARD_SOURCE",_r=Rn+"/RIVER_CONTENT_FILTER",kr=function(){return function(e,t){e({type:Ir,payload:jr(t())?"HIDE":"SHOW"})}},wr=function(e){return{type:Nr,payload:e}},xr=function(e){return{type:Mr,payload:e}},Fr=function(e){return function(t,n){Er(n())!==e&&t(xr(e))}},Lr=function(e,t){return{payload:{id:e,field:t},type:Ur}},Vr=function(e,t){return function(n,r){var a=r(),c=Tr(a);c.id===e&&c.field===t||n(Lr(e,t))}},Hr=function(e,t){return{type:Pr,payload:{origin:t,sourceField:e}}},qr=function(e,t){return function(n,r){var a=Rr(r());a&&a.sourceField===e&&a.origin===t||n(Hr(e,t))}},Qr=function(){return{type:Pr,payload:null}},Br=function(){return function(e,t){null!==Rr(t())&&e(Qr())}},Gr=function(e){return{type:_r,payload:e}},zr=n(7),Wr=n(324),Xr=n(98),Yr=Object(zr.a)({root:{color:Xr.a[400],"&$checked":{color:Xr.a[600]}},checked:{}})((function(e){return G.a.createElement(Wr.a,Object.assign({color:"default"},e))})),Jr=function(){var e=Object(ut.d)(Sr),t=Object(ut.c)(),n="ALL"===e||"QAS"===e,r="ALL"===e||"NOTES"===e,a=function(e){n||"QAS"!==e?r||"NOTES"!==e?n&&"QAS"===e?t(wr(r?"NOTES":"NONE")):r&&"NOTES"===e&&t(wr(n?"QAS":"NONE")):t(wr(n?"ALL":"NOTES")):t(wr(r?"ALL":"QAS"))};return G.a.createElement(hn.a,null,G.a.createElement(Sn.a,{control:G.a.createElement(Yr,{checked:n,onClick:function(){a("QAS")}}),label:"QAs"}),G.a.createElement(Sn.a,{control:G.a.createElement(Yr,{checked:r,onClick:function(){a("NOTES")}}),label:"Notes"}))},Zr=n(75),Kr="selectionData",$r=Kr+"/SELECTED_STRING",ea=Kr+"/SELECTED_PARENT",ta=Kr+"/SELECTION_POSITION",na=function(e){return e[Kr].present},ra=Object(ae.a)(na,(function(e){return e.selectionPosition})),aa=Object(ae.a)(na,(function(e){return e.manuallySelectedString})),ca=Object(ae.a)(na,(function(e){return e.selectedParentSpan})),oa=Object(ae.a)((function(e){return e}),Tn.selectors.getCurrentPage,ca,(function(e,t,n){return{spanIndex:Tn.selectors.getSpanIndex(e,n),page:t}})),ia=function(e,t,n){return function(r,a){var c,o=a(),i=void 0!==n,u=aa(o),l=ca(o)?oa(o):void 0;l&&(c=dr.services.transformInputOrigin(l,"note",t,i?dr.selectors.getCards(o)[n].origin:void 0)),r(i?dr.actions.updateCardContent(u,n,t,"APPEND",c):dr.actions.pushCardContent(u,t,"APPEND",e,c)),r(da())}},ua=function(e,t,n){return function(r,a){var c,o=a(),i=void 0!==n,u=aa(o),l=ca(o)?oa(o):void 0;l&&(c=dr.services.transformInputOrigin(l,"note",t,i?dr.selectors.getCards(o)[n].origin:void 0)),r(i?dr.actions.updateCardContent(u,n,t,"REPLACE",c):dr.actions.pushCardContent(u,t,"REPLACE",e,c)),r(da())}},la=function(e,t,n,r,a){return function(c,o){var i=o(),u=void 0!==a,l=function(e){var t,n;return!!e&&(!Object(An.isNullOrUndefined)(e.spanIndex)||!Object(An.isNullOrUndefined)(null===(t=e.a)||void 0===t?void 0:t.spanIndex)||!Object(An.isNullOrUndefined)(null===(n=e.q)||void 0===n?void 0:n.spanIndex))}(r)?dr.services.transformInputOrigin(r,n,t,u?dr.selectors.getCards(i)[a].origin:void 0):void 0,s=aa(i);c(u?dr.actions.updateCardContent(s,a,t,"REPLACE",l):dr.actions.pushCardContent(s,t,"REPLACE",e,l)),c(da())}},sa=function(e){return{type:$r,payload:e}},da=function(){return sa("")},fa=function(e){return{type:ea,payload:e}},ma=function(e,t){return{type:ta,payload:{x:e,y:t}}},pa={manuallySelectedString:"",selectedParentSpan:null,selectionPosition:{x:0,y:0}},Ea=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pa,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case $r:return Object(Y.a)(Object(Y.a)({},e),{},{manuallySelectedString:r});case ea:return Object(Y.a)(Object(Y.a)({},e),{},{selectedParentSpan:r});case ta:return Object(Y.a)(Object(Y.a)({},e),{},{selectionPosition:r});default:return e}},va=n(327),Oa=n(147),ba=n.n(Oa),Da=function(){var e=Object(B.useState)(!1),t=Object(Zt.a)(e,2),n=t[0],r=t[1],a=Object(ut.c)(),c=Object(ut.d)(aa);""===c&&n&&r(!1),""===c||n||r(!0);var o=G.a.createElement(B.Fragment,null,G.a.createElement("div",null,"Current Selection: "),G.a.createElement("div",{style:{color:"green"}}," ",c));return G.a.createElement(va.a,{onMouseEnter:function(){a(bn.actions.tryUpdateFocus("CONTROL"))},anchorOrigin:{vertical:"top",horizontal:"center"},open:n,onClose:function(e,t){"clickaway"===t?e.preventDefault():(r(!1),a(da()))},message:o,action:G.a.createElement(st.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){r(!1),a(da())}},G.a.createElement(ba.a,{fontSize:"small"}))})};function ga(){var e=window.getSelection();if(!e)return null;try{var t=document.activeElement;if(t&&t.value){var n=t.value.substring(t.selectionStart,t.selectionEnd);return""===n?null:{text:n,selection:e}}return{text:e.toString(),selection:e}}catch(r){return null}}var Ca={actions:M,actionTypes:I,constants:A,components:U,reducer:Ea,selectors:N,services:P},ya=function(e){var t=e.storeValue,n=void 0===t?"":t,r=e.saveChanges,a=e.style,c=Object(Zr.a)(e,["storeValue","saveChanges","style"]),o=Object(B.useState)({storeValue:n,mutableValue:n}),i=Object(Zt.a)(o,2),u=i[0],l=i[1],s=Object(ut.c)();return u.storeValue!==n&&l({storeValue:n,mutableValue:n}),G.a.createElement(Kt.a,Object.assign({InputProps:{disableUnderline:!0,style:{minWidth:"400px"}},multiline:!0,variant:"filled",value:u.mutableValue,onChange:function(e){var t=e.target.value;l(Object(Y.a)(Object(Y.a)({},u),{},{mutableValue:t}))},onBlur:function(e){r(e.target.value)},onMouseUp:function(){ja(s)},style:a},c))},ja=function(e){var t=Ca.services.getSelection();if(t){var n=t.text;e(Ca.actions.updateManuallySelectedString(n))}},Ta=n(148),Ra=n.n(Ta),ha=function(e){var t=e.cardOrigin,n=Object(ut.c)();return G.a.createElement(lt.a,{title:Wt.constants.jumpToOriginTooltip,enterDelay:Wt.constants.defaultEnterDelay,enterNextDelay:Wt.constants.defaultEnterNextDelay},G.a.createElement(st.a,{type:"button",onClick:function(){n(bn.actions.updateDisplayFocus("ACTIVE_RIVER")),n(Tn.actions.zoomToCardOrigin(t.spanIndex,t.page))},onMouseEnter:function(){n(bn.actions.tryUpdateFocus("RIVER_CONTROL"))}},G.a.createElement(Ra.a,{fontSize:"small"})))},Sa=n(150),Aa=n.n(Sa),Ia=n(149),Na=n.n(Ia),Ma=function(e){var t=e.cardConfig,n=e.creationType,r=Object(ut.c)(),a=Object(ut.d)(dr.selectors.getGoalCard),c=Object(B.useState)(!0),o=Object(Zt.a)(c,2),i=o[0],u=o[1];a?function(e,t,n){return e.cardID===n.cardID&&t===n.creationType}(t,n,a)?i&&u(!1):i||u(!0):i||u(!0);return G.a.createElement(lt.a,{title:Wt.constants.grabForCardTooltip,enterDelay:Wt.constants.defaultEnterDelay,enterNextDelay:Wt.constants.defaultEnterNextDelay},G.a.createElement(st.a,{type:"button",onClick:function(){r(i?dr.actions.setGoalCard(t,n):dr.actions.resetGoalCard())}},i?G.a.createElement(Na.a,{fontSize:"small"}):G.a.createElement(Aa.a,{fontSize:"small"})))},Ua=n(151),Pa=n.n(Ua),_a=function(e){var t=e.type,n=e.creationType,r=e.cardID,a=Object(ut.c)(),c=Object(ut.d)(Ca.selectors.getCurrentSelectedParent);return G.a.createElement(Wt.components.AppendButtonTooltip,null,G.a.createElement(st.a,{type:"button",onClick:function(){c&&a(Ca.actions.selectionToCardAppend(t,n,r))}},G.a.createElement(Pa.a,{fontSize:"small"})))},ka=function(e){var t,n,r=e.config,a=Object(ut.c)(),c=Object(ut.d)(Tr),o=c.id,i=c.field,u=r.cardID===o,l="ACTIVE_RIVER"===Object(ut.d)(bn.selectors.getDisplayFocus),s=Object(B.useRef)();return Object(B.useEffect)((function(){s.current&&u&&s.current.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})})),G.a.createElement(dt.a,{variant:"elevation",elevation:5,ref:s,style:{padding:"3px"}},G.a.createElement(X.a,{container:!0,direction:"row",justify:"space-between"},G.a.createElement(X.a,{item:!0},G.a.createElement(X.a,{container:!0,direction:"column",spacing:1},G.a.createElement(X.a,{item:!0},G.a.createElement(X.a,{container:!0,direction:"row",spacing:1},G.a.createElement(X.a,{item:!0},G.a.createElement("div",{style:u&&"q"===i?xa:void 0},G.a.createElement(ya,{saveChanges:function(e){a(dr.actions.updateCardContent(e,r.cardID,"q","REPLACE",r.origin))},storeValue:r.content.q,label:Wt.constants.questionText,variant:"filled",style:{backgroundColor:"#FFBF69"},InputLabelProps:{style:{color:"#000000"}},onMouseEnter:function(){a(bn.actions.tryUpdateFocus("RIVER")),a(qr("q",r.origin))}}))),G.a.createElement(X.a,{item:!0},G.a.createElement(rn.a,{variant:"outlined"},G.a.createElement(X.a,{container:!0,direction:"row"},l&&G.a.createElement(bn.components.RiverControlFocusUpdater,null,G.a.createElement(_a,{type:r.type,creationType:"q",cardID:r.cardID})),l&&G.a.createElement(bn.components.RiverControlFocusUpdater,null,G.a.createElement(Ma,{cardConfig:r,creationType:"q"})),r.origin&&!Object(An.isNullOrUndefined)(null===(t=r.origin.q)||void 0===t?void 0:t.spanIndex)&&G.a.createElement(ha,{cardOrigin:r.origin.q})))))),G.a.createElement(X.a,{item:!0},G.a.createElement(X.a,{container:!0,direction:"row",spacing:1},G.a.createElement(X.a,{item:!0},G.a.createElement("div",{style:u&&"a"===i?xa:void 0},G.a.createElement(ya,{saveChanges:function(e){a(dr.actions.updateCardContent(e,r.cardID,"a","REPLACE",r.origin))},storeValue:r.content.a,label:Wt.constants.answerText,style:{backgroundColor:"#2EC4B6"},InputLabelProps:{style:{color:"#000000"}},onMouseEnter:function(){a(bn.actions.tryUpdateFocus("RIVER")),a(qr("a",r.origin))}}))),G.a.createElement(X.a,{item:!0},G.a.createElement(rn.a,{variant:"outlined"},G.a.createElement(X.a,{container:!0,direction:"row"},l&&G.a.createElement(bn.components.RiverControlFocusUpdater,null,G.a.createElement(_a,{type:r.type,creationType:"a",cardID:r.cardID})),l&&G.a.createElement(bn.components.RiverControlFocusUpdater,null,G.a.createElement(Ma,{cardConfig:r,creationType:"a"})),r.origin&&!Object(An.isNullOrUndefined)(null===(n=r.origin.a)||void 0===n?void 0:n.spanIndex)&&G.a.createElement(ha,{cardOrigin:r.origin.a})))))))),G.a.createElement(X.a,{item:!0},G.a.createElement(bn.components.RiverControlFocusUpdater,null,G.a.createElement(dr.components.DeleteCardButton,{cardID:r.cardID})))))},wa=function(e){var t=e.config,n=Object(ut.c)(),r=Object(ut.d)(Tr).id,a=t.cardID===r,c="ACTIVE_RIVER"===Object(ut.d)(bn.selectors.getDisplayFocus),o=Object(B.useRef)();return Object(B.useEffect)((function(){o.current&&a&&o.current.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})})),G.a.createElement(dt.a,{variant:"elevation",elevation:5,style:a?Object(Y.a)(Object(Y.a)({},xa),{},{padding:"3px"}):{padding:"3px"},ref:o},G.a.createElement(X.a,{container:!0,direction:"row",justify:"space-between"},G.a.createElement(X.a,{item:!0},G.a.createElement(X.a,{container:!0,direction:"row",spacing:1},G.a.createElement(X.a,{item:!0},G.a.createElement(ya,{saveChanges:function(e){n(dr.actions.updateCardContent(e,t.cardID,"note","REPLACE",t.origin))},storeValue:t.content,label:Wt.constants.noteText,variant:"filled",style:{backgroundColor:"#CBF3F0"},InputLabelProps:{style:{color:"#000000"}},onMouseEnter:function(){n(bn.actions.tryUpdateFocus("RIVER")),n(qr("note",t.origin))}})),G.a.createElement(X.a,{item:!0},G.a.createElement(rn.a,{variant:"outlined"},G.a.createElement(X.a,{container:!0,direction:"row"},G.a.createElement(X.a,{item:!0},c&&G.a.createElement(bn.components.RiverControlFocusUpdater,null,G.a.createElement(_a,{type:t.type,creationType:"q",cardID:t.cardID}))),G.a.createElement(X.a,{item:!0},c&&G.a.createElement(bn.components.RiverControlFocusUpdater,null,G.a.createElement(Ma,{cardConfig:t,creationType:"note"}))),G.a.createElement(X.a,{item:!0},t.origin&&G.a.createElement(ha,{cardOrigin:t.origin}))))))),G.a.createElement(X.a,{item:!0},G.a.createElement(bn.components.RiverControlFocusUpdater,null,G.a.createElement(dr.components.DeleteCardButton,{cardID:t.cardID})))))},xa={border:"4px solid green",borderRadius:"4px"},Fa=function(e){var t=e.config,n=e.riverID;switch(t.type){case"Note":return G.a.createElement(wa,{config:t,riverID:n});case"Q-A":return G.a.createElement(ka,{config:t,riverID:n})}},La=function(){return G.a.createElement(X.a,{item:!0},G.a.createElement(ft.a,null))},Va=n(328),Ha=n(308),qa=n(309),Qa=function(e){var t=e.riverID,n=e.gridItems,r=e.summary,a=Object(B.useState)(3),c=Object(Zt.a)(a,2),o=c[0],i=c[1],u=Object(ut.d)(Er);t===u&&3===o?i(20):t!==u&&3!==o&&i(3);var l=Object(ut.d)(Tn.selectors.getMaterialHeight),s=Object(ut.d)(bn.selectors.getDisplayFocus),d=Object(ut.c)();return G.a.createElement(Va.a,{defaultExpanded:!0,onMouseEnter:function(){d(Fr(t))},elevation:o,style:"ACTIVE_RIVER"===s?{overflowY:"auto",maxHeight:l||"1400px"}:{}},G.a.createElement(Ha.a,null,G.a.createElement($t.a,{variant:"h6",align:"center",style:{MozUserSelect:"none",WebkitUserSelect:"none",msUserSelect:"none"}},r)),G.a.createElement(qa.a,null,G.a.createElement(X.a,{container:!0,direction:"column",spacing:2,justify:"center",alignItems:"stretch"},G.a.createElement(X.a,{item:!0},G.a.createElement(bn.components.RiverControlFocusUpdater,null,G.a.createElement(dr.components.AddQAButton,null)),G.a.createElement(bn.components.RiverControlFocusUpdater,null,G.a.createElement(dr.components.AddNoteButton,null)),G.a.createElement(ft.a,null)),G.a.createElement(X.a,{item:!0},G.a.createElement(X.a,{container:!0,direction:"column",spacing:2,justify:"center",alignItems:"stretch"},n)))))},Ba=function(e){var t=e.riverID,n=e.riverCards,r=Object(ut.d)(Sr),a=Object(ut.d)(Ar),c=Object(B.useMemo)((function(){var e=n;return"NONE"===r?[]:("ALL"!==r&&("QAS"===r&&(e=n.filter((function(e){return"Q-A"===e.type}))),"NOTES"===r&&(e=n.filter((function(e){return"Note"===e.type})))),""!==a&&(e=e.filter((function(e){switch(e.type){case"Note":return function(e,t){return e.content.includes(t)}(e,a);case"Q-A":return function(e,t){return e.content.a.includes(t)||e.content.q.includes(t)}(e,a)}return!1}))),function(e,t){var n=je();return e.reduce((function(e,r,a,c){return e.push(G.a.createElement(X.a,{item:!0,key:n()},G.a.createElement(Fa,{config:r,riverID:t,key:n()}))),a<c.length-1&&e.push(G.a.createElement(La,{key:n()})),e}),[])}(e,t))}),[n,t,r,a]);return G.a.createElement(Qa,{riverID:t,gridItems:c,summary:t})},Ga=function(e){return"CardRiver "+e},za=function(){var e=Object(ut.d)(bn.selectors.getDisplayFocus),t=Object(ut.d)(Tn.selectors.getCurrentPage),n=Object(ut.d)(dr.selectors.getCards),r=Object.values(Object(ut.d)(mr)),a=Object(B.useRef)(null);Object(B.useEffect)((function(){"SUMMARY_RIVER"===e&&null!==a.current&&(a.current.getBoundingClientRect().y<100?window.scrollTo({top:0,behavior:"smooth"}):a.current.scrollIntoView({behavior:"smooth",block:"start",inline:"start"}))}),[e,t]);var c=je();return G.a.createElement(X.a,{container:!0,justify:"flex-start",direction:"row",alignItems:"stretch",spacing:1},r.map((function(e){return e.cardIDs.length>0?G.a.createElement(X.a,{item:!0,ref:(r=e.riverID,parseInt(r.replace("CardRiver ",""))===t?a:null),key:c()},G.a.createElement(Ba,{riverID:e.riverID,riverCards:e.cardIDs.map((function(e){return n[e]})),key:c()})):null;var r})))},Wa=function(){var e=Object(ut.d)(pr),t=Object(ut.d)(Cr);return G.a.createElement(Ba,{riverID:e,riverCards:t})},Xa=n(97),Ya={riverMakeUps:Object(ke.a)({},Ga(1),{riverID:Ga(1),cardIDs:["2","0","1"]}),pushToRiverID:Ga(1),activeRiverMakeUpID:Ga(1),lastRiverIDNumber:1,riverShowState:"SHOW",highlightedCardID:null,highlightedCardField:null,riverContentState:"ALL",sourceCard:null,contentFilter:""},Ja=function(e){return{riverID:Ga(e),cardIDs:[]}},Za=function(e){for(var t=Object(Y.a)({},e),n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach((function(e){t.riverMakeUps[e.riverID]=e})),t},Ka=function(e){return Object(Y.a)(Object(Y.a)({},e.riverMakeUps[e.activeRiverMakeUpID]),{},{active:!1})},$a=function(e,t){var n=Object.fromEntries(Object.entries(e.riverMakeUps).map((function(e){return[e[0],Object(Y.a)(Object(Y.a)({},e[1]),{},{cardIDs:e[1].cardIDs.filter((function(e){return e!==t}))})]})));return Object(Y.a)(Object(Y.a)({},e),{},{riverMakeUps:n})},ec={constants:D,components:_,reducer:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ya,r=arguments.length>1?arguments[1]:void 0,a=r.type,c=r.payload;switch(a){case Tn.actionTypes.PAGE_UPDATE:var o;o=n.riverMakeUps[Ga(c)]?Object(Y.a)({},n.riverMakeUps[Ga(c)]):Ja(c);var i=Ka(n);return Object(Y.a)(Object(Y.a)({},Za(n,o,i)),{},{activeRiverMakeUpID:o.riverID,pushToRiverID:o.riverID});case dr.actionTypes.CARD_PUSH:return e=Object(Y.a)(Object(Y.a)({},n.riverMakeUps[n.pushToRiverID]),{},{cardIDs:[].concat(Object(Xa.a)(n.riverMakeUps[n.pushToRiverID].cardIDs),[c.card.cardID])}),(t=Object(Y.a)({},n.riverMakeUps))[n.pushToRiverID]=e,Object(Y.a)(Object(Y.a)({},n),{},{riverMakeUps:t});case dr.actionTypes.CARD_REMOVE:return $a(n,c);case Ir:return Object(Y.a)(Object(Y.a)({},n),{},{riverShowState:c});case Nr:return Object(Y.a)(Object(Y.a)({},n),{},{riverContentState:c});case Mr:return Object(Y.a)(Object(Y.a)({},n),{},{pushToRiverID:c});case Ur:return Object(Y.a)(Object(Y.a)({},n),{},{highlightedCardID:c.id,highlightedCardField:c.field});case bn.actionTypes.FOCUS_UPDATE:var u=n.sourceCard;return"DOCUMENT"===c&&u&&(u=null),null!==n.highlightedCardID&&"CONTEXT_MENU"!==c?Object(Y.a)(Object(Y.a)({},n),{},{highlightedCardID:null,highlightedCardField:null,sourceCard:u}):Object(Y.a)(Object(Y.a)({},n),{},{sourceCard:u});case qe.actionTypes.DOCUMENT_CHANGE:return c?Object(Y.a)(Object(Y.a)({},Ya),{},{riverMakeUps:c.riverMakeUps,activeRiverMakeUpID:c.activeRiverMakeUpID,pushToRiverID:c.pushToRiverID,lastRiverIDNumber:c.lastRiverIDNumber}):Ya;case qe.actionTypes.LOAD_DOCUMENT_DATA_SETS:return c.newActiveDataSet?Object(Y.a)(Object(Y.a)({},Ya),{},{riverMakeUps:c.newActiveDataSet.riverMakeUps,activeRiverMakeUpID:c.newActiveDataSet.activeRiverMakeUpID,pushToRiverID:c.newActiveDataSet.pushToRiverID,lastRiverIDNumber:c.newActiveDataSet.lastRiverIDNumber}):n;case Pr:return Object(Y.a)(Object(Y.a)({},n),{},{sourceCard:c});case _r:return Object(Y.a)(Object(Y.a)({},n),{},{contentFilter:c});default:return n}},selectors:h,actions:S},tc=Object(ae.a)(Tn.selectors.getPDFName,Tn.selectors.getTotalPages,Tn.selectors.getCurrentPage,ec.selectors.getRiverMakeUps,ec.selectors.getActiveRiverMakeUpID,ec.selectors.getPushToRiver,ec.selectors.getLastRiverIDNumber,dr.selectors.getCards,dr.selectors.getLastCardIDNumber,(function(e,t,n,r,a,c,o,i,u){return{name:e,totalPages:t,currentPage:n,riverMakeUps:r,activeRiverMakeUpID:a,pushToRiverID:c,lastRiverIDNumber:o,cards:i,lastCardIDNumber:u}})),nc=function(){return function(e,t){var n=t();if(void 0!==Tn.selectors.getPDFName(n)){var r=tc(n);e(qe.actions.archiveDBData(r))}}},rc=n(234),ac=function(){return function(e,t){e(nc());var n=qe.selectors.getDocumentDataSets(t()),r=(new Date).toLocaleString();rc(JSON.stringify(n),r+" ClayMemory.txt")}},cc=function(e){return function(t,n){var r=e.name,a=n(),c=Tn.selectors.getPDFName(a),o=qe.selectors.getDocumentDB(a);if(void 0!==c){var i=tc(a);t(qe.actions.archiveDBData(i))}if(t(Tn.actions.pdfUpload(e)),r!==c){var u=o[r];t(u?{type:qe.actionTypes.DOCUMENT_CHANGE,payload:u}:{type:qe.actionTypes.DOCUMENT_CHANGE}),t(Qe.ActionCreators.clearHistory())}}},oc=function(e){return function(t,n){var r=n(),a=Tn.selectors.getPDFName(r),c=qe.selectors.getDocumentDB(r);if(void 0!==a){var o=tc(r);t(qe.actions.archiveDBData(o))}var i=c[e];t({type:qe.actionTypes.DOCUMENT_CHANGE,payload:i}),t(Qe.ActionCreators.clearHistory())}},ic=function(e,t){var n=Object(B.useRef)((function(){}));Object(B.useEffect)((function(){n.current=t}),[t]),Object(B.useEffect)((function(){var t=function(e){return n.current(e)};return document.addEventListener(e,t),function(){document.removeEventListener(e,t)}}),[e])},uc="extractionData",lc=uc+"/TOGGLE_CONTEXT_MENU",sc=uc+"/CLOSE_CONTEXT_MENU",dc=uc+"/OPEN_CONTEXT_MENU",fc=function(e){return e[uc].present},mc=Object(ae.a)(fc,(function(e){return e.open})),pc=Object(ae.a)(fc,(function(e){return e.menuRef})),Ec=Object(ae.a)(fc,(function(e){return e.fullCardRef})),vc=Object(ae.a)(fc,(function(e){return e.qaRefs})),Oc=Object(ae.a)(Ca.selectors.getCurrentSelectionPosition,mc,pc,vc,ec.selectors.getPushToRiverCards,(function(e,t,n,r,a){return{position:e,state:t,menuRef:n,qaRefs:r,riverCards:a}})),bc=function(){return function(e,t){var n=t();Tn.selectors.getDataExists(n)&&(e({type:lc}),e(bn.actions.toggleContextMenuFocus()))}},Dc=function(){return function(e,t){mc(t())&&(e({type:sc}),e(bn.actions.updateFocus("DOCUMENT")))}},gc=function(){return function(e){e({type:dc}),e(bn.actions.updateFocus("DOCUMENT"))}},Cc={open:!1,menuRef:Object(B.createRef)(),fullCardRef:Object(B.createRef)(),qaRefs:[Object(B.createRef)(),Object(B.createRef)()]},yc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cc,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case lc:return Object(Y.a)(Object(Y.a)({},e),{},{open:!e.open});case sc:return Object(Y.a)(Object(Y.a)({},e),{},{open:!1});case dc:return Object(Y.a)(Object(Y.a)({},e),{},{open:!0});case dr.actionTypes.CARD_PUSH:return"Q-A"===r.card.type?Object(Y.a)(Object(Y.a)({},e),{},{qaRefs:[].concat(Object(Xa.a)(e.qaRefs),[Object(B.createRef)()])}):e;default:return e}},jc=n(112),Tc=n(272),Rc=n(96),hc=function(e){return""===e},Sc=function(e){return""===e.q||""===e.a},Ac=function(e){var t=e.cardConfig,n=e.dispatchRiver,r=Object(ut.c)();return G.a.createElement(Tc.a,{onClick:function(){n(t.type,"note",t.cardID)},onMouseEnter:function(){r(ec.actions.trySetHoveredCard(t.cardID,"note"))}},t.type)},Ic=function(e){var t=e.cardConfig,n=e.dispatchRiver,r=e.qaRef,a=Object(ut.c)();return G.a.createElement(Rc.a,{label:"Q-A",parentMenuOpen:!0,onMouseEnter:function(){a(ec.actions.trySetHoveredCard(t.cardID,"q"))}},G.a.createElement(Tc.a,{ref:r,onClick:function(){n("Q-A","q",t.cardID)},onMouseEnter:function(){a(ec.actions.trySetHoveredCard(t.cardID,"q"))}},"Q-field"),G.a.createElement(Tc.a,{onClick:function(){n("Q-A","a",t.cardID)},onMouseEnter:function(){a(ec.actions.trySetHoveredCard(t.cardID,"a"))}},"A-field"))},Nc=function(e){var t=e.cardConfig,n=e.dispatchRiver,r=e.qaRef;switch(t.type){case"Q-A":return G.a.createElement(Ic,{cardConfig:t,dispatchRiver:n,qaRef:r});default:return G.a.createElement(Ac,{cardConfig:t,dispatchRiver:n})}},Mc=function(e){var t=e.onClick;return G.a.createElement(Tc.a,{onClick:t},"New: Q (Q-A)")},Uc=function(e){var t=e.onClick;return G.a.createElement(Tc.a,{onClick:t},"New: A (Q-A)")},Pc=function(e){var t=e.onClick;return G.a.createElement(Tc.a,{onClick:t},"New: Note")},_c=function(e){var t=e.noteDispatch,n=e.qDispatch,r=e.aDispatch;return G.a.createElement(B.Fragment,null,G.a.createElement(Pc,{onClick:t}),G.a.createElement(Mc,{onClick:n}),G.a.createElement(Uc,{onClick:r}))};var kc=Object(ut.b)(Oc)((function(e){var t=e.position,n=e.state,r=e.menuRef,a=e.qaRefs,c=e.riverCards,o=Object(ut.d)(Ec),i=Object(ut.c)(),u=Object(ut.d)(ec.selectors.getSourceCard),l=n,s=function(e,t,n){i(Dc()),u?(i(Ca.actions.selectionToCardForSourceCard(e,t,u.sourceField,u.origin,n)),i(ec.actions.resetSourceCard())):i(Ca.actions.selectionToCard(e,t,n))},d=je(),f=je(),m=l?{top:t.y,left:t.x}:void 0,p=c.filter((function(e){return"string"===typeof e.content?hc(e.content):Sc(e.content)})),E=c.filter((function(e){return"string"===typeof e.content?!hc(e.content):!Sc(e.content)}));return G.a.createElement(jc.a,{ref:l?r:null,keepMounted:!0,open:l,anchorReference:"anchorPosition",anchorPosition:m},l&&p.map((function(e){return G.a.createElement(Nc,{cardConfig:e,dispatchRiver:s,key:d(),qaRef:"Q-A"===e.type?a[f()]:void 0})})),l&&p.length>0&&G.a.createElement(ft.a,null),l&&G.a.createElement(_c,{noteDispatch:function(){s("Note","note")},qDispatch:function(){s("Q-A","q")},aDispatch:function(){s("Q-A","a")}}),l&&E.length>0&&G.a.createElement(ft.a,null),l&&E.length>0&&G.a.createElement(Rc.a,{label:"Full cards: ",parentMenuOpen:!0},G.a.createElement(Tc.a,{ref:o,style:{position:"absolute"}}),E.map((function(e){return G.a.createElement(Nc,{cardConfig:e,dispatchRiver:s,key:d(),qaRef:"Q-A"===e.type?a[f()]:void 0})}))))})),wc=function(e,t){var n,r,a=pc(e).current,c=null===(n=Ec(e).current)||void 0===n?void 0:n.parentNode,o=vc(e).map((function(e){return e.current})).filter((function(e){return!!e})).map((function(e){return e.parentNode})),i=t.target;if(null===a||void 0===a||null===(r=a.querySelector("div.MuiPaper-root"))||void 0===r?void 0:r.contains(i))return!0;if(null===c||void 0===c?void 0:c.contains(i))return!0;var u,l=Object(Te.a)(o);try{for(l.s();!(u=l.n()).done;){if(u.value.contains(i))return!0}}catch(s){l.e(s)}finally{l.f()}return!1},xc={actions:V,actionTypes:F,constants:x,components:H,reducer:yc,selectors:L,services:q},Fc=function(e){return function(t,n){var r=e[t.key];r&&(t.preventDefault(),n(r))}},Lc={ArrowLeft:Tn.actions.previousPage(),ArrowRight:Tn.actions.nextPage()},Vc=Fc(Lc),Hc={t:xc.actions.toggleContextMenu()},qc=Fc(Hc),Qc=function(e,t){},Bc={DOCUMENT:Fc(Object(Y.a)(Object(Y.a)({},Lc),Hc)),CONTEXT_MENU:qc,RIVER:Qc,RIVER_CONTROL:Qc,CONTROL:Vc};var Gc=Object(ut.b)((function(){return{}}),{keyDownControl:function(e){return function(t,n){var r=n(),a=bn.selectors.getFocus(r);(0,Bc[a])(e,t,r)}},mouseDownControl:function(e){return function(t,n){!xc.services.contextMenuContainsTargetNode(n(),e)&&t(xc.actions.closeContextMenu())}},mouseUpControl:function(e){return function(e,t){var n=Ca.services.getSelection();if(n){var r,a=n.text,c=n.selection,o=t(),i=dr.selectors.getGoalCard(o),u=bn.selectors.getFocus(o);if(i&&("RIVER"===u||"DOCUMENT"===u))"RIVER"!==u&&e(dr.actions.updateCardContent(a,i.cardID,i.creationType,"REPLACE",i.origin)),e(dr.actions.resetGoalCard());else if("DOCUMENT"===u)e(Ca.actions.selectedParent(null===(r=c.anchorNode)||void 0===r?void 0:r.parentNode)),e(Ca.actions.updateManuallySelectedString(a))}}},rightClickControl:function(e){return function(t,n){var r=n(),a=bn.selectors.getFocus(r);""!==Ca.selectors.getCurrentSelectedString(r)&&(e.preventDefault(),"RIVER"===a&&(t(Ca.actions.updateSelectionPosition(e.x,e.y)),t(xc.actions.openContextMenu())),"DOCUMENT"===a&&(t(ec.actions.setPushToRiver(ec.selectors.getActiveRiverMakeUpID(r))),t(Ca.actions.updateSelectionPosition(e.x,e.y)),t(xc.actions.openContextMenu())))}}})((function(e){var t=e.keyDownControl,n=e.mouseDownControl,r=e.mouseUpControl,a=e.rightClickControl;return ic("keydown",t),ic("mousedown",n),ic("mouseup",r),ic("contextmenu",a),null})),zc=n(315),Wc=n(316),Xc=n(323),Yc=n(317),Jc=n(314),Zc=n(157),Kc=n.n(Zc),$c=n(158),eo=n.n($c),to=n(156),no=n.n(to),ro=n(155),ao=n.n(ro),co=n(329),oo=n(310),io=n(311),uo=n(312),lo=n(313),so=n(153),fo=n.n(so),mo=function(e){var t=e.document,n=e.handleClose,r=e.open,a=Object(ut.c)();return G.a.createElement(co.a,{open:r,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},G.a.createElement(oo.a,{id:"alert-dialog-title"},"Delete "+t+" and all associated card data?"),G.a.createElement(io.a,null,G.a.createElement(uo.a,{id:"alert-dialog-description"},"This change can not be undone.")),G.a.createElement(lo.a,null,G.a.createElement(Jc.a,{onClick:n,color:"primary"},"Abort"),G.a.createElement(Jc.a,{onClick:function(){a(Tn.actions.deleteDocument(t)),n()},color:"primary",autoFocus:!0},"Delete document and associated card data")))},po=function(e){var t=e.document,n=Object(B.useState)(!1),r=Object(Zt.a)(n,2),a=r[0],c=r[1];return G.a.createElement("div",null,G.a.createElement(lt.a,{title:Wt.constants.deleteDocumentTooltip,enterDelay:Wt.constants.defaultEnterDelay,enterNextDelay:Wt.constants.defaultEnterNextDelay},G.a.createElement(st.a,{type:"button",onClick:function(){c(!0)}},G.a.createElement(fo.a,{fontSize:"small"}))),G.a.createElement(mo,{document:t,open:a,handleClose:function(){c(!1)}}))},Eo=n(154),vo=n.n(Eo),Oo=function(e){var t=e.document,n=Object(ut.c)();return G.a.createElement(lt.a,{title:Wt.constants.loadSavedDocumentTooltip,enterDelay:Wt.constants.defaultEnterDelay,enterNextDelay:Wt.constants.defaultEnterNextDelay},G.a.createElement(st.a,{type:"button",onClick:function(){n(oc(t))}},G.a.createElement(vo.a,{fontSize:"small"})))},bo=function(e){var t=e.handleClose,n=e.label,r=Object(ut.c)(),a=Object(B.useRef)(null);return G.a.createElement(B.Fragment,null,G.a.createElement(Tc.a,{onClick:function(){a.current.click()}},G.a.createElement(Jc.a,{variant:"contained",color:"primary",disableElevation:!0,startIcon:G.a.createElement(ao.a,null)},n)),G.a.createElement("input",{ref:a,style:{display:"none"},onChange:function(e){var n=e.target.files,a=n?n[0]:null;a&&r(cc(a)),t()},type:"file",accept:".pdf"}))},Do=function(e){var t=e.handleClose,n=e.label,r=Object(ut.c)(),a=Object(ut.d)(Tn.selectors.getPDFName),c=Object(B.useRef)(null);return G.a.createElement(B.Fragment,null,G.a.createElement(Tc.a,{onClick:function(){c.current.click()}},G.a.createElement(Jc.a,{variant:"contained",color:"primary",disableElevation:!0,startIcon:G.a.createElement(no.a,null)},n)),G.a.createElement("input",{ref:c,style:{display:"none"},onChange:function(e){var n=e.target.files,c=n?n[0]:null;if(c){var o=new FileReader;o.readAsText(c),o.onload=function(){var e=JSON.parse(o.result),t=e.find((function(e){return e.name===a}));r(qe.actions.loadDocumentDataSets(e,t))}}t()},type:"file",accept:".txt"}))},go=function(e){var t=e.document;return G.a.createElement(X.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:1},G.a.createElement(X.a,{item:!0},t.replace(".pdf","")),G.a.createElement(X.a,{item:!0},G.a.createElement(dt.a,{variant:"outlined"},G.a.createElement(X.a,{container:!0,direction:"row"},G.a.createElement(X.a,{item:!0},G.a.createElement(Oo,{document:t})),G.a.createElement(X.a,{item:!0},G.a.createElement(ft.a,{orientation:"vertical"})),G.a.createElement(X.a,{item:!0},G.a.createElement(po,{document:t}))))))},Co=function(e){var t=e.document;return G.a.createElement(X.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:1},G.a.createElement(X.a,{item:!0},t.replace(".pdf","")),G.a.createElement(X.a,{item:!0},G.a.createElement(dt.a,{variant:"outlined"},G.a.createElement(po,{document:t}))))},yo=function(){var e=Object(ut.d)(qe.selectors.getDocumentNames),t=Object(ut.d)(Tn.selectors.getPDFName),n=G.a.useState(null),r=Object(Zt.a)(n,2),a=r[0],c=r[1],o=function(){c(null)},i=Object(ut.c)(),u=je();return G.a.createElement("div",null,G.a.createElement(st.a,{type:"button",onClick:function(e){c(e.currentTarget)}},G.a.createElement(Kc.a,null)),G.a.createElement(jc.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:o,MenuListProps:{style:{paddingLeft:"8px",paddingRight:"8px"}}},t&&[G.a.createElement($t.a,{key:u(),component:"span",variant:"h6"},Wt.constants.activeDocumentText),G.a.createElement(Co,{key:u(),document:t}),G.a.createElement(ft.a,{key:u(),style:{marginTop:"6px"}})],e.filter((function(e){return e!==t})).length>0&&[G.a.createElement($t.a,{key:u(),component:"span",variant:"h6"},Wt.constants.existingDataText),G.a.createElement($t.a,{key:u(),component:"span"},G.a.createElement("ul",{style:{listStyleType:"square"}},e.map((function(e){return e&&e!==t?G.a.createElement("li",{key:u()},G.a.createElement(go,{document:e,key:u()})):null})))),G.a.createElement(ft.a,{key:u(),style:{marginTop:"6px"}})],G.a.createElement(bo,{handleClose:o,label:"Load document"}),G.a.createElement(ft.a,null),G.a.createElement(Tc.a,{onClick:function(){i(ac()),o()}},G.a.createElement(Jc.a,{variant:"contained",color:"primary",disableElevation:!0,startIcon:G.a.createElement(eo.a,null)},Wt.constants.downloadDatasetsText)),G.a.createElement(ft.a,null),G.a.createElement(Do,{handleClose:o,label:Wt.constants.uploadDatasetsText})))},jo=n(159),To=n.n(jo),Ro=function(){var e=Object(ut.c)(),t=Object(ut.d)(ec.selectors.getRiverContentFilter),n=Object(B.useState)(t),r=Object(Zt.a)(n,2),a=r[0],c=r[1];return G.a.createElement(To.a,{value:a,placeholder:"Search in cards",onChange:function(t){""===t&&e(ec.actions.setContentFilter("")),c(t)},onCancelSearch:function(){e(ec.actions.setContentFilter(""))},onRequestSearch:function(){return e(ec.actions.setContentFilter(a))}})},ho=n(160),So=n.n(ho),Ao=n(161),Io=n.n(Ao),No=function(){var e=Object(ut.c)();return G.a.createElement(lt.a,{title:Wt.constants.undoTooltip,enterDelay:Wt.constants.defaultEnterDelay,enterNextDelay:Wt.constants.defaultEnterNextDelay},G.a.createElement("span",null,G.a.createElement(st.a,{type:"button",onClick:function(){e(Qe.ActionCreators.undo())}},G.a.createElement(So.a,null))))},Mo=function(){var e=Object(ut.c)();return G.a.createElement(lt.a,{title:Wt.constants.redoTooltip,enterDelay:Wt.constants.defaultEnterDelay,enterNextDelay:Wt.constants.defaultEnterNextDelay},G.a.createElement(st.a,{type:"button",onClick:function(){e(Qe.ActionCreators.redo())}},G.a.createElement(Io.a,null)))},Uo=function(){return G.a.createElement(dt.a,{variant:"outlined"},G.a.createElement(X.a,{container:!0,direction:"row"},G.a.createElement(X.a,{item:!0},G.a.createElement(No,null)),G.a.createElement(X.a,{item:!0},G.a.createElement(ft.a,{orientation:"vertical"})),G.a.createElement(X.a,{item:!0},G.a.createElement(Mo,null))))},Po=n(162),_o=n.n(Po),ko=function(){var e=Object(ut.c)(),t=Object(ut.d)(ec.selectors.getRiverShowState);return G.a.createElement(Sn.a,{control:G.a.createElement(Yr,{checked:"SHOW"===t,onClick:function(){e(ec.actions.toggleRiverShowState())}}),label:"River"})},wo=function(){var e=Object(ut.c)(),t=Object(ut.d)(Tn.selectors.getDisplayStatus);return G.a.createElement(Sn.a,{control:G.a.createElement(Yr,{checked:"SHOW"===t,onClick:function(){e(Tn.actions.toggleDisplayState())}}),label:"Material"})},xo=function(){var e=G.a.useState(null),t=Object(Zt.a)(e,2),n=t[0],r=t[1],a=Object(ut.d)(bn.selectors.getDisplayFocus);return G.a.createElement("div",null,G.a.createElement(st.a,{type:"button",onClick:function(e){r(e.currentTarget)}},G.a.createElement(_o.a,null)),G.a.createElement(jc.a,{anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:function(){r(null)}},G.a.createElement($t.a,null,"Show:"),G.a.createElement(ft.a,null),G.a.createElement(X.a,{container:!0,direction:"row"},G.a.createElement(X.a,{item:!0},G.a.createElement(ec.components.RiverContentFormGroup,null)),G.a.createElement(X.a,{item:!0},G.a.createElement(ft.a,{orientation:"vertical"})),G.a.createElement(X.a,{item:!0},"ACTIVE_RIVER"===a&&G.a.createElement(X.a,{container:!0,direction:"column"},G.a.createElement(X.a,{item:!0},G.a.createElement(ko,null)),G.a.createElement(X.a,{item:!0},G.a.createElement(wo,null)))))))},Fo=function(){var e=Object(ut.c)(),t="ACTIVE_RIVER"===Object(ut.d)(bn.selectors.getDisplayFocus)?0:1,n=Object(ut.d)(Tn.selectors.getPDFName);return G.a.createElement(X.a,{item:!0,onMouseEnter:function(){e(bn.actions.tryUpdateFocus("CONTROL"))}},G.a.createElement(zc.a,null,G.a.createElement(Wc.a,{variant:"regular"},G.a.createElement(X.a,{item:!0},G.a.createElement(X.a,{container:!0,spacing:1,direction:"row",alignItems:"center",justify:"flex-start"},G.a.createElement(X.a,{item:!0,style:{width:"15%"}},G.a.createElement(Tn.components.PageChooser,null)),G.a.createElement(X.a,{item:!0},G.a.createElement(Tn.components.PageNavigation,null)),G.a.createElement(X.a,{item:!0},G.a.createElement(dt.a,{variant:"outlined"},G.a.createElement(Xc.a,{value:t,onChange:function(t,n){e(0===n?bn.actions.updateDisplayFocus("ACTIVE_RIVER"):bn.actions.updateDisplayFocus("SUMMARY_RIVER"))}},G.a.createElement(Yc.a,{label:G.a.createElement(lt.a,{title:Wt.constants.switchToActiveRiverTooltip,enterDelay:Wt.constants.defaultEnterDelay,enterNextDelay:500,disableFocusListener:!0},G.a.createElement("span",null,"ActiveRiver"))}),G.a.createElement(Yc.a,{label:G.a.createElement(lt.a,{title:Wt.constants.switchToSummaryRiverTooltip,enterDelay:Wt.constants.defaultEnterDelay,enterNextDelay:500,disableFocusListener:!0},G.a.createElement("span",null,"SummaryRiver"))})))),G.a.createElement(X.a,{item:!0},G.a.createElement(Uo,null)))),G.a.createElement($t.a,{style:{flexGrow:1}},null===n||void 0===n?void 0:n.replace(".pdf","")),G.a.createElement(Ro,null),G.a.createElement(xo,null),G.a.createElement(yo,null))))},Lo={actions:w,components:Q,selectors:k},Vo=n(269),Ho=n(318),qo=n(319),Qo=n(320),Bo=n(321),Go=n(163),zo=n.n(Go),Wo=function(){var e=Object(ut.d)(bn.selectors.getDisplayFocus),t=Object(ut.d)(Tn.selectors.displayStatusIsShow),n=Object(ut.d)(ec.selectors.riverShowStateIsShow);return G.a.createElement(X.a,{item:!0,hidden:"ACTIVE_RIVER"!==e},G.a.createElement(X.a,{container:!0,justify:"space-around",direction:"row",alignItems:"stretch"},G.a.createElement(X.a,{item:!0,style:{width:"38%"},hidden:!n},G.a.createElement(ec.components.ActiveCardRiver,null)),G.a.createElement(Tn.components.MaterialDisplayColumnWithSize,{hidden:!t})))},Xo=function(){var e=Object(ut.d)(bn.selectors.getDisplayFocus);return G.a.createElement(X.a,{item:!0,hidden:"SUMMARY_RIVER"!==e},G.a.createElement(ec.components.SummaryRiver,null))},Yo=Object(Vo.a)((function(e){return Object(Ho.a)({root:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}})}));function Jo(e){var t=e.children,n=Yo(),r=Object(qo.a)({disableHysteresis:!0,threshold:100});return G.a.createElement(Qo.a,{in:r},G.a.createElement("div",{onClick:function(e){var t=(e.target.ownerDocument||document).querySelector("#back-to-top-anchor");t&&t.scrollIntoView({behavior:"smooth",block:"center"})},role:"presentation",className:n.root},t))}function Zo(){return G.a.createElement("div",null,G.a.createElement(Lo.components.ControlContainer,null),G.a.createElement(X.a,{container:!0,justify:"center",direction:"column",alignItems:"stretch",spacing:1},G.a.createElement(Lo.components.ControlBar,null),G.a.createElement(Wc.a,{id:"back-to-top-anchor"}),G.a.createElement(Wo,null),G.a.createElement(Xo,null)),G.a.createElement(Jo,null,G.a.createElement(Bo.a,{color:"secondary",size:"small","aria-label":"scroll back to top"},G.a.createElement(zo.a,null))),G.a.createElement(xc.components.ContextMenuContainer,null),G.a.createElement(Ca.components.SelectionSnackbar,null))}var Ko,$o=n(35),ei=n(164),ti=n(165),ni=n(69),ri=n(166),ai=n.n(ri),ci=function(e){return Object(Y.a)(Object(Y.a)({},e),{},{menuRef:null,fullCardRef:null,qaRefs:e.qaRefs.map((function(e){return null}))})},oi=function(e){return Object(Y.a)(Object(Y.a)({},e),{},{menuRef:Object(B.createRef)(),fullCardRef:Object(B.createRef)(),qaRefs:e.qaRefs.map((function(e){return Object(B.createRef)()}))})},ii=Object(ni.a)((function(e){return Object(Y.a)(Object(Y.a)({},e),{},{future:e.future.map(ci),past:e.past.map(ci),present:ci(e.present)})}),(function(e){return Object(Y.a)(Object(Y.a)({},e),{},{future:e.future.map(oi),past:e.past.map(oi),present:oi(e.present)})}),{whitelist:[xc.constants.NAME]}),ui=Object(ni.a)((function(e){return function(e){return Object(Y.a)(Object(Y.a)({},e),{},{documentRef:null,materialData:null,pdf:null})}(e)}),(function(e){return function(e){return Object(Y.a)(Object(Y.a)({},e),{},{pdf:void 0,documentRef:Object(B.createRef)(),materialData:{materialDataTimeStamp:-1/0}})}(e)}),{whitelist:[Tn.constants.NAME]}),li={key:"root",storage:ai.a,transforms:[ii,ui]},si=Object($o.combineReducers)((Ko={},Object(ke.a)(Ko,bn.constants.NAME,bn.reducer),Object(ke.a)(Ko,Ca.constants.NAME,Be()(Ca.reducer,{filter:Object(Qe.includeAction)([Ca.actionTypes.SELECTED_STRING])})),Object(ke.a)(Ko,xc.constants.NAME,Be()(xc.reducer,{filter:Object(Qe.includeAction)([dr.actionTypes.CARD_PUSH])})),Object(ke.a)(Ko,ec.constants.NAME,Be()(ec.reducer,{filter:Object(Qe.includeAction)([dr.actionTypes.CARD_PUSH,dr.actionTypes.CARD_REMOVE,qe.actionTypes.LOAD_DOCUMENT_DATA_SETS])})),Object(ke.a)(Ko,Tn.constants.NAME,Tn.reducer),Object(ke.a)(Ko,dr.constants.NAME,Be()(dr.reducer,{filter:Object(Qe.includeAction)([qe.actionTypes.LOAD_DOCUMENT_DATA_SETS,dr.actionTypes.CARD_PUSH,dr.actionTypes.CARD_UPDATE,dr.actionTypes.CARD_REMOVE,dr.actionTypes.CARD_GOAL])})),Object(ke.a)(Ko,qe.constants.NAME,Be()(qe.reducer,{filter:Object(Qe.includeAction)([qe.actionTypes.LOAD_DOCUMENT_DATA_SETS])})),Ko)),di=Object(ni.b)(li,si),fi=Object(ei.composeWithDevTools)({stateSanitizer:function(e){return e.displayData.pdf?Object(Y.a)(Object(Y.a)({},e),{},{displayData:Object(Y.a)(Object(Y.a)({},e.displayData),{},{pdf:"PDF_FILE_IS_HERE"})}):e}})(Object($o.applyMiddleware)(ti.a)),mi=Object($o.createStore)(di,fi),pi=Object(ni.c)(mi),Ei=n(167);n(264),W.a.render(G.a.createElement(G.a.StrictMode,null,G.a.createElement(ut.a,{store:mi},G.a.createElement(Ei.a,{loading:null,persistor:pi},G.a.createElement(Zo,null)))),document.getElementById("root"))}},[[180,1,2]]]);
//# sourceMappingURL=main.2a8791c8.chunk.js.map