(this.webpackJsonpclaymemory=this.webpackJsonpclaymemory||[]).push([[0],{173:function(e,t,n){e.exports=n(245)},182:function(e,t,n){},205:function(e,t){},206:function(e,t){},207:function(e,t){},208:function(e,t){},209:function(e,t){},245:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"NAME",(function(){return $}));var a={};n.r(a),n.d(a,"PDF_UPLOADED",(function(){return Z})),n.d(a,"MATERIAL_LOADED",(function(){return ee})),n.d(a,"DISPLAY_STATUS",(function(){return te})),n.d(a,"PAGE_UPDATE",(function(){return ne})),n.d(a,"SPAN_ORIGIN",(function(){return re})),n.d(a,"WINDOW_LAYOUT",(function(){return ae}));var c={};n.r(c),n.d(c,"getAll",(function(){return ue})),n.d(c,"getPDF",(function(){return le})),n.d(c,"getWindowMeasurements",(function(){return de})),n.d(c,"getPDFName",(function(){return se})),n.d(c,"getTotalPages",(function(){return fe})),n.d(c,"getCurrentPage",(function(){return me})),n.d(c,"getScrollToPage",(function(){return pe})),n.d(c,"getPageControlData",(function(){return ve})),n.d(c,"getDisplayStatus",(function(){return Ee})),n.d(c,"displayStatusIsShow",(function(){return Oe})),n.d(c,"getSpanOrigin",(function(){return be}));var o={};n.r(o),n.d(o,"widthPixels",(function(){return ye})),n.d(o,"pdfUpload",(function(){return je})),n.d(o,"materialLoaded",(function(){return Ce})),n.d(o,"setPage",(function(){return Te})),n.d(o,"movePage",(function(){return he})),n.d(o,"nextPage",(function(){return Se})),n.d(o,"previousPage",(function(){return Ae})),n.d(o,"pageControlDispatcher",(function(){return Re})),n.d(o,"toggleDisplayState",(function(){return Ie})),n.d(o,"setSpanOrigin",(function(){return Me})),n.d(o,"resetSpanOrigin",(function(){return we}));var i={};n.r(i),n.d(i,"switchToActiveRiverTooltip",(function(){return He})),n.d(i,"switchToSummaryRiverTooltip",(function(){return Qe})),n.d(i,"undoTooltip",(function(){return Ve})),n.d(i,"redoTooltip",(function(){return We})),n.d(i,"nextPageTooltip",(function(){return Ge})),n.d(i,"previousPageTooltip",(function(){return ze})),n.d(i,"deleteCardTooltip",(function(){return Xe})),n.d(i,"grabForCardTooltip",(function(){return Je})),n.d(i,"jumpToOriginTooltip",(function(){return Ye})),n.d(i,"appendToCardTooltip",(function(){return Ke})),n.d(i,"newQACardTooltip",(function(){return $e})),n.d(i,"newNoteCardTooltip",(function(){return Ze})),n.d(i,"deleteDocumentTooltip",(function(){return et})),n.d(i,"loadSavedDocumentTooltip",(function(){return tt})),n.d(i,"noMaterialText",(function(){return nt})),n.d(i,"loadingMaterialText",(function(){return rt})),n.d(i,"activeDocumentText",(function(){return at})),n.d(i,"existingDataText",(function(){return ct})),n.d(i,"loadMaterialText",(function(){return ot})),n.d(i,"downloadDatasetsText",(function(){return it})),n.d(i,"uploadDatasetsText",(function(){return ut})),n.d(i,"noteText",(function(){return lt})),n.d(i,"questionText",(function(){return dt})),n.d(i,"answerText",(function(){return st})),n.d(i,"defaultEnterDelay",(function(){return ft})),n.d(i,"defaultEnterNextDelay",(function(){return mt}));var u={};n.r(u),n.d(u,"NewNoteCardTooltip",(function(){return pt})),n.d(u,"AddQAButtonTooltip",(function(){return vt})),n.d(u,"AppendButtonTooltip",(function(){return Ot})),n.d(u,"DeleteCardButtonTooltip",(function(){return Et}));var l={};n.r(l),n.d(l,"NAME",(function(){return wt}));var d={};n.r(d),n.d(d,"toFieldValue",(function(){return xt})),n.d(d,"createReplace",(function(){return Ft})),n.d(d,"changeCardObject",(function(){return Lt}));var s={};n.r(s),n.d(s,"emptyOrigin",(function(){return Ht})),n.d(s,"singleOriginToCardOrigin",(function(){return Qt}));var f={};n.r(f),n.d(f,"transformInputOrigin",(function(){return Vt}));var m={};n.r(m),n.d(m,"NAME",(function(){return Wt}));var p={};n.r(p),n.d(p,"CARD_REPLACE",(function(){return Gt})),n.d(p,"CARD_PUSH",(function(){return zt})),n.d(p,"CARD_REMOVE",(function(){return Xt}));var v={};n.r(v),n.d(v,"emptyContent",(function(){return Kt})),n.d(v,"noteContentIsEmpty",(function(){return $t})),n.d(v,"qaContentIsNotFull",(function(){return Zt})),n.d(v,"strToCardContent",(function(){return nn})),n.d(v,"strToNewCardContent",(function(){return rn}));var E={};n.r(E),n.d(E,"cardIDToNumber",(function(){return an})),n.d(E,"nextCardID",(function(){return cn})),n.d(E,"cardIsNotFull",(function(){return un})),n.d(E,"strToCardConfig",(function(){return ln})),n.d(E,"cardFieldToType",(function(){return sn}));var O={};n.r(O),n.d(O,"getAll",(function(){return fn})),n.d(O,"getLastCardIDNumber",(function(){return mn})),n.d(O,"getCards",(function(){return pn})),n.d(O,"getCardByID",(function(){return vn}));var b={};n.r(b),n.d(b,"emptyNotePayload",(function(){return En})),n.d(b,"emptyQAPayload",(function(){return On})),n.d(b,"strToCardPayload",(function(){return bn})),n.d(b,"cardFieldToEmptyPayload",(function(){return Dn})),n.d(b,"cardPayloadToCardConfig",(function(){return yn}));var g={};n.r(g),n.d(g,"cardPush",(function(){return jn})),n.d(g,"emptyNoteCard",(function(){return Cn})),n.d(g,"emptyQACard",(function(){return Tn})),n.d(g,"cardReplace",(function(){return hn})),n.d(g,"replaceCardFieldContent",(function(){return Sn})),n.d(g,"removeCard",(function(){return An}));var D={};n.r(D),n.d(D,"AddNoteButton",(function(){return In})),n.d(D,"AddQAButton",(function(){return Pn})),n.d(D,"DeleteCardButton",(function(){return xn}));var y={};n.r(y),n.d(y,"model_config",(function(){return E})),n.d(y,"model_origin",(function(){return s})),n.d(y,"model_permutation",(function(){return d})),n.d(y,"model_content",(function(){return v})),n.d(y,"model_payload",(function(){return b}));var j={};n.r(j),n.d(j,"NAME",(function(){return Bn}));var C={};n.r(C),n.d(C,"ARCHIVE_CURRENT_DATA",(function(){return Hn})),n.d(C,"LOAD_DOCUMENT_DATA_SETS",(function(){return Qn})),n.d(C,"DELETE_DOCUMENT_DATA_SET",(function(){return Vn})),n.d(C,"DOCUMENT_CHANGE",(function(){return Wn}));var T={};n.r(T),n.d(T,"archiveDBData",(function(){return Gn})),n.d(T,"loadDocumentDataSets",(function(){return zn})),n.d(T,"deleteDocumentDataSet",(function(){return Xn}));var h={};n.r(h),n.d(h,"getAll",(function(){return tr})),n.d(h,"getDocumentDB",(function(){return nr})),n.d(h,"getDocumentNames",(function(){return rr})),n.d(h,"getDocumentDataSets",(function(){return ar}));var S={};n.r(S),n.d(S,"getAll",(function(){return ur})),n.d(S,"getRiverMakeUps",(function(){return lr})),n.d(S,"getActiveRiverMakeUpID",(function(){return dr})),n.d(S,"getActiveRiverMakeUp",(function(){return sr})),n.d(S,"getActiveRiverCardIDs",(function(){return fr})),n.d(S,"getActiveRiverCards",(function(){return mr})),n.d(S,"getRiverShowState",(function(){return pr})),n.d(S,"riverShowStateIsShow",(function(){return vr})),n.d(S,"getHoveredCardData",(function(){return Er})),n.d(S,"getLastRiverIDNumber",(function(){return Or})),n.d(S,"getRiverContentState",(function(){return br})),n.d(S,"getRiverContentFilter",(function(){return gr})),n.d(S,"getOriginRequest",(function(){return Dr}));var A={};n.r(A),n.d(A,"toggleRiverShowState",(function(){return Ar})),n.d(A,"setRiverContentState",(function(){return Nr})),n.d(A,"setActiveRiver",(function(){return Rr})),n.d(A,"trySetActiveRiver",(function(){return Ir})),n.d(A,"setHoveredCard",(function(){return Mr})),n.d(A,"trySetHoveredCard",(function(){return wr})),n.d(A,"resetHoveredCard",(function(){return Pr})),n.d(A,"setContentFilter",(function(){return kr})),n.d(A,"resetContentFilter",(function(){return _r})),n.d(A,"setOriginRequest",(function(){return xr})),n.d(A,"resetOriginRequest",(function(){return Ur}));var N={};n.r(N),n.d(N,"NAME",(function(){return zr}));var R={};n.r(R),n.d(R,"SELECTION_SOURCE",(function(){return Xr})),n.d(R,"SELECTION_GOAL",(function(){return Jr}));var I={};n.r(I),n.d(I,"getAll",(function(){return Yr})),n.d(I,"getGoalConfig",(function(){return Kr})),n.d(I,"getSourceConfig",(function(){return $r})),n.d(I,"sourceConfigExists",(function(){return Zr}));var M={};n.r(M),n.d(M,"selectionToCard",(function(){return ea}));var w={};n.r(w),n.d(w,"resetSelectionSource",(function(){return ra})),n.d(w,"resetSelectionGoal",(function(){return aa})),n.d(w,"addSelectionSource",(function(){return ca})),n.d(w,"addMaterialSelectionSource",(function(){return oa})),n.d(w,"addCardSelectionSource",(function(){return ia})),n.d(w,"addSelectionGoal",(function(){return ua})),n.d(w,"addCardAppendSelectionGoal",(function(){return la}));var P={};n.r(P),n.d(P,"SelectionSnackbar",(function(){return va})),n.d(P,"MaterialMouseUp",(function(){return Ea})),n.d(P,"CardFieldMouseUp",(function(){return Oa})),n.d(P,"AppendButton",(function(){return ja}));var k={};n.r(k),n.d(k,"getSelectionWorkaround",(function(){return ta})),n.d(k,"use_selection",(function(){return M}));var _={};n.r(_),n.d(_,"RiverContentFormGroup",(function(){return Hr})),n.d(_,"CardRiver",(function(){return _a})),n.d(_,"SwitchActiveRiver",(function(){return xa}));var x={};n.r(x),n.d(x,"pageNumberToRiverMakeUpID",(function(){return Fa})),n.d(x,"riverMakeUpIDToPageNumber",(function(){return La})),n.d(x,"emptyCardRiver",(function(){return qa})),n.d(x,"updateStateWithMakeUps",(function(){return Ba})),n.d(x,"removeCardFromRivers",(function(){return Ha}));var U={};n.r(U),n.d(U,"PageChooser",(function(){return At})),n.d(U,"PageNavigation",(function(){return yt})),n.d(U,"PageKeyboardControl",(function(){return Nt})),n.d(U,"PDFDocument",(function(){return $a})),n.d(U,"WindowMeasurer",(function(){return ec}));var F={};n.r(F),n.d(F,"collectCurrentDBData",(function(){return cc}));var L={};n.r(L),n.d(L,"archiveCurrentDBData",(function(){return oc})),n.d(L,"downloadDBData",(function(){return uc})),n.d(L,"changeDocument",(function(){return lc})),n.d(L,"loadSavedDocument",(function(){return dc})),n.d(L,"deleteDocument",(function(){return sc}));var q={};n.r(q),n.d(q,"ControlBar",(function(){return ao}));var B={};n.r(B),n.d(B,"NAME",(function(){return oo}));var H={};n.r(H),n.d(H,"CLOSE_CONTEXT_MENU",(function(){return io})),n.d(H,"OPEN_CONTEXT_MENU",(function(){return uo}));var Q={};n.r(Q),n.d(Q,"getAll",(function(){return lo})),n.d(Q,"getContextMenuRef",(function(){return so})),n.d(Q,"getContextMenuFullCardsRef",(function(){return fo})),n.d(Q,"getContextMenuQARefs",(function(){return mo})),n.d(Q,"getContextMenuPosition",(function(){return po})),n.d(Q,"getContextMenuInitData",(function(){return vo}));var V={};n.r(V),n.d(V,"contextMenuContainsTargetNode",(function(){return Eo}));var W={};n.r(W),n.d(W,"closeContextMenu",(function(){return Oo})),n.d(W,"openContextMenu",(function(){return bo})),n.d(W,"mouseDownControl",(function(){return go})),n.d(W,"rightClickControl",(function(){return Do})),n.d(W,"dispatchCreationFromContextMenu",(function(){return yo}));var G={};n.r(G),n.d(G,"ContextMenuContainer",(function(){return Po}));var z=n(0),X=n.n(z),J=n(15),Y=n.n(J),K=n(281),$="displayData",Z=$+"/PDF_UPLOADED",ee=$+"/MATERIAL_LOADED",te=$+"/DISPLAY_STATUS",ne=$+"/PAGE_UPDATE",re=$+"/SPAN_ORIGIN",ae=$+"/WINDOW_LAYOUT",ce=function(e,t){return e===t+1?1:e},oe=function(e,t){return 0===e?t:e},ie=n(12),ue=function(e){return e[$]},le=Object(ie.a)(ue,(function(e){return e.pdf})),de=Object(ie.a)(ue,(function(e){return e.windowMeasurements})),se=Object(ie.a)(ue,(function(e){return e.pdfName})),fe=Object(ie.a)(ue,(function(e){return e.totalPages})),me=Object(ie.a)(ue,(function(e){return e.currentPage})),pe=Object(ie.a)(ue,(function(e){return e.scrollToPage})),ve=Object(ie.a)(fe,me,(function(e,t){return{currentPage:t,totalPages:e}})),Ee=Object(ie.a)(ue,(function(e){return e.displayStatus})),Oe=Object(ie.a)(Ee,(function(e){return"SHOW"===e})),be=Object(ie.a)(ue,(function(e){return e.spanOrigin})),ge=function(){var e=0;return function(){var t=e;return e++,t}};var De,ye=function(e){return{type:ae,payload:e}},je=function(e){return{type:Z,payload:e}},Ce=function(e){return{type:ee,payload:e}},Te=function(e,t){return{type:ne,payload:{page:e,shouldScroll:t}}},he=function(e){return function(t,n){var r=ve(n()),a=r.currentPage,c=r.totalPages;switch(e){case"NEXT":t(Te(ce(a+1,c),!0));break;case"PREVIOUS":t(Te(oe(a-1,c),!0))}}},Se=function(){return he("NEXT")},Ae=function(){return he("PREVIOUS")},Ne={ArrowLeft:Ae(),ArrowRight:Se()},Re=(De=Ne,function(e,t){var n=De[e.key];n&&(e.preventDefault(),t(n))}),Ie=function(){return function(e,t){var n="SHOW"===Ee(t())?"HIDE":"SHOW";e({type:te,payload:n})}},Me=function(e){return{type:re,payload:e}},we=function(){return Me(null)},Pe=n(6),ke=n(297),_e=n(107),xe=n(280),Ue=n(282),Fe=n(136),Le=n.n(Fe),qe=n(135),Be=n.n(qe),He="Switch to the Active-River view",Qe="Switch to the Summary-River view",Ve="Undo last action",We="Redo last action",Ge="Next page",ze="Previous page",Xe="Delete this card",Je="Activate the document-selection grab for this card(-field)",Ye="Jump to the origin of the card content",Ke="Add the current or next selection to this card (only from document)",$e="Create new QA-card",Ze="Create new Note-card",et="Delete this document and all its corresponding cards",tt="Load the card data of this document",nt="No PDF file specified.",rt="Loading PDF\u2026",at="Active Document:",ct="Inactive documents with existing data:",ot="Load document",it="Download document datasets",ut="Upload document datasets",lt="Note",dt="Question",st="Answer",ft=500,mt=1e3,pt=function(e){var t=e.children;return X.a.createElement(ke.a,{title:Ze,enterDelay:ft,enterNextDelay:mt},t)},vt=function(e){var t=e.children;return X.a.createElement(ke.a,{title:$e,enterDelay:ft,enterNextDelay:mt},t)},Et=function(e){var t=e.children;return X.a.createElement(ke.a,{title:Xe,enterDelay:ft,enterNextDelay:mt},t)},Ot=function(e){var t=e.children;return X.a.createElement(ke.a,{title:Ke,enterDelay:ft,enterNextDelay:mt},t)},bt={components:u,constants:i},gt=function(){var e=Object(Pe.c)();return X.a.createElement(ke.a,{title:bt.constants.previousPageTooltip,enterDelay:bt.constants.defaultEnterDelay,enterNextDelay:bt.constants.defaultEnterNextDelay},X.a.createElement(_e.a,{type:"button",onClick:function(){e(Ae())}},X.a.createElement(Be.a,null)))},Dt=function(){var e=Object(Pe.c)();return X.a.createElement(ke.a,{title:bt.constants.nextPageTooltip,enterDelay:bt.constants.defaultEnterDelay,enterNextDelay:bt.constants.defaultEnterNextDelay},X.a.createElement(_e.a,{type:"button",onClick:function(){e(Se())}},X.a.createElement(Le.a,null)))},yt=function(){return X.a.createElement(xe.a,{variant:"outlined"},X.a.createElement(K.a,{container:!0,direction:"row"},X.a.createElement(K.a,{item:!0},X.a.createElement(gt,null)),X.a.createElement(K.a,{item:!0},X.a.createElement(Ue.a,{orientation:"vertical"})),X.a.createElement(K.a,{item:!0},X.a.createElement(Dt,null))))},jt=n(4),Ct=n(22),Tt=n(294),ht=n(110),St=/(\D)/,At=function(){var e=Object(Pe.c)(),t=Object(Pe.d)(ve),n=t.currentPage,r=t.totalPages,a=Object(z.useState)({error:!1,value:null===n||void 0===n?void 0:n.toString(),userInput:null===n||void 0===n?void 0:n.toString()}),c=Object(Ct.a)(a,2),o=c[0],i=c[1];return o.value!==n.toString()&&i({error:!1,value:n.toString(),userInput:n.toString()}),X.a.createElement(xe.a,{variant:"outlined"},X.a.createElement(K.a,{item:!0},X.a.createElement(K.a,{container:!0,direction:"row",alignItems:"center",justify:"space-between"},X.a.createElement(K.a,{item:!0,style:{width:"37%"}},X.a.createElement(Tt.a,{inputProps:{style:{padding:"0px",fontSize:"1.25rem",fontFamily:'"Roboto", "Helvetica", "Arial", sansSerif',fontWeight:500,lineHeight:1.6,letterSpacing:"0.0075em"}},type:"text",variant:"filled",value:o.userInput,onKeyDown:function(t){if("Enter"===t.key){t.preventDefault();var n=t.target.value;o.error||e(Te(parseInt(n),!0))}},onChange:function(e){var t=e.target.value;!function(e,t){if(""===e||null!==e.trim().match(St))return!1;var n=parseInt(e);return!(n<1||t<n)}(t,r)?i(Object(jt.a)(Object(jt.a)({},o),{},{error:!0,userInput:t})):i(Object(jt.a)(Object(jt.a)({},o),{},{error:!1,userInput:t}))},error:o.error})),X.a.createElement(K.a,{item:!0,style:{width:"61%"}},X.a.createElement(ht.a,{variant:"h6"},"of ",r)))))},Nt=function(e){var t=e.children,n=Object(Pe.c)(),r=Object(z.useRef)(null);return X.a.createElement("span",{ref:r,onKeyDown:function(e){Re(e,n)},tabIndex:0},t)},Rt=(n(182),n(183),n(64)),It=n(59),Mt=n(162),wt="cardRiverState",Pt=n(283),kt=n(284),_t={note:function(e){return e},q:function(e){return e.q},a:function(e){return e.a}},xt=function(e,t){return _t[e](t)},Ut={note:function(e,t){return t(e)},q:function(e,t){return Object(jt.a)(Object(jt.a)({},e),{},{q:t(e.q)})},a:function(e,t){return Object(jt.a)(Object(jt.a)({},e),{},{a:t(e.a)})}},Ft=function(e){return function(t){return e}},Lt=function(e){var t=xt(e.inputField,e.inputObject),n=e.createModify(t);return function(e,t,n){return Ut[e](t,n)}(e.fieldToBeChanged,e.objectToBeChanged,n)},qt=function(){return{q:{},a:{}}},Bt={q:qt,a:qt,note:function(){return""}},Ht=function(e){return Bt[e]()},Qt=function(e,t,n){var r={inputObject:e,inputField:"note",fieldToBeChanged:t,objectToBeChanged:n||Ht(t),createModify:Ft};return Lt(r)},Vt=function(e,t,n,r){var a=r||Ht(n);return Lt({inputField:t,fieldToBeChanged:n,objectToBeChanged:a,inputObject:e,createModify:Ft})},Wt="cards",Gt=Wt+"/CARD_REPLACE",zt=Wt+"/CARD_PUSH",Xt=Wt+"/CARD_REMOVE",Jt=function(){return{q:"",a:""}},Yt={q:Jt,a:Jt,note:function(){return""}},Kt=function(e){return Yt[e]()},$t=function(e){return""===e},Zt=function(e){return""===e.q||""===e.a},en={APPEND:function(e){return function(t){return t+e}},REPLACE:Ft},tn=function(e){return en[e]},nn=function(e,t,n,r){var a={inputObject:e,inputField:"note",fieldToBeChanged:t,objectToBeChanged:r,createModify:tn(n)};return Lt(a)},rn=function(e,t){var n=Kt(t);return nn(e,t,"REPLACE",n)},an=function(e){return parseInt(e)},cn=function(e){return(e+1).toString()},on={Note:function(e){return $t(e.content)},"Q-A":function(e){return Zt(e.content)}},un=function(e){return on[e.type](e)},ln=function(e,t,n,r){var a=nn(e,t,n,r.content);return Object(jt.a)(Object(jt.a)({},r),{},{content:a})},dn={q:"Q-A",a:"Q-A",note:"Note"},sn=function(e){return dn[e]},fn=function(e){return e[Wt].present},mn=Object(ie.a)(fn,(function(e){return e.lastCardIDNumber})),pn=Object(ie.a)(fn,(function(e){return e.cards})),vn=function(e,t){return pn(e)[t]},En=function(){return{type:"Note",content:""}},On=function(){return{type:"Q-A",content:{q:"",a:""}}},bn=function(e,t,n,r){var a=nn(e,t,n,r.content);return Object(jt.a)(Object(jt.a)({},r),{},{content:a})},gn={note:En,q:On,a:On},Dn=function(e){return gn[e]()},yn=function(e,t){return Object(jt.a)(Object(jt.a)({},e),{},{cardID:cn(mn(t))})},jn=function(e){return function(t,n){t({type:zt,payload:yn(e,n())})}},Cn=function(){return jn(En())},Tn=function(){return jn(On())},hn=function(e){return{type:Gt,payload:e}},Sn=function(e,t,n){return hn(ln(n,e,"REPLACE",t))},An=function(e){return{type:Xt,payload:e}},Nn=n(138),Rn=n.n(Nn),In=function(){var e=Object(Pe.c)();return X.a.createElement(bt.components.NewNoteCardTooltip,null,X.a.createElement(_e.a,{type:"button",onClick:function(){e(Cn())}},X.a.createElement(Rn.a,null)))},Mn=n(139),wn=n.n(Mn),Pn=function(){var e=Object(Pe.c)();return X.a.createElement(bt.components.AddQAButtonTooltip,null,X.a.createElement(_e.a,{type:"button",onClick:function(){e(Tn())}},X.a.createElement(wn.a,null)))},kn=n(140),_n=n.n(kn),xn=function(e){var t=e.cardID,n=Object(Pe.c)();return X.a.createElement(bt.components.DeleteCardButtonTooltip,null,X.a.createElement(_e.a,{type:"button",onClick:function(){n(An(t))}},X.a.createElement(_n.a,{fontSize:"small"})))},Un=function(e,t){var n=Object(jt.a)({},e.cards);return delete n[t],Object(jt.a)(Object(jt.a)({},e),{},{cards:n})},Fn=function(e,t,n){return Object(jt.a)(Object(jt.a)({},e),{},{cards:t,lastCardIDNumber:n})},Ln=function(e,t){var n=Object(jt.a)({},e);return n[t.cardID]=t,n},qn=Ln,Bn="documentDB",Hn=Bn+"/ARCHIVE_CURRENT_DATA",Qn=Bn+"/LOAD_DOCUMENT_DATA_SETS",Vn=Bn+"/DELETE_DOCUMENT_DATA_SET",Wn=Bn+"/DOCUMENT_CHANGE",Gn=function(e){return{type:Hn,payload:e}},zn=function(e,t){return{type:Qn,payload:{dbData:e,newActiveDataSet:t}}},Xn=function(e){return{type:Vn,payload:e}},Jn=n(34),Yn=function(e,t){return Object(jt.a)(Object(jt.a)({},e),{},{documentDB:Object(jt.a)(Object(jt.a)({},e.documentDB),{},Object(Jn.a)({},t.name,t))})},Kn=function(e,t){return Object(jt.a)(Object(jt.a)({},e),{},{documentDB:Object(jt.a)(Object(jt.a)({},e.documentDB),t.reduce((function(e,t){return e[t.name]=t,e}),{}))})},$n=function(e,t){return Object(jt.a)(Object(jt.a)({},e),{},{documentDB:Object.fromEntries(Object.entries(e.documentDB).filter((function(e){return e[0]!==t})))})},Zn={documentDB:{}},er=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zn,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Hn:return Yn(e,r);case Qn:return Kn(e,r.dbData);case Vn:return $n(e,r);default:return e}},tr=function(e){return e[Bn].present},nr=Object(ie.a)(tr,(function(e){return e.documentDB})),rr=Object(ie.a)(nr,(function(e){return Object.keys(e)})),ar=Object(ie.a)(nr,(function(e){return Object.values(e)})),cr={actions:T,actionTypes:C,constants:j,reducer:er,selectors:h},or={cards:{0:{cardID:"0",type:"Q-A",content:{q:"Was ist der Sinn des Lebens?",a:"42"}},1:{cardID:"1",type:"Q-A",content:{q:"Welches Layout macht mehr Sinn?",a:"??"}},2:{cardID:"2",type:"Note",content:"Note here"}},lastCardIDNumber:2},ir={services:f,constants:m,actionTypes:p,actions:g,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case zt:var a=an(r.cardID)+1;return Object(jt.a)(Object(jt.a)({},e),{},{cards:qn(e.cards,r),lastCardIDNumber:a});case Gt:var c=null;return Object(jt.a)(Object(jt.a)({},e),{},{cards:Ln(e.cards,r),goalCard:c});case Xt:return Un(e,r);case cr.actionTypes.DOCUMENT_CHANGE:return r?Fn(or,r.cards,r.lastCardIDNumber):or;case cr.actionTypes.LOAD_DOCUMENT_DATA_SETS:return r.newActiveDataSet?Fn(or,r.cards,r.lastCardIDNumber):e;default:return e}},selectors:O,components:D,model:y},ur=function(e){return e[wt].present},lr=Object(ie.a)(ur,(function(e){return e.riverMakeUps})),dr=Object(ie.a)(ur,(function(e){return e.activeRiverMakeUpID})),sr=Object(ie.a)(lr,dr,(function(e,t){var n=e[t];return n||{cardIDs:[]}})),fr=Object(ie.a)(sr,(function(e){return e.cardIDs})),mr=Object(ie.a)(fr,ir.selectors.getCards,(function(e,t){return e.map((function(e){return t[e]}))})),pr=Object(ie.a)(ur,(function(e){return e.riverShowState})),vr=Object(ie.a)(pr,(function(e){return"SHOW"===e})),Er=Object(ie.a)(ur,(function(e){return{id:e.highlightedCardID,field:e.highlightedCardField}})),Or=Object(ie.a)(ur,(function(e){return e.lastRiverIDNumber})),br=Object(ie.a)(ur,(function(e){return e.riverContentState})),gr=Object(ie.a)(ur,(function(e){return e.contentFilter})),Dr=Object(ie.a)(ur,(function(e){return e.requestedOrigin})),yr=wt+"/RIVER_HOVERED_CARD",jr=wt+"/RIVER_ACTIVE_ID",Cr=wt+"/RIVER_SHOW_STATE",Tr=wt+"/RIVER_CONTENT_STATE",hr=wt+"/RIVER_CONTENT_FILTER",Sr=wt+"/ORIGIN_REQUEST",Ar=function(){return function(e,t){e({type:Cr,payload:vr(t())?"HIDE":"SHOW"})}},Nr=function(e){return{type:Tr,payload:e}},Rr=function(e){return{type:jr,payload:e}},Ir=function(e){return function(t,n){console.log(e,dr(n())!==e),dr(n())!==e&&t(Rr(e))}},Mr=function(e,t){return{payload:{id:e,field:t},type:yr}},wr=function(e,t){return function(n,r){var a=r(),c=Er(a);c.id===e&&c.field===t||n(Mr(e,t))}},Pr=function(){return{payload:{id:null,field:null},type:yr}},kr=function(e){return{type:hr,payload:e}},_r=function(){return{type:hr,payload:""}},xr=function(e){return{type:Sr,payload:e}},Ur=function(){return xr(null)},Fr=n(7),Lr=n(295),qr=n(93),Br=Object(Fr.a)({root:{color:qr.a[400],"&$checked":{color:qr.a[600]}},checked:{}})((function(e){return X.a.createElement(Lr.a,Object.assign({color:"default"},e))})),Hr=function(){var e=Object(Pe.d)(br),t=Object(Pe.c)(),n="ALL"===e||"QAS"===e,r="ALL"===e||"NOTES"===e,a=function(e){n||"QAS"!==e?r||"NOTES"!==e?n&&"QAS"===e?t(Nr(r?"NOTES":"NONE")):r&&"NOTES"===e&&t(Nr(n?"QAS":"NONE")):t(Nr(n?"ALL":"NOTES")):t(Nr(r?"ALL":"QAS"))};return X.a.createElement(Pt.a,null,X.a.createElement(kt.a,{control:X.a.createElement(Br,{checked:n,onClick:function(){a("QAS")}}),label:"QAs"}),X.a.createElement(kt.a,{control:X.a.createElement(Br,{checked:r,onClick:function(){a("NOTES")}}),label:"Notes"}))},Qr=n(299),Vr=n(285),Wr=n(286),Gr=n(71),zr="selectionData",Xr=zr+"/SELECTION_SOURCE",Jr=zr+"/SELECTION_GOAL",Yr=function(e){return e[zr].present},Kr=Object(ie.a)(Yr,(function(e){return e.goalConfig})),$r=Object(ie.a)(Yr,(function(e){return e.sourceConfig})),Zr=Object(ie.a)($r,(function(e){return!!e})),ea=function(e,t,n,r){if(function(e){return!!!e.cardID}(t)){var a=function(e,t){var n=e.contentOrigin,r=e.contentStr,a=t.cardField;return{type:ir.model.model_config.cardFieldToType(a),content:ir.model.model_content.strToNewCardContent(r,a),origin:n?ir.model.model_origin.singleOriginToCardOrigin(n,a):void 0}}(e,t);n(ir.actions.cardPush(a))}else{var c=function(e,t,n){var r=ir.selectors.getCardByID(n,t.cardID),a=e.contentOrigin,c=e.contentStr,o=t.cardField;return Object(jt.a)(Object(jt.a)({},r),{},{content:ir.model.model_content.strToCardContent(c,o,t.updateType,r.content),origin:a?ir.model.model_origin.singleOriginToCardOrigin(a,o,r.origin):r.origin})}(e,t,r);n(ir.actions.cardReplace(c))}},ta=function(){var e=window.getSelection();if(!e)return null;try{var t=document.activeElement;if(t&&t.value){var n=t.value.substring(t.selectionStart,t.selectionEnd);return""===n?null:{text:n,selection:e}}var r=e.toString();return""===r?null:{text:r,selection:e}}catch(a){return null}},na=function(e){var t=ta();return!!t&&function(e,t){var n,r=null===(n=e.selection.focusNode)||void 0===n?void 0:n.parentNode;if(!r||"SPAN"!==r.nodeName)return!1;var a=r.parentNode;if(!a||"DIV"!==a.nodeName)return!1;var c=Array.from(a.children);if(0===c.length)return!1;var o=c.indexOf(r);return!(o<0)&&{contentStr:e.text,contentOrigin:{spanIndex:o,page:t}}}(t,e)},ra=function(){return{type:Xr,payload:null}},aa=function(){return{type:Jr,payload:null}},ca=function(e){return function(t,n){var r=n(),a=Kr(r);a?(ea(e,a,t,r),t(aa())):t(function(e){return{type:Xr,payload:e}}(e))}},oa=function(e){var t=na(e);return!!t&&ca(t)},ia=function(e){var t=function(e){var t=ta();return!!t&&{contentStr:t.text,contentOrigin:e}}(e);return!!t&&ca(t)},ua=function(e){return function(t,n){var r=n(),a=$r(r);a?(ea(a,e,t,r),t(ra())):t(function(e){return{type:Jr,payload:e}}(e))}},la=function(e,t){return ua({cardID:e,cardField:t,updateType:"APPEND"})},da={sourceConfig:null,goalConfig:null},sa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:da,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Xr:return Object(jt.a)(Object(jt.a)({},e),{},{sourceConfig:r});case Jr:return Object(jt.a)(Object(jt.a)({},e),{},{goalConfig:r});default:return e}},fa=n(298),ma=n(141),pa=n.n(ma),va=function(){var e=Object(z.useState)(!1),t=Object(Ct.a)(e,2),n=t[0],r=t[1],a=Object(Pe.c)(),c=Object(Pe.d)($r);!c&&n&&r(!1),c&&!n&&r(!0);var o=X.a.createElement(z.Fragment,null,X.a.createElement("div",null,"Current Selection: "),X.a.createElement("div",{style:{color:"green"}}," ",null===c||void 0===c?void 0:c.contentStr),(null===c||void 0===c?void 0:c.contentOrigin)&&X.a.createElement("div",{style:{color:"red"}}," From Page ",c.contentOrigin.page));return X.a.createElement(fa.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:n,onClose:function(e,t){"clickaway"===t?e.preventDefault():(r(!1),a(ra()))},message:o,action:X.a.createElement(_e.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){r(!1),a(ra())}},X.a.createElement(pa.a,{fontSize:"small"}))})},Ea=function(e){var t=e.children,n=e.page,r=Object(Pe.c)();return X.a.createElement("span",{onMouseUp:function(){var e=oa(n);e&&r(e)}},t)},Oa=function(e){var t=e.children,n=e.fieldOrigin,r=Object(Pe.c)();return X.a.createElement("span",{onMouseUp:function(){var e=ia(n);e&&r(e)}},t)},ba=n(143),ga=n.n(ba),Da=n(142),ya=n.n(Da),ja=function(e){var t=e.cardField,n=e.cardID,r=Object(Pe.c)(),a=Object(Pe.d)(Kr),c=Object(z.useState)(!1),o=Object(Ct.a)(c,2),i=o[0],u=o[1],l=!!a&&!!a.cardID&&a.cardID===n&&a.cardField===t;return l?i||u(!0):i&&u(!1),X.a.createElement(bt.components.AppendButtonTooltip,null,X.a.createElement(_e.a,{type:"button",onClick:function(){i||a?l&&r(aa()):r(la(n,t))}},i?X.a.createElement(ya.a,{fontSize:"small"}):X.a.createElement(ga.a,{fontSize:"small"})))},Ca={actions:w,actionTypes:R,constants:N,components:P,reducer:sa,selectors:I,services:k},Ta=function(e){var t=e.storeValue,n=void 0===t?"":t,r=e.saveChanges,a=e.fieldOrigin,c=e.style,o=Object(Gr.a)(e,["storeValue","saveChanges","fieldOrigin","style"]),i=Object(z.useState)({storeValue:n,mutableValue:n}),u=Object(Ct.a)(i,2),l=u[0],d=u[1];return l.storeValue!==n&&d({storeValue:n,mutableValue:n}),X.a.createElement(Ca.components.CardFieldMouseUp,{fieldOrigin:a&&void 0!==a.spanIndex?a:void 0},X.a.createElement(Tt.a,Object.assign({InputProps:{disableUnderline:!0,style:{minWidth:"400px"}},multiline:!0,variant:"filled",value:l.mutableValue,onChange:function(e){var t=e.target.value;d(Object(jt.a)(Object(jt.a)({},l),{},{mutableValue:t}))},onBlur:function(e){r(e.target.value)},style:c},o)))},ha=n(144),Sa=n.n(ha),Aa=function(e){var t=e.cardOrigin,n=Object(Pe.c)();return X.a.createElement(ke.a,{title:bt.constants.jumpToOriginTooltip,enterDelay:bt.constants.defaultEnterDelay,enterNextDelay:bt.constants.defaultEnterNextDelay},X.a.createElement(_e.a,{type:"button",onClick:function(){n(xr(t))}},X.a.createElement(Sa.a,{fontSize:"small"})))},Na=n(86),Ra=function(e){var t=e.config,n=e.cardField;return X.a.createElement(Na.a,{variant:"outlined"},X.a.createElement(K.a,{container:!0,direction:"row"},X.a.createElement(K.a,{item:!0},X.a.createElement(Ca.components.AppendButton,{cardID:t.cardID,cardField:n})),X.a.createElement(K.a,{item:!0},t.origin&&X.a.createElement(Aa,{cardOrigin:ir.model.model_permutation.toFieldValue(n,t.origin)}))))},Ia=function(e){var t,n,r=e.config,a=Object(Pe.c)(),c=Object(Pe.d)(Er),o=c.id,i=c.field,u=r.cardID===o,l=Object(z.useRef)();return Object(z.useEffect)((function(){l.current&&u&&l.current.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"})})),X.a.createElement(xe.a,{variant:"elevation",elevation:5,ref:l,style:{padding:"3px"}},X.a.createElement(K.a,{container:!0,direction:"row",justify:"space-between"},X.a.createElement(K.a,{item:!0},X.a.createElement(K.a,{container:!0,direction:"column",spacing:1},X.a.createElement(K.a,{item:!0},X.a.createElement(K.a,{container:!0,direction:"row",spacing:1},X.a.createElement(K.a,{item:!0},X.a.createElement("div",{style:u&&"q"===i?wa:void 0},X.a.createElement(Ta,{saveChanges:function(e){a(ir.actions.replaceCardFieldContent("q",r,e))},storeValue:r.content.q,label:bt.constants.questionText,variant:"filled",style:{backgroundColor:"#FFBF69"},InputLabelProps:{style:{color:"#000000"}},fieldOrigin:null===(t=r.origin)||void 0===t?void 0:t.q}))),X.a.createElement(K.a,{item:!0},X.a.createElement(Ra,{cardField:"q",config:r})))),X.a.createElement(K.a,{item:!0},X.a.createElement(K.a,{container:!0,direction:"row",spacing:1},X.a.createElement(K.a,{item:!0},X.a.createElement("div",{style:u&&"a"===i?wa:void 0},X.a.createElement(Ta,{saveChanges:function(e){a(ir.actions.replaceCardFieldContent("a",r,e))},storeValue:r.content.a,label:bt.constants.answerText,style:{backgroundColor:"#2EC4B6"},InputLabelProps:{style:{color:"#000000"}},fieldOrigin:null===(n=r.origin)||void 0===n?void 0:n.a}))),X.a.createElement(K.a,{item:!0},X.a.createElement(Ra,{cardField:"a",config:r})))))),X.a.createElement(K.a,{item:!0},X.a.createElement(ir.components.DeleteCardButton,{cardID:r.cardID}))))},Ma=function(e){var t=e.config,n=Object(Pe.c)(),r=Object(Pe.d)(Er).id,a=t.cardID===r,c=Object(z.useRef)();return Object(z.useEffect)((function(){c.current&&a&&c.current.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"})})),X.a.createElement(xe.a,{variant:"elevation",elevation:5,style:a?Object(jt.a)(Object(jt.a)({},wa),{},{padding:"3px"}):{padding:"3px"},ref:c},X.a.createElement(K.a,{container:!0,direction:"row",justify:"space-between"},X.a.createElement(K.a,{item:!0},X.a.createElement(K.a,{container:!0,direction:"row",spacing:1},X.a.createElement(K.a,{item:!0},X.a.createElement(Ta,{saveChanges:function(e){n(ir.actions.cardReplace(Object(jt.a)(Object(jt.a)({},t),{},{content:e})))},storeValue:t.content,label:bt.constants.noteText,variant:"filled",style:{backgroundColor:"#CBF3F0"},InputLabelProps:{style:{color:"#000000"}},fieldOrigin:t.origin})),X.a.createElement(K.a,{item:!0},X.a.createElement(Ra,{cardField:"note",config:t})))),X.a.createElement(K.a,{item:!0},X.a.createElement(ir.components.DeleteCardButton,{cardID:t.cardID}))))},wa={border:"4px solid green",borderRadius:"4px"},Pa=function(e){var t=e.config;e.riverID;switch(t.type){case"Note":return X.a.createElement(Ma,{config:t});case"Q-A":return X.a.createElement(Ia,{config:t})}},ka=function(){return X.a.createElement(K.a,{item:!0},X.a.createElement(Ue.a,null))},_a=function(e){var t=e.riverID,n=e.materialHeight,r=Object(Pe.d)(ir.selectors.getCards),a=Object(Pe.d)(lr)[t],c=a?a.cardIDs.map((function(e){return r[e]})):[],o=Object(Pe.d)(br),i=Object(Pe.d)(gr),u=Object(z.useMemo)((function(){var e=c;return"NONE"===o?[]:("ALL"!==o&&("QAS"===o&&(e=c.filter((function(e){return"Q-A"===e.type}))),"NOTES"===o&&(e=c.filter((function(e){return"Note"===e.type})))),""!==i&&(e=e.filter((function(e){switch(e.type){case"Note":return function(e,t){return e.content.includes(t)}(e,i);case"Q-A":return function(e,t){return e.content.a.includes(t)||e.content.q.includes(t)}(e,i)}return!1}))),function(e,t){var n=ge();return e.reduce((function(e,r,a,c){return e.push(X.a.createElement(K.a,{item:!0,key:n()},X.a.createElement(Pa,{config:r,riverID:t,key:n()}))),a<c.length-1&&e.push(X.a.createElement(ka,{key:n()})),e}),[])}(e,t))}),[c,t,o,i]);return X.a.createElement(Qr.a,{defaultExpanded:!0,style:{overflowY:"auto",maxHeight:n},elevation:5},X.a.createElement(Vr.a,null,X.a.createElement(ht.a,{variant:"h6",align:"center",style:{MozUserSelect:"none",WebkitUserSelect:"none",msUserSelect:"none"}},t)),X.a.createElement(Wr.a,null,X.a.createElement(K.a,{container:!0,direction:"column",spacing:2,justify:"center",alignItems:"stretch"},X.a.createElement(K.a,{item:!0},X.a.createElement(ir.components.AddQAButton,null),X.a.createElement(ir.components.AddNoteButton,null),X.a.createElement(Ue.a,null)),X.a.createElement(K.a,{item:!0},X.a.createElement(K.a,{container:!0,direction:"column",spacing:2,justify:"center",alignItems:"stretch"},u)))))},xa=function(e){var t=e.children,n=e.riverID,r=Object(Pe.c)();return X.a.createElement("span",{onMouseEnter:function(){r(Ir(n))}},t)},Ua=n(91),Fa=function(e){return"CardRiver "+e},La=function(e){return parseInt(e.replace("CardRiver ",""))},qa=function(e){return{riverID:Fa(e),cardIDs:[]}},Ba=function(e){for(var t=Object(jt.a)({},e),n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach((function(e){t.riverMakeUps[e.riverID]=e})),t},Ha=function(e,t){var n=Object.fromEntries(Object.entries(e.riverMakeUps).map((function(e){return[e[0],Object(jt.a)(Object(jt.a)({},e[1]),{},{cardIDs:e[1].cardIDs.filter((function(e){return e!==t}))})]})));return Object(jt.a)(Object(jt.a)({},e),{},{riverMakeUps:n})},Qa={requestedOrigin:null,riverMakeUps:Object(Jn.a)({},Fa(1),{riverID:Fa(1),cardIDs:["2","0","1"]}),activeRiverMakeUpID:Fa(1),lastRiverIDNumber:1,riverShowState:"SHOW",highlightedCardID:null,highlightedCardField:null,riverContentState:"ALL",contentFilter:""},Va={constants:l,components:_,reducer:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa,r=arguments.length>1?arguments[1]:void 0,a=r.type,c=r.payload;switch(a){case jr:return Object(jt.a)(Object(jt.a)({},n),{},{activeRiverMakeUpID:c});case Cr:return Object(jt.a)(Object(jt.a)({},n),{},{riverShowState:c});case Tr:return Object(jt.a)(Object(jt.a)({},n),{},{riverContentState:c});case yr:return Object(jt.a)(Object(jt.a)({},n),{},{highlightedCardID:c.id,highlightedCardField:c.field});case ir.actionTypes.CARD_PUSH:return e=n.riverMakeUps[n.activeRiverMakeUpID]?Object(jt.a)(Object(jt.a)({},n.riverMakeUps[n.activeRiverMakeUpID]),{},{cardIDs:[].concat(Object(Ua.a)(n.riverMakeUps[n.activeRiverMakeUpID].cardIDs),[c.cardID])}):{riverID:n.activeRiverMakeUpID,cardIDs:[c.cardID]},(t=Object(jt.a)({},n.riverMakeUps))[n.activeRiverMakeUpID]=e,Object(jt.a)(Object(jt.a)({},n),{},{riverMakeUps:t});case ir.actionTypes.CARD_REMOVE:return Ha(n,c);case cr.actionTypes.DOCUMENT_CHANGE:return c?Object(jt.a)(Object(jt.a)({},Qa),{},{riverMakeUps:c.riverMakeUps,lastRiverIDNumber:c.lastRiverIDNumber}):Qa;case cr.actionTypes.LOAD_DOCUMENT_DATA_SETS:return c.newActiveDataSet?Object(jt.a)(Object(jt.a)({},Qa),{},{riverMakeUps:c.newActiveDataSet.riverMakeUps,lastRiverIDNumber:c.newActiveDataSet.lastRiverIDNumber}):n;case hr:return Object(jt.a)(Object(jt.a)({},n),{},{contentFilter:c});case Sr:return Object(jt.a)(Object(jt.a)({},n),{},{requestedOrigin:c});default:return n}},selectors:S,actions:A,model:x},Wa=function(e){var t=e.page,n=e.pageRef,r=Object(Pe.d)(be),a=Object(z.useRef)(0),c=Object(Pe.c)(),o=Object(z.useCallback)((function(){var e=setInterval((function(){var t;if(10===a.current)return a.current=0,clearInterval(e),console.log("invalid origin clicked",r),void c(we());var o=null===(t=n.current)||void 0===t?void 0:t.children.item(1);if(o){var i=o.children.item(r.spanIndex);if(i)return i.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"}),c(we()),a.current=0,void clearInterval(e)}a.current=a.current+1}),10)}),[c,a,r,n]);return Object(z.useEffect)((function(){if(r&&r.page===t&&n.current){var e=n.current.children.item(1);if(e){var i=e.children.item(r.spanIndex);i?(i.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"}),c(we()),a.current=0):o()}else o()}}),[c,t,n,r,o]),null},Ga=function(e){var t,n=e.pageNumber,r=null===(t=Object(Pe.d)(de))||void 0===t?void 0:t.width,a=Object(z.useRef)(null);return X.a.createElement(z.Fragment,null,X.a.createElement(Ca.components.MaterialMouseUp,{page:n},X.a.createElement(Nt,null,X.a.createElement(Rt.b,{inputRef:function(e){a.current=e},pageNumber:n,width:r*Ja,onRenderSuccess:function(){console.log("rendered Page "+n)}}))),X.a.createElement(Wa,{page:n,pageRef:a}))},za=function(e){var t=e.index,n=e.data,r=e.style,a=t+1,c=Va.model.pageNumberToRiverMakeUpID(a),o=n.materialHeights;return X.a.createElement("div",{style:r},X.a.createElement(Va.components.SwitchActiveRiver,{riverID:c},X.a.createElement(K.a,{container:!0,justify:"space-between",direction:"row",alignItems:"flex-start"},X.a.createElement(K.a,{item:!0},X.a.createElement(Va.components.CardRiver,{riverID:c,materialHeight:o.get(a)})),X.a.createElement(K.a,{item:!0},X.a.createElement(Ga,{pageNumber:a})))),X.a.createElement(Ue.a,null))},Xa=function(e){var t=e.listRef,n=Object(Pe.d)(pe),r=Object(Pe.d)(me),a=Object(Pe.d)(Va.selectors.getOriginRequest);Object(z.useEffect)((function(){var e;null===(e=t.current)||void 0===e||e.scrollToItem(r-1,"start")}),[]);var c=Object(Pe.c)();return Object(z.useEffect)((function(){var e,r;if(a)return null===(e=t.current)||void 0===e||e.scrollToItem(a.page-1,"auto"),c(Me(a)),c(Te(a.page,!1)),void c(Va.actions.resetOriginRequest());n&&(null===(r=t.current)||void 0===r||r.scrollToItem(n-1,"start"),c(Te(n,!1)))}),[c,t,n,a]),null},Ja=.57,Ya=function(e){var t=e.pdfProxyRef,n=e.cachedPageDimensions,r=Object(z.useRef)(),a=Object(Pe.d)(de),c=a?Array.from(n.keys()).reduce((function(e,t){return e.set(t,function(e,t,n){var r=t.get(e),a=n*Ja/r[0];return r[1]*a+20}(t,n,a.width)),e}),new Map):void 0,o=Object(Pe.c)();return X.a.createElement(z.Fragment,null,a&&c&&X.a.createElement(Mt.a,{height:a.height,itemCount:t.current.numPages,itemSize:function(e){return c.get(e+1)},itemData:{materialHeights:c},ref:r,width:"100%",onItemsRendered:function(e){o(Te(e.visibleStopIndex+1,!1))}},za),X.a.createElement(Xa,{listRef:r}))};Rt.c.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(Rt.c.version,"/pdf.worker.js");var Ka={cMapUrl:"cmaps/",cMapPacked:!0},$a=function(){var e=Object(Pe.d)(le),t=Object(z.useState)(),n=Object(Ct.a)(t,2),r=n[0],a=n[1],c=Object(z.useRef)(),o=Object(Pe.c)(),i=null===e||void 0===e?void 0:e.name,u=Object(z.useRef)(i);return u.current!==i&&(u.current=i),X.a.createElement(Rt.a,{loading:bt.constants.loadingMaterialText,noData:bt.constants.noMaterialText,options:Ka,file:e,renderMode:"canvas",onLoadSuccess:function(t){o(Ce(t.numPages)),e&&function(e,t,n,r){var a=Array.from({length:e.numPages},(function(e,t){return t+1})).map((function(t){return e.getPage(t)}));Promise.all(a).then((function(e){if(t===n.current){var a,c=new Map,o=Object(It.a)(e);try{for(o.s();!(a=o.n()).done;){var i=a.value,u=1*i.view[2],l=1*i.view[3];c.set(i._pageIndex+1,[u,l])}}catch(d){o.e(d)}finally{o.f()}r(c)}}))}(t,i,u,a),c.current=t},onItemClick:function(e){var t=e.pageNumber;o(Te(parseInt(t),!0))}},r&&u.current===i&&X.a.createElement(Ya,{pdfProxyRef:c,cachedPageDimensions:r}))},Za=n(145),ec=function(){var e=Object(Pe.c)(),t=Object(Za.debounce)(50,(function(){var t=window.innerWidth,n=window.innerHeight;e(ye({width:t,height:n}))}));return Object(z.useLayoutEffect)((function(){t()}),[t]),Object(z.useEffect)((function(){return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}})),null},tc={displayStatus:"SHOW",totalPages:1e3,currentPage:1,scrollToPage:null,windowMeasurements:null,spanOrigin:null},nc={actions:o,actionTypes:a,components:U,constants:r,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tc,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Z:return Object(jt.a)(Object(jt.a)({},e),{},{pdf:r,pdfName:r.name});case cr.actionTypes.DOCUMENT_CHANGE:return r?r.name===e.pdfName?e:Object(jt.a)(Object(jt.a)({},tc),{},{pdf:void 0,pdfName:r.name,totalPages:r.totalPages,currentPage:r.currentPage}):e;case ee:return Object(jt.a)(Object(jt.a)({},e),{},{totalPages:r});case ne:return Object(jt.a)(Object(jt.a)({},e),{},{currentPage:r.page,scrollToPage:r.shouldScroll?r.page:null});case te:return Object(jt.a)(Object(jt.a)({},e),{},{displayStatus:r});case re:return Object(jt.a)(Object(jt.a)({},e),{},{spanOrigin:r});case ae:return Object(jt.a)(Object(jt.a)({},e),{},{windowMeasurements:r});default:return e}},selectors:c},rc=n(27),ac=n.n(rc),cc=Object(ie.a)(nc.selectors.getPDFName,nc.selectors.getTotalPages,nc.selectors.getCurrentPage,Va.selectors.getRiverMakeUps,Va.selectors.getActiveRiverMakeUpID,Va.selectors.getLastRiverIDNumber,ir.selectors.getCards,ir.selectors.getLastCardIDNumber,(function(e,t,n,r,a,c,o,i){return{name:e,totalPages:t,currentPage:n,riverMakeUps:r,activeRiverMakeUpID:a,lastRiverIDNumber:c,cards:o,lastCardIDNumber:i}})),oc=function(){return function(e,t){var n=t();if(void 0!==nc.selectors.getPDFName(n)){var r=cc(n);e(cr.actions.archiveDBData(r))}}},ic=n(212),uc=function(){return function(e,t){e(oc());var n=cr.selectors.getDocumentDataSets(t()),r=(new Date).toLocaleString();ic(JSON.stringify(n),r+" ClayMemory.txt")}},lc=function(e){return function(t,n){var r=e.name,a=n(),c=nc.selectors.getPDFName(a),o=cr.selectors.getDocumentDB(a);if(void 0!==c){var i=cc(a);t(cr.actions.archiveDBData(i))}if(t(nc.actions.pdfUpload(e)),r!==c){var u=o[r];t(u?{type:cr.actionTypes.DOCUMENT_CHANGE,payload:u}:{type:cr.actionTypes.DOCUMENT_CHANGE}),t(rc.ActionCreators.clearHistory())}}},dc=function(e){return function(t,n){var r=n(),a=nc.selectors.getPDFName(r),c=cr.selectors.getDocumentDB(r);if(void 0!==a){var o=cc(r);t(cr.actions.archiveDBData(o))}var i=c[e];t({type:cr.actionTypes.DOCUMENT_CHANGE,payload:i}),t(rc.ActionCreators.clearHistory())}},sc=function(e){return function(t,n){var r=n(),a=nc.selectors.getPDFName(r);a&&a===e&&(t({type:cr.actionTypes.DOCUMENT_CHANGE}),t(rc.ActionCreators.clearHistory())),t(cr.actions.deleteDocumentDataSet(e))}},fc=n(292),mc=n(293),pc=n(161),vc=n(301),Ec=n(291),Oc=n(150),bc=n.n(Oc),gc=n(151),Dc=n.n(gc),yc=n(300),jc=n(287),Cc=n(288),Tc=n(289),hc=n(290),Sc=n(146),Ac=n.n(Sc),Nc=function(e){var t=e.document,n=e.handleClose,r=e.open,a=Object(Pe.c)();return X.a.createElement(yc.a,{open:r,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},X.a.createElement(jc.a,{id:"alert-dialog-title"},"Delete "+t+" and all associated card data?"),X.a.createElement(Cc.a,null,X.a.createElement(Tc.a,{id:"alert-dialog-description"},"This change can not be undone.")),X.a.createElement(hc.a,null,X.a.createElement(Ec.a,{onClick:n,color:"primary"},"Abort"),X.a.createElement(Ec.a,{onClick:function(){a(sc(t)),n()},color:"primary",autoFocus:!0},"Delete document and associated card data")))},Rc=function(e){var t=e.document,n=Object(z.useState)(!1),r=Object(Ct.a)(n,2),a=r[0],c=r[1];return X.a.createElement("div",null,X.a.createElement(ke.a,{title:bt.constants.deleteDocumentTooltip,enterDelay:bt.constants.defaultEnterDelay,enterNextDelay:bt.constants.defaultEnterNextDelay},X.a.createElement(_e.a,{type:"button",onClick:function(){c(!0)}},X.a.createElement(Ac.a,{fontSize:"small"}))),X.a.createElement(Nc,{document:t,open:a,handleClose:function(){c(!1)}}))},Ic=n(147),Mc=n.n(Ic),wc=function(e){var t=e.handleClose,n=e.label,r=Object(Pe.c)(),a=Object(Pe.d)(nc.selectors.getPDFName),c=Object(z.useRef)(null);return X.a.createElement(z.Fragment,null,X.a.createElement(vc.a,{onClick:function(){c.current.click()}},X.a.createElement(Ec.a,{variant:"contained",color:"primary",disableElevation:!0,startIcon:X.a.createElement(Mc.a,null)},n)),X.a.createElement("input",{ref:c,style:{display:"none"},onChange:function(e){var n=e.target.files,c=n?n[0]:null;if(c){var o=new FileReader;o.readAsText(c),o.onload=function(){var e=JSON.parse(o.result),t=e.find((function(e){return e.name===a}));r(cr.actions.loadDocumentDataSets(e,t))}}t()},type:"file",accept:".txt"}))},Pc=n(148),kc=n.n(Pc),_c=function(e){var t=e.handleClose,n=e.label,r=Object(Pe.c)(),a=Object(z.useRef)(null);return X.a.createElement(z.Fragment,null,X.a.createElement(vc.a,{onClick:function(){a.current.click()}},X.a.createElement(Ec.a,{variant:"contained",color:"primary",disableElevation:!0,startIcon:X.a.createElement(kc.a,null)},n)),X.a.createElement("input",{ref:a,style:{display:"none"},onChange:function(e){var n=e.target.files,a=n?n[0]:null;a&&r(lc(a)),t()},type:"file",accept:".pdf"}))},xc=n(149),Uc=n.n(xc),Fc=function(e){var t=e.document,n=Object(Pe.c)();return X.a.createElement(ke.a,{title:bt.constants.loadSavedDocumentTooltip,enterDelay:bt.constants.defaultEnterDelay,enterNextDelay:bt.constants.defaultEnterNextDelay},X.a.createElement(_e.a,{type:"button",onClick:function(){n(dc(t))}},X.a.createElement(Uc.a,{fontSize:"small"})))},Lc=function(e){var t=e.document;return X.a.createElement(K.a,{container:!0,direction:"row"},X.a.createElement(K.a,{item:!0},X.a.createElement(Fc,{document:t})),X.a.createElement(K.a,{item:!0},X.a.createElement(Ue.a,{orientation:"vertical"})),X.a.createElement(K.a,{item:!0},X.a.createElement(Rc,{document:t})))},qc=function(e){var t=e.document;return X.a.createElement(K.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:1},X.a.createElement(K.a,{item:!0},t.replace(".pdf","")),X.a.createElement(K.a,{item:!0},X.a.createElement(xe.a,{variant:"outlined"},X.a.createElement(Lc,{document:t}))))},Bc=function(e){var t=e.document;return X.a.createElement(K.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:1},X.a.createElement(K.a,{item:!0},t.replace(".pdf","")),X.a.createElement(K.a,{item:!0},X.a.createElement(xe.a,{variant:"outlined"},X.a.createElement(Rc,{document:t}))))},Hc=function(){var e=Object(Pe.d)(nc.selectors.getPDFName),t=Object(Pe.d)(cr.selectors.getDocumentNames).filter((function(t){return t!==e})),n=X.a.useState(null),r=Object(Ct.a)(n,2),a=r[0],c=r[1],o=function(){c(null)},i=Object(Pe.c)(),u=ge();return X.a.createElement("div",null,X.a.createElement(_e.a,{type:"button",onClick:function(e){c(e.currentTarget)}},X.a.createElement(bc.a,null)),X.a.createElement(pc.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:o,MenuListProps:{style:{paddingLeft:"8px",paddingRight:"8px"}}},e&&[X.a.createElement(ht.a,{key:u(),component:"span",variant:"h6"},bt.constants.activeDocumentText),X.a.createElement(Bc,{key:u(),document:e}),X.a.createElement(Ue.a,{key:u(),style:{marginTop:"6px"}})],t.length>0&&[X.a.createElement(ht.a,{key:u(),component:"span",variant:"h6"},bt.constants.existingDataText),X.a.createElement(ht.a,{key:u(),component:"span"},X.a.createElement("ul",{style:{listStyleType:"square"}},t.map((function(e){return e?X.a.createElement("li",{key:u()},X.a.createElement(qc,{document:e,key:u()})):null})))),X.a.createElement(Ue.a,{key:u(),style:{marginTop:"6px"}})],X.a.createElement(_c,{handleClose:o,label:"Load document"}),X.a.createElement(Ue.a,null),X.a.createElement(vc.a,{onClick:function(){i(uc()),o()}},X.a.createElement(Ec.a,{variant:"contained",color:"primary",disableElevation:!0,startIcon:X.a.createElement(Dc.a,null)},bt.constants.downloadDatasetsText)),X.a.createElement(Ue.a,null),X.a.createElement(wc,{handleClose:o,label:bt.constants.uploadDatasetsText})))},Qc=n(152),Vc=n.n(Qc),Wc=function(){var e=Object(Pe.c)(),t=Object(Pe.d)(Va.selectors.getRiverContentFilter),n=Object(z.useState)(t),r=Object(Ct.a)(n,2),a=r[0],c=r[1];return X.a.createElement(Vc.a,{value:a,placeholder:"Search in cards",onChange:function(t){""===t&&e(Va.actions.resetContentFilter()),c(t)},onCancelSearch:function(){e(Va.actions.resetContentFilter())},onRequestSearch:function(){return e(Va.actions.setContentFilter(a))}})},Gc=n(153),zc=n.n(Gc),Xc=n(154),Jc=n.n(Xc),Yc=function(){var e=Object(Pe.c)();return X.a.createElement(ke.a,{title:bt.constants.undoTooltip,enterDelay:bt.constants.defaultEnterDelay,enterNextDelay:bt.constants.defaultEnterNextDelay},X.a.createElement("span",null,X.a.createElement(_e.a,{type:"button",onClick:function(){e(rc.ActionCreators.undo())}},X.a.createElement(zc.a,null))))},Kc=function(){var e=Object(Pe.c)();return X.a.createElement(ke.a,{title:bt.constants.redoTooltip,enterDelay:bt.constants.defaultEnterDelay,enterNextDelay:bt.constants.defaultEnterNextDelay},X.a.createElement(_e.a,{type:"button",onClick:function(){e(rc.ActionCreators.redo())}},X.a.createElement(Jc.a,null)))},$c=function(){return X.a.createElement(xe.a,{variant:"outlined"},X.a.createElement(K.a,{container:!0,direction:"row"},X.a.createElement(K.a,{item:!0},X.a.createElement(Yc,null)),X.a.createElement(K.a,{item:!0},X.a.createElement(Ue.a,{orientation:"vertical"})),X.a.createElement(K.a,{item:!0},X.a.createElement(Kc,null))))},Zc=n(155),eo=n.n(Zc),to=function(){var e=Object(Pe.c)(),t=Object(Pe.d)(Va.selectors.getRiverShowState);return X.a.createElement(kt.a,{control:X.a.createElement(Br,{checked:"SHOW"===t,onClick:function(){e(Va.actions.toggleRiverShowState())}}),label:"River"})},no=function(){var e=Object(Pe.c)(),t=Object(Pe.d)(nc.selectors.getDisplayStatus);return X.a.createElement(kt.a,{control:X.a.createElement(Br,{checked:"SHOW"===t,onClick:function(){e(nc.actions.toggleDisplayState())}}),label:"Material"})},ro=function(){var e=X.a.useState(null),t=Object(Ct.a)(e,2),n=t[0],r=t[1];return X.a.createElement("div",null,X.a.createElement(_e.a,{type:"button",onClick:function(e){r(e.currentTarget)}},X.a.createElement(eo.a,null)),X.a.createElement(pc.a,{anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:function(){r(null)}},X.a.createElement(ht.a,null,"Show:"),X.a.createElement(Ue.a,null),X.a.createElement(K.a,{container:!0,direction:"row"},X.a.createElement(K.a,{item:!0},X.a.createElement(Va.components.RiverContentFormGroup,null)),X.a.createElement(K.a,{item:!0},X.a.createElement(Ue.a,{orientation:"vertical"})),X.a.createElement(K.a,{item:!0},X.a.createElement(K.a,{container:!0,direction:"column"},X.a.createElement(K.a,{item:!0},X.a.createElement(to,null)),X.a.createElement(K.a,{item:!0},X.a.createElement(no,null)))))))},ao=function(){var e=Object(Pe.d)(nc.selectors.getPDFName);return X.a.createElement(nc.components.PageKeyboardControl,null,X.a.createElement(fc.a,null,X.a.createElement(mc.a,{variant:"regular"},X.a.createElement(K.a,{item:!0},X.a.createElement(K.a,{container:!0,spacing:1,direction:"row",alignItems:"center",justify:"flex-start"},X.a.createElement(K.a,{item:!0,style:{width:"20%"}},X.a.createElement(nc.components.PageChooser,null)),X.a.createElement(K.a,{item:!0},X.a.createElement(nc.components.PageNavigation,null)),X.a.createElement(K.a,{item:!0},X.a.createElement($c,null)))),X.a.createElement(ht.a,{style:{flexGrow:1}},null===e||void 0===e?void 0:e.replace(".pdf","")),X.a.createElement(Wc,null),X.a.createElement(ro,null),X.a.createElement(Hc,null))))},co={actions:L,components:q,selectors:F},oo="extractionData",io=oo+"/CLOSE_CONTEXT_MENU",uo=oo+"/OPEN_CONTEXT_MENU",lo=function(e){return e[oo].present},so=Object(ie.a)(lo,(function(e){return e.menuRef})),fo=Object(ie.a)(lo,(function(e){return e.fullCardRef})),mo=Object(ie.a)(lo,(function(e){return e.qaRefs})),po=Object(ie.a)(lo,(function(e){return e.position})),vo=Object(ie.a)(po,so,mo,Va.selectors.getActiveRiverCards,(function(e,t,n,r){return{position:e,menuRef:t,qaRefs:n,riverCards:r}})),Eo=function(e,t){var n,r,a=so(e).current,c=null===(n=fo(e).current)||void 0===n?void 0:n.parentNode,o=mo(e).map((function(e){return e.current})).filter((function(e){return!!e})).map((function(e){return e.parentNode})),i=t.target;if(null===a||void 0===a||null===(r=a.querySelector("div.MuiPaper-root"))||void 0===r?void 0:r.contains(i))return!0;if(null===c||void 0===c?void 0:c.contains(i))return!0;var u,l=Object(It.a)(o);try{for(l.s();!(u=l.n()).done;){if(u.value.contains(i))return!0}}catch(d){l.e(d)}finally{l.f()}return!1},Oo=function(){return{type:io}},bo=function(e){return{type:uo,payload:e}},go=function(e){return function(t,n){!Eo(n(),e)&&(t(Oo()),t(Va.actions.resetHoveredCard()))}},Do=function(e){return function(t,n){var r=n();Ca.selectors.sourceConfigExists(r)&&(e.preventDefault(),t(bo({x:e.x,y:e.y})))}},yo=function(e,t){return function(n,r){n(Oo()),console.log(t),n(Ca.actions.addSelectionGoal({cardField:e,cardID:t,updateType:"REPLACE"}))}},jo={menuRef:Object(z.createRef)(),fullCardRef:Object(z.createRef)(),qaRefs:[Object(z.createRef)(),Object(z.createRef)()],position:null},Co=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jo,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case io:return Object(jt.a)(Object(jt.a)({},e),{},{position:null});case uo:return Object(jt.a)(Object(jt.a)({},e),{},{position:r});case ir.actionTypes.CARD_PUSH:return"Q-A"===r.type?Object(jt.a)(Object(jt.a)({},e),{},{qaRefs:[].concat(Object(Ua.a)(e.qaRefs),[Object(z.createRef)()])}):e;default:return e}},To=n(92),ho=function(e){var t=e.cardConfig,n=Object(Pe.c)();return X.a.createElement(vc.a,{onClick:function(){n(yo("note",t.cardID))},onMouseEnter:function(){n(Va.actions.trySetHoveredCard(t.cardID,"note"))}},t.type)},So=function(e){var t=e.cardConfig,n=e.qaRef,r=Object(Pe.c)();return X.a.createElement(To.a,{label:"Q-A",parentMenuOpen:!0,onMouseEnter:function(){r(Va.actions.trySetHoveredCard(t.cardID,"q"))}},X.a.createElement(vc.a,{ref:n,onClick:function(){r(yo("q",t.cardID))},onMouseEnter:function(){r(Va.actions.trySetHoveredCard(t.cardID,"q"))}},"Q-field"),X.a.createElement(vc.a,{onClick:function(){r(yo("a",t.cardID))},onMouseEnter:function(){r(Va.actions.trySetHoveredCard(t.cardID,"a"))}},"A-field"))},Ao=function(e){var t=e.cardConfig,n=e.qaRef;switch(t.type){case"Q-A":return X.a.createElement(So,{cardConfig:t,qaRef:n});default:return X.a.createElement(ho,{cardConfig:t})}},No=function(e){var t=e.onClick;return X.a.createElement(vc.a,{onClick:t},"New: Q (Q-A)")},Ro=function(e){var t=e.onClick;return X.a.createElement(vc.a,{onClick:t},"New: A (Q-A)")},Io=function(e){var t=e.onClick;return X.a.createElement(vc.a,{onClick:t},"New: Note")},Mo=function(){var e=Object(Pe.c)();return X.a.createElement(z.Fragment,null,X.a.createElement(Io,{onClick:function(){e(yo("note"))}}),X.a.createElement(No,{onClick:function(){e(yo("q"))}}),X.a.createElement(Ro,{onClick:function(){e(yo("a"))}}))},wo=function(e,t){var n=Object(z.useRef)((function(){}));Object(z.useEffect)((function(){n.current=t}),[t]),Object(z.useEffect)((function(){var t=function(e){return n.current(e)};return document.addEventListener(e,t),function(){document.removeEventListener(e,t)}}),[e])};var Po=Object(Pe.b)(vo)((function(e){var t=e.position,n=e.menuRef,r=e.qaRefs,a=e.riverCards,c=Object(Pe.c)();wo("mousedown",(function(e){c(go(e))})),wo("contextmenu",(function(e){c(Do(e))}));var o=Object(Pe.d)(fo),i=!!t,u=ge(),l=ge(),d=i?{top:t.y,left:t.x}:void 0,s=function(e,t){var n=[],r=[];return e.forEach((function(e){return(t(e)?n:r).push(e)})),[n,r]}(a,ir.model.model_config.cardIsNotFull),f=Object(Ct.a)(s,2),m=f[0],p=f[1];return X.a.createElement(pc.a,{ref:i?n:null,keepMounted:!0,open:i,anchorReference:"anchorPosition",anchorPosition:d},i&&m.map((function(e){return X.a.createElement(Ao,{cardConfig:e,key:u(),qaRef:"Q-A"===e.type?r[l()]:void 0})})),i&&m.length>0&&X.a.createElement(Ue.a,null),i&&X.a.createElement(Mo,null),i&&p.length>0&&X.a.createElement(Ue.a,null),i&&p.length>0&&X.a.createElement(To.a,{label:"Full cards: ",parentMenuOpen:!0},X.a.createElement(vc.a,{ref:o,style:{position:"absolute"}}),p.map((function(e){return X.a.createElement(Ao,{cardConfig:e,key:u(),qaRef:"Q-A"===e.type?r[l()]:void 0})}))))})),ko={actions:W,actionTypes:H,constants:B,components:G,reducer:Co,selectors:Q,services:V};function _o(){return X.a.createElement(z.Fragment,null,X.a.createElement(nc.components.WindowMeasurer,null),X.a.createElement(K.a,{container:!0,justify:"center",direction:"column",alignItems:"stretch",spacing:1},X.a.createElement(K.a,{item:!0},X.a.createElement(co.components.ControlBar,null)),X.a.createElement(mc.a,{id:"back-to-top-anchor"}),X.a.createElement(K.a,{item:!0},X.a.createElement(nc.components.PDFDocument,null))),X.a.createElement(ko.components.ContextMenuContainer,null),X.a.createElement(Ca.components.SelectionSnackbar,null))}var xo,Uo=n(30),Fo=n(157),Lo=n(65),qo=n(158),Bo=n.n(qo),Ho=function(e){return Object(jt.a)(Object(jt.a)({},e),{},{menuRef:null,fullCardRef:null,qaRefs:e.qaRefs.map((function(e){return null}))})},Qo=function(e){return Object(jt.a)(Object(jt.a)({},e),{},{menuRef:Object(z.createRef)(),fullCardRef:Object(z.createRef)(),qaRefs:e.qaRefs.map((function(e){return Object(z.createRef)()}))})},Vo=Object(Lo.a)((function(e){return Object(jt.a)(Object(jt.a)({},e),{},{future:e.future.map(Ho),past:e.past.map(Ho),present:Ho(e.present)})}),(function(e){return Object(jt.a)(Object(jt.a)({},e),{},{future:e.future.map(Qo),past:e.past.map(Qo),present:Qo(e.present)})}),{whitelist:[ko.constants.NAME]}),Wo=Object(Lo.a)((function(e){return function(e){return Object(jt.a)(Object(jt.a)({},e),{},{documentRef:null,materialData:null,pdf:null})}(e)}),(function(e){return function(e){return Object(jt.a)(Object(jt.a)({},e),{},{pdf:void 0,spanOrigin:null,windowMeasurements:null})}(e)}),{whitelist:[nc.constants.NAME]}),Go={key:"root",storage:Bo.a,transforms:[Vo,Wo]},zo=n(159),Xo=Object(Uo.combineReducers)((xo={},Object(Jn.a)(xo,Ca.constants.NAME,ac()(Ca.reducer,{filter:Object(rc.includeAction)([Ca.actionTypes.SELECTION_GOAL,Ca.actionTypes.SELECTION_SOURCE])})),Object(Jn.a)(xo,ko.constants.NAME,ac()(ko.reducer,{filter:Object(rc.includeAction)([ir.actionTypes.CARD_PUSH])})),Object(Jn.a)(xo,Va.constants.NAME,ac()(Va.reducer,{filter:Object(rc.includeAction)([ir.actionTypes.CARD_PUSH,ir.actionTypes.CARD_REMOVE,cr.actionTypes.LOAD_DOCUMENT_DATA_SETS])})),Object(Jn.a)(xo,nc.constants.NAME,nc.reducer),Object(Jn.a)(xo,ir.constants.NAME,ac()(ir.reducer,{filter:Object(rc.includeAction)([cr.actionTypes.LOAD_DOCUMENT_DATA_SETS,ir.actionTypes.CARD_PUSH,ir.actionTypes.CARD_REPLACE,ir.actionTypes.CARD_REMOVE])})),Object(Jn.a)(xo,cr.constants.NAME,ac()(cr.reducer,{filter:Object(rc.includeAction)([cr.actionTypes.LOAD_DOCUMENT_DATA_SETS])})),xo)),Jo=Object(Lo.b)(Go,Xo),Yo=Object(zo.composeWithDevTools)({stateSanitizer:function(e){return e.displayData.pdf?Object(jt.a)(Object(jt.a)({},e),{},{displayData:Object(jt.a)(Object(jt.a)({},e.displayData),{},{pdf:"PDF_FILE_IS_HERE"})}):e}})(Object(Uo.applyMiddleware)(Fo.a)),Ko=Object(Uo.createStore)(Jo,Yo),$o=Object(Lo.c)(Ko),Zo=n(160);n(244),Y.a.render(X.a.createElement(X.a.StrictMode,null,X.a.createElement(Pe.a,{store:Ko},X.a.createElement(Zo.a,{loading:null,persistor:$o},X.a.createElement(_o,null)))),document.getElementById("root"))}},[[173,1,2]]]);
//# sourceMappingURL=main.2efbe40d.chunk.js.map