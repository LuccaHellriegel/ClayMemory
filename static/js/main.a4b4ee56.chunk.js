(this.webpackJsonprem=this.webpackJsonprem||[]).push([[0],{146:function(e,t,n){e.exports=n(255)},168:function(e,t,n){},169:function(e,t,n){},173:function(e,t){},175:function(e,t){},176:function(e,t){},177:function(e,t){},178:function(e,t){},255:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"NAME",(function(){return H}));var a={};n.r(a),n.d(a,"MATERIAL_DATA",(function(){return ne})),n.d(a,"SELECTION_UPDATE",(function(){return re}));var c={};n.r(c),n.d(c,"NAME",(function(){return ae}));var o={};n.r(o),n.d(o,"getAll",(function(){return ce})),n.d(o,"getTimeStamp",(function(){return oe})),n.d(o,"getWordSelectionGroups",(function(){return ue})),n.d(o,"getWordRangeGroups",(function(){return ie})),n.d(o,"getMaterialSpanGroups",(function(){return le})),n.d(o,"getMaterialBoundingRectGroups",(function(){return se})),n.d(o,"getDataExists",(function(){return fe})),n.d(o,"createDataConditionalSelector",(function(){return de}));var u={};n.r(u),n.d(u,"tryInterval",(function(){return ve})),n.d(u,"captureMaterialData",(function(){return Oe})),n.d(u,"updateSelectionGroup",(function(){return me}));var i={};n.r(i),n.d(i,"DataGuardHOC",(function(){return Se}));var l={};n.r(l),n.d(l,"PDF_UPLOADED",(function(){return Ce})),n.d(l,"MATERIAL_LOADED",(function(){return De})),n.d(l,"DISPLAY_STATUS",(function(){return he})),n.d(l,"PAGE_UPDATE",(function(){return Re}));var s={};n.r(s),n.d(s,"NAME",(function(){return Ie}));var f={};n.r(f),n.d(f,"getAll",(function(){return Ae})),n.d(f,"getPDF",(function(){return Me})),n.d(f,"getRenderCritialData",(function(){return Te})),n.d(f,"getTotalPages",(function(){return Pe})),n.d(f,"getCurrentPage",(function(){return Ne})),n.d(f,"getPageControlData",(function(){return Ue})),n.d(f,"getDocumentRef",(function(){return we})),n.d(f,"getDisplayStatus",(function(){return _e})),n.d(f,"displayStatusIsShow",(function(){return ke}));var d={};n.r(d),n.d(d,"materialUploaded",(function(){return Le})),n.d(d,"materialLoaded",(function(){return xe})),n.d(d,"materialRendered",(function(){return Ge})),n.d(d,"setPage",(function(){return Fe})),n.d(d,"movePage",(function(){return He})),n.d(d,"nextPage",(function(){return Qe})),n.d(d,"previousPage",(function(){return qe})),n.d(d,"toggleDisplayState",(function(){return Ve}));var p={};n.r(p),n.d(p,"PDFDocumentContainer",(function(){return Ye})),n.d(p,"PDFUploadContainer",(function(){return Je})),n.d(p,"PageChooser",(function(){return dt})),n.d(p,"NextButton",(function(){return rt})),n.d(p,"PreviousButton",(function(){return nt})),n.d(p,"ShowMaterialButton",(function(){return it}));var v={};n.r(v),n.d(v,"getAll",(function(){return Ot})),n.d(v,"getSectionIndex",(function(){return mt})),n.d(v,"getUpdateAllowed",(function(){return bt})),n.d(v,"getSectionMovementState",(function(){return Et})),n.d(v,"getCurrentSpanGroup",(function(){return gt})),n.d(v,"getCurrentBoundingRectGroup",(function(){return jt})),n.d(v,"getCurrentBoundingRect",(function(){return St})),n.d(v,"getCurrentSelectionPosition",(function(){return yt})),n.d(v,"getCurrentSelectionGroup",(function(){return Ct})),n.d(v,"getCurrentWordRangeGroup",(function(){return Dt})),n.d(v,"getCurrentSelectedWordRanges",(function(){return ht})),n.d(v,"getManuallySelectedString",(function(){return Rt})),n.d(v,"getCurrentRangeArrStr",(function(){return It})),n.d(v,"manualSelectionOccured",(function(){return At})),n.d(v,"getCurrentSelectedString",(function(){return Mt})),n.d(v,"getSelectionType",(function(){return Tt})),n.d(v,"selectionTypeIsSection",(function(){return Pt})),n.d(v,"getOverlayRelevantData",(function(){return Nt}));var O={};n.r(O),n.d(O,"updateSelection",(function(){return Ut})),n.d(O,"toggleSectionMovementState",(function(){return wt})),n.d(O,"updateSection",(function(){return _t})),n.d(O,"updateSelectionType",(function(){return kt})),n.d(O,"toggleSelectionType",(function(){return Lt})),n.d(O,"updateManuallySelectedString",(function(){return xt})),n.d(O,"resetManuallySelectedString",(function(){return Gt}));var m={};n.r(m),n.d(m,"DocumentCanvasContainer",(function(){return Ht})),n.d(m,"SelectionTypeButton",(function(){return zt}));var b={};n.r(b),n.d(b,"NAME",(function(){return en}));var E={};n.r(E),n.d(E,"getAll",(function(){return nn})),n.d(E,"getFocus",(function(){return rn}));var g={};n.r(g),n.d(g,"updateFocus",(function(){return an})),n.d(g,"tryUpdateFocus",(function(){return cn})),n.d(g,"toggleContextMenuFocus",(function(){return on}));var j={};n.r(j),n.d(j,"NAME",(function(){return sn}));var S={};n.r(S),n.d(S,"TOGGLE_CONTEXT_MENU",(function(){return fn})),n.d(S,"CLOSE_CONTEXT_MENU",(function(){return dn})),n.d(S,"OPEN_CONTEXT_MENU",(function(){return pn}));var y={};n.r(y),n.d(y,"selectedStringToConfig",(function(){return mn}));var C={};n.r(C),n.d(C,"NAME",(function(){return bn}));var D={};n.r(D),n.d(D,"CARD_UPDATE",(function(){return En})),n.d(D,"CARD_PUSH",(function(){return gn}));var h={};n.r(h),n.d(h,"getAll",(function(){return jn})),n.d(h,"getLastCardIDNumber",(function(){return Sn})),n.d(h,"getCards",(function(){return yn}));var R={};n.r(R),n.d(R,"cardPush",(function(){return Cn})),n.d(R,"cardUpdate",(function(){return Dn})),n.d(R,"updateCardContent",(function(){return hn})),n.d(R,"pushCardContent",(function(){return Rn}));var I={};n.r(I),n.d(I,"toggleContextMenu",(function(){return Mn})),n.d(I,"closeContextMenu",(function(){return Tn})),n.d(I,"openContextMenu",(function(){return Pn})),n.d(I,"triggerSelectionGrab",(function(){return Nn}));var A={};n.r(A),n.d(A,"NAME",(function(){return _n}));var M={};n.r(M),n.d(M,"getAll",(function(){return kn})),n.d(M,"getRiverMakeUps",(function(){return Ln})),n.d(M,"getActiveRiverMakeUpID",(function(){return xn})),n.d(M,"getActiveRiverMakeUp",(function(){return Gn})),n.d(M,"getActiveRiverCardIDs",(function(){return Fn})),n.d(M,"getActiveRiverCards",(function(){return Wn})),n.d(M,"getRiverShowState",(function(){return Bn})),n.d(M,"riverShowStateIsShow",(function(){return Hn}));var T={};n.r(T),n.d(T,"ActiveCardRiver",(function(){return tr})),n.d(T,"ShowRiverButton",(function(){return ur})),n.d(T,"SummaryRiver",(function(){return ir}));var P={};n.r(P),n.d(P,"getAll",(function(){return mr})),n.d(P,"getContextMenuState",(function(){return br})),n.d(P,"getContextMenuRef",(function(){return Er})),n.d(P,"getContextMenuQARefs",(function(){return gr})),n.d(P,"getContextMenuInitData",(function(){return jr}));var N={};n.r(N),n.d(N,"ContextMenuContainer",(function(){return Mr}));var U={};n.r(U),n.d(U,"contextMenuContainsTargetNode",(function(){return Tr}));var w={};n.r(w),n.d(w,"ControlContainer",(function(){return Fr})),n.d(w,"ControlBar",(function(){return Hr}));var _=n(0),k=n.n(_),L=n(14),x=n.n(L),G=n(19),F=n(296),W=n(125),B=n(257),H="selectionData",Q=H+"/SECTION_UPDATE",q=H+"/SECTION_STATE",V=H+"/SELCTION_TYPE",X=H+"/SELECTED_STRING",z=n(7),Y=n(43),J=n(2),K=n(51),Z=function(e){return{span:e,rect:e.getBoundingClientRect()}};var $=function(e){return e.bottom-e.y},ee=function(e,t){var n=$(e);return function(e,t){return Math.abs(e.y-t.y)}(e,t)>1.5*n},te=function(e){var t=Array.from(e.querySelectorAll("span"));if(0===t.length)return null;var n=function(e){return function(e,t){for(var n=e[0],r=[[n]],a=1;a<e.length;a++){var c=e[a];t(n,c)&&r.push([]),r[r.length-1].push(c),n=c}return r}(e,(function(e,t){return ee(e.rect,t.rect)}))}(function(e){return e.sort((function(e,t){return e.rect.y-t.rect.y}))}(function(e){return e.map(Z)}(t))).map((function(e){return function(e){return e.sort((function(e,t){return e.rect.x-t.rect.x}))}(e)})).map((function(e){return function(e){var t,n=[],r=[],a=Object(K.a)(e);try{for(a.s();!(t=a.n()).done;){var c=t.value;n.push(c.span),r.push(c.rect)}}catch(o){a.e(o)}finally{a.f()}return{spans:n,boundingRects:r}}(e)})).reduce((function(e,t){return e[0].push(t.spans),e[1].push(t.boundingRects),e}),[[],[]]),r=Object(G.a)(n,2),a=r[0],c=r[1],o=a.map((function(e){return e.map((function(e){return function(e){var t=[],n=e.childNodes[0],r=e.textContent;if(r){var a,c=r.split(" "),o=0,u=0,i=Object(K.a)(c);try{for(i.s();!(a=i.n()).done;){var l=a.value;if(l.length>=1){u+=l.length,t.length>0&&(u+=1);var s=document.createRange();s.setStart(n,o),s.setEnd(n,u),t.push(s),o+=l.length+1}else o+=1,u+=1}}catch(f){i.e(f)}finally{i.f()}}return t}(e)}))})),u=o.map((function(e){return e.map((function(e){return e.map((function(e){return 1}))}))}));return{materialSpanGroups:a,materialBoundingRectGroups:c,materialWordGroups:o,materialWordSelectionGroups:u}},ne="analyze/MATERIAL_DATA",re="analyze/SELECTION_UPDATE",ae="materialData",ce=function(e){return e[ae]},oe=Object(z.a)(ce,(function(e){return e.materialDataTimeStamp})),ue=Object(z.a)(ce,(function(e){return e.materialWordSelectionGroups})),ie=Object(z.a)(ce,(function(e){return e.materialWordGroups})),le=Object(z.a)(ce,(function(e){return e.materialSpanGroups})),se=Object(z.a)(ce,(function(e){return e.materialBoundingRectGroups})),fe=Object(z.a)(oe,(function(e){return e>0})),de=function(e){return function(t){return fe(t)?Object(J.a)(Object(J.a)({},e(t)),{},{show:!0}):{}}},pe=function(){var e=0;return function(){var t=e;return e++,t}},ve=function(e,t,n){var r=pe(),a=setInterval((function(){(r()>e||n())&&clearInterval(a)}),t)};function Oe(e){return function(t,n){var r=n(),a=e.current;if(a){var c=Date.now(),o=te(a);if(o&&oe(r)<c){var u=Object(J.a)(Object(J.a)({},o),{},{materialDataTimeStamp:c});t({type:ne,payload:u})}else ve(10,20,(function(){var e=te(a);if(e&&oe(n())<c){var r=Object(J.a)(Object(J.a)({},e),{},{materialDataTimeStamp:c});return t({type:ne,payload:r}),!0}return!1}))}}}var me=function(e,t){return function(n,r){var a=r(),c=Object(Y.a)(ue(a));c[t]=e,n({type:re,payload:c})}},be={materialDataTimeStamp:-1/0},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case ne:return r;case re:return Object(J.a)(Object(J.a)({},e),{},{materialWordSelectionGroups:r});default:return e}},ge=n(8),je=n(32),Se=function(e,t,n){return Object(ge.b)(de(t),n)((r=e,function(e){var t=e.show,n=Object(je.a)(e,["show"]);return t?k.a.createElement(r,n):null}));var r},ye={actions:u,actionTypes:a,constants:c,reducer:Ee,selectors:o,components:i},Ce="display/PDF_UPLOADED",De="display/MATERIAL_LOADED",he="display/DISPLAY_STATUS",Re="display/PAGE_UPDATE",Ie="displayData",Ae=function(e){return e[Ie]},Me=Object(z.a)(Ae,(function(e){return{pdf:e.pdf}})),Te=Object(z.a)(Ae,(function(e){return{pdf:e.pdf,currentPage:e.currentPage,documentRef:e.documentRef}})),Pe=Object(z.a)(Ae,(function(e){return e.totalPages})),Ne=Object(z.a)(Ae,(function(e){return e.currentPage})),Ue=Object(z.a)(Pe,Ne,(function(e,t){return{currentPage:t,totalPages:e}})),we=Object(z.a)(Ae,(function(e){return e.documentRef})),_e=Object(z.a)(Ae,(function(e){return e.displayStatus})),ke=Object(z.a)(_e,(function(e){return"SHOW"===e})),Le=function(e){return function(t){var n=e.target.files,r=n?n[0]:null;r&&t({type:Ce,payload:r})}},xe=function(e){return{type:De,payload:e}},Ge=function(){return{type:he,payload:"SHOW"}},Fe=function(e){return{type:Re,payload:e}},We=function(e,t){return e===t+1?1:e},Be=function(e,t){return 0===e?t:e},He=function(e){return function(t,n){var r=Ue(n()),a=r.currentPage,c=r.totalPages;if(c)switch(e){case"NEXT":t({type:Re,payload:We(a+1,c)});break;case"PREVIOUS":t({type:Re,payload:Be(a-1,c)})}}},Qe=function(){return He("NEXT")},qe=function(){return He("PREVIOUS")},Ve=function(){return function(e,t){var n="SHOW"===_e(t())?"HIDE":"SHOW";e({type:he,payload:n})}},Xe=(n(168),n(169),n(70));Xe.pdfjs.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(Xe.pdfjs.version,"/pdf.worker.js");var ze={cMapUrl:"cmaps/",cMapPacked:!0};var Ye=Object(ge.b)(Te,{materialRendered:Ge,materialLoaded:xe,captureMaterialData:ye.actions.captureMaterialData})((function(e){var t=e.parentSize,n=e.pdf,r=e.currentPage,a=e.materialRendered,c=e.materialLoaded,o=e.captureMaterialData,u=e.documentRef,i=Object(ge.c)(),l=Object(ge.d)(ye.selectors.getDataExists);return k.a.createElement(Xe.Document,{file:n,options:ze,onLoadSuccess:function(e){var t=e.numPages;c(t)},inputRef:u,onItemClick:function(e){var t=e.pageNumber;i(Fe(parseInt(t)))}},n&&k.a.createElement(Xe.Page,{width:t.width,pageNumber:r,onRenderSuccess:function(){document.querySelectorAll(".react-pdf__Page__textContent").forEach((function(e){var t=e.style;t.top="0",t.left="0",t.transform=""})),a(),l&&o(u)}}))}));var Je=Object(ge.b)(Me,{onUpload:Le})((function(e){var t=e.pdf,n=e.onUpload;return t?null:k.a.createElement("input",{onChange:n,type:"file",accept:".pdf"})})),Ke=n(256),Ze=n(128),$e=n.n(Ze),et=n(127),tt=n.n(et),nt=function(){var e=Object(ge.c)();return k.a.createElement(Ke.a,{type:"button",onClick:function(){e(qe())}},k.a.createElement(tt.a,null))},rt=function(){var e=Object(ge.c)();return k.a.createElement(Ke.a,{type:"button",onClick:function(){e(Qe())}},k.a.createElement($e.a,null))},at=n(129),ct=n.n(at),ot=n(130),ut=n.n(ot),it=function(){var e=Object(_.useState)(!0),t=Object(G.a)(e,2),n=t[0],r=t[1],a=Object(ge.c)();return k.a.createElement(Ke.a,{type:"button",onClick:function(){a(Ve()),r(!n)}},n?k.a.createElement(ct.a,null):k.a.createElement(ut.a,null))},lt=n(295),st=n(302),ft=/(\D)/,dt=function(){var e=Object(ge.c)(),t=Object(ge.d)(Ue),n=t.currentPage,r=t.totalPages,a=Object(_.useState)({error:!1,value:null===n||void 0===n?void 0:n.toString(),userInput:null===n||void 0===n?void 0:n.toString()}),c=Object(G.a)(a,2),o=c[0],u=c[1];return o.value!==n.toString()&&u({error:!1,value:n.toString(),userInput:n.toString()}),k.a.createElement(lt.a,{variant:"h6"},k.a.createElement(st.a,{type:"text",variant:"filled",value:o.userInput,onKeyDown:function(t){if("Enter"===t.key){t.preventDefault();var n=t.target.value;o.error||e(Fe(parseInt(n)))}},onChange:function(e){var t=e.target.value;!function(e,t){if(""===e||null!==e.trim().match(ft))return!1;var n=parseInt(e);return!(n<1||t<n)}(t,r)?u(Object(J.a)(Object(J.a)({},o),{},{error:!0,userInput:t})):u(Object(J.a)(Object(J.a)({},o),{},{error:!1,userInput:t}))},error:o.error}),"of ",r)},pt={displayStatus:"SHOW",currentPage:1,documentRef:Object(_.createRef)()},vt={actions:d,actionTypes:l,components:p,constants:s,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Ce:return Object(J.a)(Object(J.a)({},e),{},{pdf:r});case De:return Object(J.a)(Object(J.a)({},e),{},{totalPages:r});case Re:return Object(J.a)(Object(J.a)({},e),{},{currentPage:r});case he:return Object(J.a)(Object(J.a)({},e),{},{displayStatus:r});default:return e}},selectors:f},Ot=function(e){return e[H]},mt=Object(z.a)(Ot,(function(e){return e.sectionIndex})),bt=Object(z.a)(Ot,(function(e){return e.sectionUpdateAllowed})),Et=Object(z.a)(Ot,(function(e){return e.sectionMovementState})),gt=Object(z.a)(ye.selectors.getMaterialSpanGroups,mt,(function(e,t){return e[t]})),jt=Object(z.a)(ye.selectors.getMaterialBoundingRectGroups,mt,(function(e,t){return e[t]})),St=Object(z.a)(jt,(function(e){return e[0]})),yt=function(e){return ye.selectors.getDataExists(e)?St(e):{x:0,y:0}},Ct=Object(z.a)(ye.selectors.getWordSelectionGroups,mt,(function(e,t){return e[t]})),Dt=Object(z.a)(ye.selectors.getWordRangeGroups,mt,(function(e,t){return e[t]})),ht=Object(z.a)(Ct,Dt,(function(e,t){return t.flatMap((function(t,n){return t.filter((function(t,r){return 1===e[n][r]}))}))})),Rt=Object(z.a)(Ot,(function(e){return e.manuallySelectedString})),It=Object(z.a)(ht,(function(e){return e.map((function(e){return e.toString()})).join(" ")})),At=Object(z.a)(Rt,(function(e){return""!==e})),Mt=Object(z.a)((function(e){return e}),At,ye.selectors.getDataExists,(function(e,t,n){return t?Rt(e):n?It(e):""})),Tt=Object(z.a)(Ot,(function(e){return e.selectionType})),Pt=Object(z.a)(Tt,(function(e){return"SECTION"===e})),Nt=Object(z.a)(gt,Ct,Dt,Et,vt.selectors.getDocumentRef,(function(e,t,n,r,a){return{spanGroup:e,selectionGroup:t,wordRangeGroup:n,movementState:r,documentRef:a}})),Ut=function(e){return function(t,n){var r=n();if(bt(r)){var a=ye.selectors.getWordSelectionGroups(r),c=mt(r),o=function(e,t){var n=!1,r=[];switch(t){case"MINUS_WORD":for(var a=0;a<e.length;a++){var c=e[a];if(!n){var o=c.indexOf(1);-1!==o&&(n=!0,(c=Object(Y.a)(c))[o]=0)}r.push(c)}if(n)return r;break;case"MINUS_SPAN":for(var u=0;u<e.length;u++){var i=e[u];if(!n)-1!==i.indexOf(1)&&(n=!0,i=i.map((function(e){return 0})));r.push(i)}if(n)return r;break;case"PLUS_WORD":for(var l=e.length-1;l>=0;l--){var s=e[l];if(!n){var f=s.lastIndexOf(0);-1!==f&&(n=!0,(s=Object(Y.a)(s))[f]=1)}r.push(s)}if(n)return r.reverse();break;case"PLUS_SPAN":for(var d=e.length-1;d>=0;d--){var p=e[d];if(!n)-1!==p.lastIndexOf(0)&&(n=!0,p=p.map((function(e){return 1})));r.push(p)}if(n)return r.reverse()}return null}(a[c],e);o&&t(ye.actions.updateSelectionGroup(o,c))}}},wt=function(){return function(e,t){var n=t();bt(n)&&e({type:q})}},_t=function(e){return function(t,n){var r=n();if(bt(r)&&"FREE"===Et(r)){var a,c=mt(r),o=ye.selectors.getMaterialSpanGroups(r);switch(e){case"UP":return-1===(a=c-1)&&(a=o.length-1),void t({type:Q,payload:a});case"DOWN":return(a=c+1)===o.length&&(a=0),void t({type:Q,payload:a})}}}},kt=function(e){return{type:V,payload:e}},Lt=function(){return function(e,t){var n=t(),r="MOUSE"===Tt(n);!ye.selectors.getDataExists(n)&&r&&e(ye.actions.captureMaterialData(vt.selectors.getDocumentRef(n))),e(kt(r?"SECTION":"MOUSE"))}},xt=function(e){return{type:X,payload:e}},Gt=function(){return xt("")},Ft=n(58);function Wt(e){var t=e.xOffset,n=void 0===t?0:t,r=e.yOffset,a=void 0===r?0:r,c=e.boundingRect,o=Object(je.a)(e,["xOffset","yOffset","boundingRect"]);return k.a.createElement(Ft.Rect,Object.assign({x:c.x-n,y:c.y-a,width:c.width,height:c.bottom-c.y},o))}function Bt(e){var t=e.spanGroup,n=e.wordRangeGroup,r=e.color,a=e.selectionGroup,c=e.container,o=e.showRects,u=Object(je.a)(e,["spanGroup","wordRangeGroup","color","selectionGroup","container","showRects"]),i=Object(_.useMemo)((function(){return function(e,t,n,r){var a=pe();return e.map((function(e,c){return 1===t[c]?k.a.createElement(Wt,{xOffset:n.x,yOffset:n.y,boundingRect:e.getBoundingClientRect(),shadowBlur:5,stroke:r,opacity:.3,key:a()}):null})).filter((function(e){return null!==e}))}(n.flat(),a.flat(),c.getBoundingClientRect(),r)}),[a,n,c,r]);return Object(_.useEffect)((function(){o&&(t[0].focus(),t[0].scrollIntoView({behavior:"smooth",block:"center",inline:"center"}))}),[t,o]),k.a.createElement(Ft.Layer,u,o&&i)}var Ht=ye.components.DataGuardHOC((function(e){var t=e.spanGroup,n=e.movementState,r=e.selectionGroup,a=e.wordRangeGroup,c=e.parentSize,o=e.documentRef,u=Object(_.useState)(1),i=Object(G.a)(u,2),l=i[0],s=i[1],f=Object(ge.d)(Pt);return Object(_.useLayoutEffect)((function(){o.current&&s($(o.current.getBoundingClientRect()))}),[o]),k.a.createElement(Ft.Stage,{width:c.width,height:l,style:{position:"absolute",pointerEvents:"none",zIndex:1}},o.current&&k.a.createElement(Bt,{showRects:f,container:o.current,spanGroup:t,color:"FREE"===n?"green":"red",selectionGroup:r,wordRangeGroup:a}))}),Nt),Qt=n(131),qt=n.n(Qt),Vt=n(132),Xt=n.n(Vt),zt=function(){var e=Object(_.useState)(!0),t=Object(G.a)(e,2),n=t[0],r=t[1],a=Object(ge.c)();return k.a.createElement(Ke.a,{type:"button",onClick:function(){a(Lt()),r(!n)}},n?k.a.createElement(qt.a,null):k.a.createElement(Xt.a,null))},Yt={sectionIndex:1,sectionUpdateAllowed:!1,sectionMovementState:"FREE",selectionType:"MOUSE",manuallySelectedString:""},Jt=function(e){return Object(J.a)(Object(J.a)({},e),{},{sectionUpdateAllowed:!1})},Kt=function(e){return Object(J.a)(Object(J.a)({},e),{},{sectionIndex:0,sectionUpdateAllowed:!0})},Zt={actions:O,components:m,constants:r,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Q:return Object(J.a)(Object(J.a)({},e),{},{sectionIndex:r});case q:return Object(J.a)(Object(J.a)({},e),{},{sectionMovementState:"FREE"===e.sectionMovementState?"LOCKED":"FREE"});case vt.actionTypes.PAGE_UPDATE:return Jt(e);case ye.actionTypes.MATERIAL_DATA:return Kt(e);case V:return Object(J.a)(Object(J.a)({},e),{},{selectionType:r});case X:return Object(J.a)(Object(J.a)({},e),{},{manuallySelectedString:r});default:return e}},selectors:v},$t=function(e,t){var n=Object(_.useRef)((function(){}));Object(_.useEffect)((function(){n.current=t}),[t]),Object(_.useEffect)((function(){var t=function(e){return n.current(e)};return document.addEventListener(e,t),function(){document.removeEventListener(e,t)}}),[e])},en="userFocus",tn=en+"/FOCUS_UPDATE",nn=function(e){return e[en]},rn=Object(z.a)(nn,(function(e){return e.focus})),an=function(e){return{type:tn,payload:e}},cn=function(e){return function(t,n){rn(n())!==e&&t(an(e))}},on=function(){return function(e,t){var n=t();if(ye.selectors.getDataExists(n))switch(rn(t())){case"CONTEXT_MENU":e(an("SELECTION"));break;case"SELECTION":e(an("CONTEXT_MENU"))}}},un={focus:"CONTROL"},ln={actions:g,constants:b,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case tn:return Object(J.a)(Object(J.a)({},e),{},{focus:r});default:return e}},selectors:E},sn="creationData",fn=sn+"/TOGGLE_CONTEXT_MENU",dn=sn+"/CLOSE_CONTEXT_MENU",pn=sn+"/OPEN_CONTEXT_MENU",vn={REPLACE:function(e,t){return t},APPEND:function(e,t){return e+t}},On={NOTE:function(e,t){return Object(J.a)(Object(J.a)({},e),{},{content:t(e.content)})},Q:function(e,t){var n=e.content;return Object(J.a)(Object(J.a)({},e),{},{content:Object(J.a)(Object(J.a)({},n),{},{q:t(n.q)})})},A:function(e,t){var n=e.content;return Object(J.a)(Object(J.a)({},e),{},{content:Object(J.a)(Object(J.a)({},n),{},{a:t(n.a)})})}},mn=function(e,t,n,r,a){var c=function(e,t){return function(n){return vn[e](n,t)}}(r,e);return!!a?On[n](a,c):On[n]({type:t,content:"Q-A"===t?{q:"",a:""}:""},c)},bn="cards",En=bn+"/CARD_UPDATE",gn=bn+"/CARD_PUSH",jn=function(e){return e.cards},Sn=Object(z.a)(jn,(function(e){return e.lastCardIDNumber})),yn=Object(z.a)(jn,(function(e){return e.cards})),Cn=function(e){return function(t,n){var r;t({type:gn,payload:Object(J.a)(Object(J.a)({},e),{},{card:Object(J.a)(Object(J.a)({},e.card),{},{cardID:(r=Sn(n()),(r+1).toString())})})})}},Dn=function(e){return{type:En,payload:e}},hn=function(e,t,n,r,a){return function(c,o){var u=o(),i=yn(u)[t],l=mn(e,i.type,n,r,i);c(Dn({riverID:a,card:l}))}},Rn=function(e,t,n,r,a){var c=mn(e,a,t,n);return Cn({riverID:r,card:c})},In={cards:{0:{cardID:"0",type:"Q-A",content:{q:"Was ist der Sinn des Lebens?",a:"42"}},1:{cardID:"1",type:"Q-A",content:{q:"Welches Layout macht mehr Sinn?",a:"??"}},2:{cardID:"2",type:"Note",content:"Note here"}},lastCardIDNumber:2},An={services:y,constants:C,actionTypes:D,actions:R,reducer:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In,r=arguments.length>1?arguments[1]:void 0,a=r.type,c=r.payload;switch(a){case gn:var o=n.lastCardIDNumber+1;return(t=Object(J.a)({},n.cards))[c.card.cardID]=c.card,Object(J.a)(Object(J.a)({},n),{},{cards:t,lastCardIDNumber:o});case En:return e=c.card.cardID,(t=Object(J.a)({},n.cards))[e]=c.card,Object(J.a)(Object(J.a)({},n),{},{cards:t});default:return n}},selectors:h},Mn=function(){return function(e){e({type:fn}),e(ln.actions.toggleContextMenuFocus())}},Tn=function(){return function(e){e({type:dn}),e(ln.actions.updateFocus("SELECTION"))}},Pn=function(){return function(e){e({type:pn}),e(ln.actions.updateFocus("SELECTION"))}},Nn=function(e,t,n,r){return function(a,c){a(Tn());var o="Q-A"===t?"REPLACE":"APPEND",u=Zt.selectors.getCurrentSelectedString(c());a(void 0!==r?An.actions.updateCardContent(u,r,n,o,e):An.actions.pushCardContent(u,n,o,e,t))}},Un={open:!1,menuRef:Object(_.createRef)(),qaRefs:[Object(_.createRef)(),Object(_.createRef)()]},wn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Un,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case fn:return Object(J.a)(Object(J.a)({},e),{},{open:!e.open});case dn:return Object(J.a)(Object(J.a)({},e),{},{open:!1});case pn:return Object(J.a)(Object(J.a)({},e),{},{open:!0});case An.actionTypes.CARD_PUSH:return"Q-A"===r.card.type?Object(J.a)(Object(J.a)({},e),{},{qaRefs:[].concat(Object(Y.a)(e.qaRefs),[Object(_.createRef)()])}):e;default:return e}},_n="cardRiverState",kn=function(e){return e[_n]},Ln=Object(z.a)(kn,(function(e){return e.riverMakeUps})),xn=Object(z.a)(kn,(function(e){return e.activeRiverMakeUpID})),Gn=Object(z.a)(Ln,xn,(function(e,t){return e[t]})),Fn=Object(z.a)(Gn,(function(e){return e.cardIDs})),Wn=Object(z.a)(Fn,An.selectors.getCards,(function(e,t){return e.map((function(e){return t[e]}))})),Bn=Object(z.a)(kn,(function(e){return e.riverShowState})),Hn=Object(z.a)(Bn,(function(e){return"SHOW"===e})),Qn=function(e){var t=e.storeValue,n=void 0===t?"":t,r=e.saveChanges,a=e.style,c=Object(je.a)(e,["storeValue","saveChanges","style"]),o=Object(ge.c)(),u=Object(_.useState)({storeValue:n,mutableValue:n}),i=Object(G.a)(u,2),l=i[0],s=i[1];return l.storeValue!==n&&s({storeValue:n,mutableValue:n}),k.a.createElement(st.a,Object.assign({multiline:!0,onClick:function(){o(ln.actions.tryUpdateFocus("EDITOR"))},variant:"filled",value:l.mutableValue,onChange:function(e){var t=e.target.value;s(Object(J.a)(Object(J.a)({},l),{},{mutableValue:t}))},onBlur:function(e){r(e.target.value)},style:a},c))},qn=function(e){var t=e.config,n=e.riverID,r=Object(ge.c)();return k.a.createElement(Qn,{saveChanges:function(e){r(An.actions.updateCardContent(e,t.cardID,"NOTE","REPLACE",n))},storeValue:t.content,fullWidth:!0,label:"Note",variant:"filled",style:{backgroundColor:"#CBF3F0"},InputLabelProps:{style:{color:"#000000"}}})},Vn=function(e){var t=e.config,n=e.riverID,r=Object(ge.c)();return k.a.createElement(F.a,{container:!0,direction:"column",spacing:1},k.a.createElement(F.a,{item:!0},k.a.createElement(Qn,{saveChanges:function(e){r(An.actions.updateCardContent(e,t.cardID,"Q","REPLACE",n))},storeValue:t.content.q,fullWidth:!0,label:"Question",variant:"filled",style:{backgroundColor:"#FFBF69"},InputLabelProps:{style:{color:"#000000"}}})),k.a.createElement(F.a,{item:!0},k.a.createElement(Qn,{saveChanges:function(e){r(An.actions.updateCardContent(e,t.cardID,"A","REPLACE",n))},storeValue:t.content.a,fullWidth:!0,label:"Answer",variant:"filled",style:{backgroundColor:"#2EC4B6"},InputLabelProps:{style:{color:"#000000"}}})))},Xn=function(e){var t=e.config,n=e.riverID;switch(t.type){case"Note":return k.a.createElement(qn,{config:t,riverID:n});case"Q-A":return k.a.createElement(Vn,{config:t,riverID:n})}},zn=n(297),Yn=function(){return k.a.createElement(F.a,{item:!0},k.a.createElement(zn.a,null))},Jn=n(304),Kn=n(298),Zn=n(299),$n=function(e){var t=e.gridItems,n=e.summary,r=Object(_.useState)(3),a=Object(G.a)(r,2),c=a[0],o=a[1];return k.a.createElement(Jn.a,{defaultExpanded:!0,onMouseEnter:function(){o(20)},onMouseLeave:function(){o(3)},elevation:c},k.a.createElement(Kn.a,null,n),k.a.createElement(Zn.a,null,k.a.createElement(F.a,{container:!0,direction:"column",spacing:2,justify:"center",alignItems:"stretch"},t)))},er=function(e){var t=e.riverID,n=e.riverCards,r=Object(_.useMemo)((function(){return function(e,t){var n=pe();return e.reduce((function(e,r,a,c){return e.push(k.a.createElement(F.a,{item:!0,key:n()},k.a.createElement(Xn,{config:r,riverID:t,key:n()}))),a<c.length-1&&e.push(k.a.createElement(Yn,{key:n()})),e}),[])}(n,t)}),[n,t]);return n.length>0?k.a.createElement($n,{gridItems:r,summary:t}):null},tr=function(){var e=Object(ge.d)(xn),t=Object(ge.d)(Wn);return k.a.createElement(er,{riverID:e,riverCards:t})},nr=n(133),rr=n.n(nr),ar=n(134),cr=n.n(ar),or=_n+"/RIVER_SHOW_STATE",ur=function(){var e=Object(_.useState)(!0),t=Object(G.a)(e,2),n=t[0],r=t[1],a=Object(ge.c)();return k.a.createElement(Ke.a,{type:"button",onClick:function(){a((function(e,t){e({type:or,payload:Hn(t())?"HIDE":"SHOW"})})),r(!n)}},n?k.a.createElement(rr.a,null):k.a.createElement(cr.a,null))},ir=function(){var e=Object(ge.d)(An.selectors.getCards),t=Object.values(Object(ge.d)(Ln));return k.a.createElement(B.a,{elevation:5},k.a.createElement(lt.a,{variant:"h4",align:"center"},"SummaryRiver"),t.map((function(t){return k.a.createElement(er,{riverID:t.riverID,riverCards:t.cardIDs.length>0?t.cardIDs.map((function(t){return e[t]})):[]})})))},lr=n(23),sr=function(e){return"CardRiver "+e},fr={riverMakeUps:Object(lr.a)({},sr(1),{riverID:sr(1),cardIDs:["2","0","1"],active:!0}),activeRiverMakeUpID:sr(1),lastRiverIDNumber:1,riverShowState:"SHOW",summaryRiverID:"SummaryRiver"},dr=function(e){return{riverID:sr(e),cardIDs:[],active:!0}},pr=function(e){for(var t=Object(J.a)({},e),n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach((function(e){t.riverMakeUps[e.riverID]=e})),t},vr=function(e){return Object(J.a)(Object(J.a)({},e.riverMakeUps[e.activeRiverMakeUpID]),{},{active:!1})},Or={constants:A,components:T,reducer:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fr,r=arguments.length>1?arguments[1]:void 0,a=r.type,c=r.payload;switch(a){case vt.actionTypes.PAGE_UPDATE:var o;o=n.riverMakeUps[sr(c)]?Object(J.a)(Object(J.a)({},n.riverMakeUps[sr(c)]),{},{active:!0}):dr(c);var u=vr(n);return Object(J.a)(Object(J.a)({},pr(n,o,u)),{},{activeRiverMakeUpID:o.riverID});case An.actionTypes.CARD_PUSH:return e=Object(J.a)(Object(J.a)({},n.riverMakeUps[c.riverID]),{},{cardIDs:[].concat(Object(Y.a)(n.riverMakeUps[c.riverID].cardIDs),[c.card.cardID])}),(t=Object(J.a)({},n.riverMakeUps))[c.riverID]=e,Object(J.a)(Object(J.a)({},n),{},{riverMakeUps:t});case or:return Object(J.a)(Object(J.a)({},n),{},{riverShowState:c});default:return n}},selectors:M},mr=function(e){return e[sn]},br=Object(z.a)(mr,(function(e){return e.open})),Er=Object(z.a)(mr,(function(e){return e.menuRef})),gr=Object(z.a)(mr,(function(e){return e.qaRefs})),jr=Object(z.a)(Zt.selectors.getCurrentSelectionPosition,br,Er,gr,Or.selectors.getActiveRiverCards,(function(e,t,n,r,a){return{position:e,state:t,menuRef:n,qaRefs:r,riverCards:a}})),Sr=n(138),yr=n(139),Cr=n(305),Dr=function(e){var t=e.onClick;return k.a.createElement(Cr.a,{onClick:t},"New: Q-A")},hr=function(e){var t=e.onClick;return k.a.createElement(Cr.a,{onClick:t},"New: Note")},Rr=function(e){var t=e.cardConfig,n=e.dispatchRiver;return k.a.createElement(Cr.a,{onClick:function(){n(t.type,"NOTE",t.cardID)}},t.type)},Ir=function(e){var t=e.cardConfig,n=e.dispatchRiver,r=e.qaRef;return k.a.createElement(yr.a,{label:"Q-A",parentMenuOpen:!0},k.a.createElement(Cr.a,{ref:r,onClick:function(){n("Q-A","Q",t.cardID)}},"Q"),k.a.createElement(Cr.a,{onClick:function(){n("Q-A","A",t.cardID)}},"A"))},Ar=function(e){var t=e.cardConfig,n=e.dispatchRiver,r=e.qaRef;switch(t.type){case"Q-A":return k.a.createElement(Ir,{cardConfig:t,dispatchRiver:n,qaRef:r});default:return k.a.createElement(Rr,{cardConfig:t,dispatchRiver:n})}};var Mr=Object(ge.b)(jr)((function(e){var t=e.position,n=e.state,r=e.menuRef,a=e.qaRefs,c=e.riverCards,o=Object(ge.c)(),u=function(e,t){return function(n,r,a){t(Nn(e,n,r,a))}}(Object(ge.d)(Or.selectors.getActiveRiverMakeUpID),o),i=pe(),l=pe();return k.a.createElement(Sr.a,{ref:r,keepMounted:!0,open:n,anchorReference:"anchorPosition",anchorPosition:n?{top:t.y,left:t.x}:void 0},n&&c.map((function(e){return k.a.createElement(Ar,{cardConfig:e,dispatchRiver:u,key:i(),qaRef:"Q-A"===e.type?a[l()]:void 0})})),n&&c.length>0&&k.a.createElement(zn.a,null),k.a.createElement(Dr,{onClick:function(){u("Q-A","Q")}}),k.a.createElement(hr,{onClick:function(){u("Note","NOTE")}}))})),Tr=function(e,t){var n,r=Er(e).current,a=gr(e).map((function(e){return e.current})).filter((function(e){return!!e})).map((function(e){return e.parentNode})),c=t.target;if(null===r||void 0===r||null===(n=r.querySelector("div.MuiPaper-root"))||void 0===n?void 0:n.contains(c))return!0;var o,u=Object(K.a)(a);try{for(u.s();!(o=u.n()).done;){if(o.value.contains(c))return!0}}catch(i){u.e(i)}finally{u.f()}return!1},Pr={actions:I,actionTypes:S,constants:j,components:N,reducer:wn,selectors:P,utils:U},Nr=function(e){return function(t,n){var r=e[t.key];r&&(t.preventDefault(),n(r))}},Ur={ArrowLeft:vt.actions.previousPage(),ArrowRight:vt.actions.nextPage()},wr={ArrowDown:Zt.actions.updateSection("DOWN"),ArrowUp:Zt.actions.updateSection("UP")," ":Zt.actions.toggleSectionMovementState()},_r={a:Zt.actions.updateSelection("PLUS_WORD"),d:Zt.actions.updateSelection("MINUS_WORD"),w:Zt.actions.updateSelection("PLUS_SPAN"),s:Zt.actions.updateSelection("MINUS_SPAN")},kr={t:Pr.actions.toggleContextMenu()},Lr=Nr(Object(J.a)(Object(J.a)(Object(J.a)(Object(J.a)({},Ur),kr),wr),_r)),xr=Nr(Object(J.a)(Object(J.a)({},Ur),kr)),Gr={SELECTION:function(e,t,n){Zt.selectors.selectionTypeIsSection(n)?Lr(e,t):xr(e,t)},CONTEXT_MENU:Nr(Object(J.a)({},kr)),EDITOR:function(e,t){},CONTROL:function(e,t){}};var Fr=Object(ge.b)((function(){return{}}),{keyDownControl:function(e){return function(t,n){var r=n(),a=ln.selectors.getFocus(r);(0,Gr[a])(e,t,r)}},mouseDownControl:function(e){return function(t,n){var r=n();Pr.selectors.getContextMenuState(r)&&(!Pr.utils.contextMenuContainsTargetNode(r,e)&&t(Pr.actions.closeContextMenu()))}},mouseUpControl:function(e){return function(e,t){var n=document.getSelection();if(n){var r=n.toString();if(""!==r){var a=t(),c=ln.selectors.getFocus(a);console.log(r,c),"SELECTION"!==c&&"EDITOR"!==c||(e(Zt.actions.updateManuallySelectedString(r)),e(Pr.actions.openContextMenu()))}}}}})((function(e){var t=e.keyDownControl,n=e.mouseDownControl,r=e.mouseUpControl;return $t("keydown",t),$t("mousedown",n),$t("mouseup",r),null})),Wr=n(300),Br=n(301),Hr=function(){var e=Object(ge.d)(vt.selectors.getTotalPages);return k.a.createElement(Wr.a,{position:"static"},k.a.createElement(Br.a,{variant:"dense"},k.a.createElement(F.a,null),k.a.createElement(Or.components.ShowRiverButton,null),e&&k.a.createElement(vt.components.PageChooser,null),e&&k.a.createElement(vt.components.PreviousButton,null),e&&k.a.createElement(vt.components.NextButton,null),k.a.createElement(vt.components.ShowMaterialButton,null),e&&k.a.createElement(Zt.components.SelectionTypeButton,null)))},Qr={components:w},qr=function(){return k.a.createElement(F.a,{item:!0,style:{width:"38%"}},k.a.createElement(F.a,{container:!0,justify:"center",direction:"column",alignItems:"stretch",spacing:1},k.a.createElement(F.a,{item:!0},k.a.createElement(Or.components.ActiveCardRiver,null)),k.a.createElement(F.a,{item:!0},k.a.createElement(Or.components.SummaryRiver,null))))};var Vr=Object(W.withSize)({monitorHeight:!0,noPlaceholder:!0})((function(e){var t=e.size,n=Object(ge.c)(),r=Object(_.useState)(3),a=Object(G.a)(r,2),c=a[0],o=a[1];return k.a.createElement(F.a,{item:!0,style:{width:"60%"},onMouseEnter:function(){n(ln.actions.tryUpdateFocus("SELECTION")),o(20)},onMouseLeave:function(){o(3)}},k.a.createElement(B.a,{elevation:c},k.a.createElement(zn.a,null),k.a.createElement(Zt.components.DocumentCanvasContainer,{parentSize:t}),k.a.createElement(vt.components.PDFDocumentContainer,{parentSize:t}),k.a.createElement(vt.components.PDFUploadContainer,null)))}));function Xr(){var e=Object(ge.c)(),t=Object(ge.d)(vt.selectors.displayStatusIsShow),n=Object(ge.d)(Or.selectors.riverShowStateIsShow);return k.a.createElement("div",null,k.a.createElement(Qr.components.ControlContainer,null),k.a.createElement(F.a,{container:!0,justify:"center",direction:"column",alignItems:"stretch",spacing:1},k.a.createElement(F.a,{item:!0,onMouseEnter:function(){e(ln.actions.tryUpdateFocus("CONTROL"))}},k.a.createElement(Qr.components.ControlBar,null)),k.a.createElement(F.a,{item:!0,onMouseEnter:function(){e(ln.actions.tryUpdateFocus("EDITOR"))}},k.a.createElement(F.a,{container:!0,justify:"space-around",direction:"row",alignItems:"stretch"},n&&k.a.createElement(qr,null),t&&k.a.createElement(Vr,null)))),k.a.createElement(Pr.components.ContextMenuContainer,null))}var zr,Yr=n(96),Jr=n(42),Kr=n(136),Zr=n(137),$r=Object(Jr.combineReducers)((zr={},Object(lr.a)(zr,ln.constants.NAME,ln.reducer),Object(lr.a)(zr,Pr.constants.NAME,Pr.reducer),Object(lr.a)(zr,Or.constants.NAME,Or.reducer),Object(lr.a)(zr,ye.constants.NAME,ye.reducer),Object(lr.a)(zr,vt.constants.NAME,vt.reducer),Object(lr.a)(zr,Zt.constants.NAME,Zt.reducer),Object(lr.a)(zr,An.constants.NAME,An.reducer),zr)),ea=Object(Kr.composeWithDevTools)({stateSanitizer:function(e){var t=e.displayData.pdf?Object(J.a)(Object(J.a)({},e),{},{displayData:Object(J.a)(Object(J.a)({},e.displayData),{},{pdf:"PDF_FILE_IS_HERE"})}):e;return t.materialData?Object(J.a)(Object(J.a)({},t),{},{materialData:"MATERIAL_DATA_IS_HERE"}):t}})(Object(Jr.applyMiddleware)(Zr.a,Object(Yr.save)({debounce:500,ignoreStates:[ye.constants.NAME]}))),ta=Object(Jr.createStore)($r,Object(Yr.load)(),ea);x.a.render(k.a.createElement(k.a.StrictMode,null,k.a.createElement(ge.a,{store:ta},k.a.createElement(Xr,null))),document.getElementById("root"))},73:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=73}},[[146,1,2]]]);
//# sourceMappingURL=main.a4b4ee56.chunk.js.map