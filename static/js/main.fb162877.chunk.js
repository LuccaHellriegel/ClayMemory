(this.webpackJsonpclaymemory=this.webpackJsonpclaymemory||[]).push([[0],{187:function(e,t,n){e.exports=n(271)},213:function(e,t,n){},214:function(e,t,n){},235:function(e,t){},236:function(e,t){},237:function(e,t){},238:function(e,t){},239:function(e,t){},271:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"NAME",(function(){return Z}));var a={};n.r(a),n.d(a,"PDF_UPLOADED",(function(){return K})),n.d(a,"MATERIAL_LOADED",(function(){return $})),n.d(a,"DISPLAY_STATUS",(function(){return ee})),n.d(a,"PAGE_UPDATE",(function(){return te})),n.d(a,"ZOOM_QUEUE",(function(){return ne})),n.d(a,"MATERIAL_DATA",(function(){return re})),n.d(a,"MATERIAL_HEIGHT",(function(){return ae}));var c={};n.r(c),n.d(c,"NAME",(function(){return oe}));var o={};n.r(o),n.d(o,"SELECTED_STRING",(function(){return ie})),n.d(o,"SELECTED_PARENT",(function(){return ue})),n.d(o,"DOCUMENT_POSITION",(function(){return le})),n.d(o,"SOURCE_CARD",(function(){return se}));var i={};n.r(i),n.d(i,"transformInputOrigin",(function(){return Oe}));var u={};n.r(u),n.d(u,"NAME",(function(){return ge}));var l={};n.r(l),n.d(l,"CARD_UPDATE",(function(){return De})),n.d(l,"CARD_PUSH",(function(){return ye})),n.d(l,"CARD_REMOVE",(function(){return Ce})),n.d(l,"CARD_GOAL",(function(){return je}));var s={};n.r(s),n.d(s,"getAll",(function(){return he})),n.d(s,"getLastCardIDNumber",(function(){return Se})),n.d(s,"getCards",(function(){return Te})),n.d(s,"getGoalCard",(function(){return Re}));var d={};n.r(d),n.d(d,"cardIDToNumber",(function(){return Ne})),n.d(d,"nextCardID",(function(){return Pe})),n.d(d,"cardIsNotFull",(function(){return _e})),n.d(d,"removeCardFromCardsState",(function(){return we})),n.d(d,"replaceCardsInCardsState",(function(){return ke})),n.d(d,"updateCardInCards",(function(){return xe})),n.d(d,"addCardToCards",(function(){return Ue}));var f={};n.r(f),n.d(f,"cardPush",(function(){return Be})),n.d(f,"emptyNoteCard",(function(){return Qe})),n.d(f,"emptyQACard",(function(){return ze})),n.d(f,"cardUpdate",(function(){return Ge})),n.d(f,"updateCardContent",(function(){return We})),n.d(f,"pushCardContent",(function(){return Xe})),n.d(f,"removeCard",(function(){return Ye})),n.d(f,"setGoalCard",(function(){return Je})),n.d(f,"resetGoalCard",(function(){return Ze}));var m={};n.r(m),n.d(m,"switchToActiveRiverTooltip",(function(){return rt})),n.d(m,"switchToSummaryRiverTooltip",(function(){return at})),n.d(m,"undoTooltip",(function(){return ct})),n.d(m,"redoTooltip",(function(){return ot})),n.d(m,"nextPageTooltip",(function(){return it})),n.d(m,"previousPageTooltip",(function(){return ut})),n.d(m,"deleteCardTooltip",(function(){return lt})),n.d(m,"grabForCardTooltip",(function(){return st})),n.d(m,"jumpToOriginTooltip",(function(){return dt})),n.d(m,"appendToCardTooltip",(function(){return ft})),n.d(m,"newQACardTooltip",(function(){return mt})),n.d(m,"newNoteCardTooltip",(function(){return pt})),n.d(m,"deleteDocumentTooltip",(function(){return vt})),n.d(m,"loadSavedDocumentTooltip",(function(){return Et})),n.d(m,"noMaterialText",(function(){return bt})),n.d(m,"loadingMaterialText",(function(){return Ot})),n.d(m,"activeDocumentText",(function(){return gt})),n.d(m,"existingDataText",(function(){return Dt})),n.d(m,"loadMaterialText",(function(){return yt})),n.d(m,"downloadDatasetsText",(function(){return Ct})),n.d(m,"uploadDatasetsText",(function(){return jt})),n.d(m,"noteText",(function(){return ht})),n.d(m,"questionText",(function(){return St})),n.d(m,"answerText",(function(){return Tt})),n.d(m,"defaultEnterDelay",(function(){return Rt})),n.d(m,"defaultEnterNextDelay",(function(){return At}));var p={};n.r(p),n.d(p,"NewNoteCardTooltip",(function(){return It})),n.d(p,"AddQAButtonTooltip",(function(){return Nt})),n.d(p,"AppendButtonTooltip",(function(){return Mt})),n.d(p,"DeleteCardButtonTooltip",(function(){return Pt}));var v={};n.r(v),n.d(v,"AddNoteButton",(function(){return wt})),n.d(v,"AddQAButton",(function(){return Ut})),n.d(v,"DeleteCardButton",(function(){return Ht}));var E={};n.r(E),n.d(E,"model",(function(){return d}));var b={};n.r(b),n.d(b,"NAME",(function(){return Vt}));var O={};n.r(O),n.d(O,"ARCHIVE_CURRENT_DATA",(function(){return qt})),n.d(O,"LOAD_DOCUMENT_DATA_SETS",(function(){return Bt})),n.d(O,"DELETE_DOCUMENT_DATA_SET",(function(){return Qt})),n.d(O,"DOCUMENT_CHANGE",(function(){return zt}));var g={};n.r(g),n.d(g,"archiveDBData",(function(){return Gt})),n.d(g,"loadDocumentDataSets",(function(){return Wt})),n.d(g,"deleteDocumentDataSet",(function(){return Xt}));var D={};n.r(D),n.d(D,"getAll",(function(){return tn})),n.d(D,"getDocumentDB",(function(){return nn})),n.d(D,"getDocumentNames",(function(){return rn})),n.d(D,"getDocumentDataSets",(function(){return an}));var y={};n.r(y),n.d(y,"getAll",(function(){return ln})),n.d(y,"getCurrentSelectionPosition",(function(){return sn})),n.d(y,"getCurrentSelectedString",(function(){return dn})),n.d(y,"currentSelectionExists",(function(){return fn})),n.d(y,"getCurrentSelectedParent",(function(){return mn})),n.d(y,"getSourceCard",(function(){return pn}));var C={};n.r(C),n.d(C,"selectionToCardAppend",(function(){return vn})),n.d(C,"selectionToCard",(function(){return En})),n.d(C,"selectionToCardForSourceCard",(function(){return bn})),n.d(C,"updateManuallySelectedString",(function(){return On})),n.d(C,"resetManuallySelectedString",(function(){return gn})),n.d(C,"selectedParent",(function(){return Dn})),n.d(C,"updateSelectionPosition",(function(){return yn})),n.d(C,"setSourceCard",(function(){return Cn})),n.d(C,"trySetSourceCard",(function(){return jn})),n.d(C,"resetSourceCard",(function(){return hn})),n.d(C,"tryResetSourceCard",(function(){return Sn}));var j={};n.r(j),n.d(j,"SelectionSnackbar",(function(){return Mn}));var h={};n.r(h),n.d(h,"getSelection",(function(){return _n}));var S={};n.r(S),n.d(S,"getAll",(function(){return kn})),n.d(S,"getPDF",(function(){return xn})),n.d(S,"getPDFName",(function(){return Un})),n.d(S,"getRenderCritialData",(function(){return Ln})),n.d(S,"getTotalPages",(function(){return Fn})),n.d(S,"getCurrentPage",(function(){return Hn})),n.d(S,"getPageControlData",(function(){return Vn})),n.d(S,"getDocumentRef",(function(){return qn})),n.d(S,"getMaterialData",(function(){return Bn})),n.d(S,"getTimeStamp",(function(){return Qn})),n.d(S,"getMaterialSpans",(function(){return zn})),n.d(S,"getSpanIndex",(function(){return Gn})),n.d(S,"getMaterialBoundingRects",(function(){return Wn})),n.d(S,"getDataExists",(function(){return Xn})),n.d(S,"getDisplayStatus",(function(){return Yn})),n.d(S,"displayStatusIsShow",(function(){return Jn})),n.d(S,"getZoomQueue",(function(){return Zn})),n.d(S,"getMaterialHeight",(function(){return Kn})),n.d(S,"getCurrentOrigin",(function(){return $n}));var T={};n.r(T),n.d(T,"pdfUpload",(function(){return or})),n.d(T,"materialUploaded",(function(){return ir})),n.d(T,"materialLoaded",(function(){return ur})),n.d(T,"tryInterval",(function(){return lr})),n.d(T,"captureMaterialData",(function(){return sr})),n.d(T,"setPage",(function(){return fr})),n.d(T,"movePage",(function(){return vr})),n.d(T,"nextPage",(function(){return Er})),n.d(T,"previousPage",(function(){return br})),n.d(T,"pageControlDispatcher",(function(){return gr})),n.d(T,"toggleDisplayState",(function(){return Dr})),n.d(T,"setZoomQueue",(function(){return yr})),n.d(T,"zoomToCardOrigin",(function(){return Cr})),n.d(T,"emptyZoomQueue",(function(){return jr})),n.d(T,"setMaterialHeight",(function(){return hr})),n.d(T,"deleteDocument",(function(){return Sr}));var R={};n.r(R),n.d(R,"PageChooser",(function(){return Lr})),n.d(R,"PageNavigation",(function(){return wr})),n.d(R,"MaterialDisplayColumnWithSize",(function(){return na})),n.d(R,"PageKeyboardControl",(function(){return qr}));var A={};n.r(A),n.d(A,"NAME",(function(){return ca}));var I={};n.r(I),n.d(I,"getAll",(function(){return ua})),n.d(I,"getRiverMakeUps",(function(){return la})),n.d(I,"getActiveRiverMakeUpID",(function(){return sa})),n.d(I,"getPushToRiver",(function(){return da})),n.d(I,"getPushToRiverMakeUp",(function(){return fa})),n.d(I,"getActiveRiverMakeUp",(function(){return ma})),n.d(I,"getPushToRiverCardIDs",(function(){return pa})),n.d(I,"getPushToRiverCards",(function(){return va})),n.d(I,"getActiveRiverCardIDs",(function(){return Ea})),n.d(I,"getActiveRiverCards",(function(){return ba})),n.d(I,"getRiverShowState",(function(){return Oa})),n.d(I,"riverShowStateIsShow",(function(){return ga})),n.d(I,"getHoveredCardData",(function(){return Da})),n.d(I,"getLastRiverIDNumber",(function(){return ya})),n.d(I,"getRiverContentState",(function(){return Ca})),n.d(I,"getRiverContentFilter",(function(){return ja}));var N={};n.r(N),n.d(N,"toggleRiverShowState",(function(){return Ia})),n.d(N,"setRiverContentState",(function(){return Na})),n.d(N,"setPushToRiver",(function(){return Pa})),n.d(N,"trySetPushToRiver",(function(){return Ma})),n.d(N,"setHoveredCard",(function(){return _a})),n.d(N,"trySetHoveredCard",(function(){return wa})),n.d(N,"resetHoveredCard",(function(){return ka})),n.d(N,"setContentFilter",(function(){return xa})),n.d(N,"resetContentFilter",(function(){return Ua}));var P={};n.r(P),n.d(P,"NAME",(function(){return Ba}));var M={};n.r(M),n.d(M,"DISPLAY_FOCUS_UPDATE",(function(){return Qa}));var _={};n.r(_),n.d(_,"updateDisplayFocus",(function(){return za}));var w={};n.r(w),n.d(w,"getAll",(function(){return Xa})),n.d(w,"getDisplayFocus",(function(){return Ya}));var k={};n.r(k),n.d(k,"ActiveCardRiver",(function(){return jc})),n.d(k,"SummaryRiver",(function(){return Cc})),n.d(k,"RiverContentFormGroup",(function(){return qa}));var x={};n.r(x),n.d(x,"collectCurrentDBData",(function(){return Pc}));var U={};n.r(U),n.d(U,"archiveCurrentDBData",(function(){return Mc})),n.d(U,"downloadDBData",(function(){return wc})),n.d(U,"changeDocument",(function(){return kc})),n.d(U,"loadSavedDocument",(function(){return xc}));var L={};n.r(L),n.d(L,"ControlBar",(function(){return _o}));var F={};n.r(F),n.d(F,"NAME",(function(){return ko}));var H={};n.r(H),n.d(H,"TOGGLE_CONTEXT_MENU",(function(){return xo})),n.d(H,"CLOSE_CONTEXT_MENU",(function(){return Uo})),n.d(H,"OPEN_CONTEXT_MENU",(function(){return Lo}));var V={};n.r(V),n.d(V,"getAll",(function(){return Fo})),n.d(V,"getContextMenuState",(function(){return Ho})),n.d(V,"getContextMenuRef",(function(){return Vo})),n.d(V,"getContextMenuFullCardsRef",(function(){return qo})),n.d(V,"getContextMenuQARefs",(function(){return Bo})),n.d(V,"getContextMenuInitData",(function(){return Qo}));var q={};n.r(q),n.d(q,"toggleContextMenu",(function(){return zo})),n.d(q,"closeContextMenu",(function(){return Go})),n.d(q,"openContextMenu",(function(){return Wo}));var B={};n.r(B),n.d(B,"contextMenuContainsTargetNode",(function(){return ci}));var Q={};n.r(Q),n.d(Q,"ContextMenuContainer",(function(){return ui}));var z=n(0),G=n.n(z),W=n(16),X=n.n(W),Y=n(310),J=n(3),Z="displayData",K=Z+"/PDF_UPLOADED",$=Z+"/MATERIAL_LOADED",ee=Z+"/DISPLAY_STATUS",te=Z+"/PAGE_UPDATE",ne=Z+"/ZOOM_QUEUE",re=Z+"/MATERIAL_DATA",ae=Z+"/MATERIAL_HEIGHT",ce=n(10),oe="selectionData",ie=oe+"/SELECTED_STRING",ue=oe+"/SELECTED_PARENT",le=oe+"/SELECTION_POSITION",se=oe+"/SOURCE_CARD",de=n(56),fe=function(){return{q:{},a:{}}},me={q:fe,a:fe,note:function(){return""}},pe={note:function(e){return e},q:function(e){return e.q},a:function(e){return e.a}},ve={note:function(e,t){return t(e)},q:function(e,t){return Object(J.a)(Object(J.a)({},e),{},{q:t(e.q)})},a:function(e,t){return Object(J.a)(Object(J.a)({},e),{},{a:t(e.a)})}},Ee=function(e){return function(t){return e}},be=function(e){var t,n,r=(t=e.inputField,n=e.inputObject,pe[t](n)),a=e.createModify(r);return function(e,t,n){return ve[e](t,n)}(e.fieldToBeChanged,e.objectToBeChanged,a)},Oe=function(e,t,n,r){var a=r||me[n]();return be({inputField:t,fieldToBeChanged:n,objectToBeChanged:a,inputObject:e,createModify:Ee})},ge="cards",De=ge+"/CARD_UPDATE",ye=ge+"/CARD_PUSH",Ce=ge+"/CARD_REMOVE",je=ge+"/CARD_GOAL",he=function(e){return e[ge].present},Se=Object(ce.a)(he,(function(e){return e.lastCardIDNumber})),Te=Object(ce.a)(he,(function(e){return e.cards})),Re=Object(ce.a)(he,(function(e){return e.goalCard})),Ae=function(){return{q:"",a:""}},Ie={q:Ae,a:Ae,note:function(){return""}},Ne=function(e){return parseInt(e)},Pe=function(e){return(e+1).toString()},Me={Note:function(e){return""===e.content},"Q-A":function(e){return""===(t=e.content).q||""===t.a;var t}},_e=function(e){return Me[e.type](e)},we=function(e,t){var n=Object(J.a)({},e.cards);return delete n[t],Object(J.a)(Object(J.a)({},e),{},{cards:n})},ke=function(e,t,n){return Object(J.a)(Object(J.a)({},e),{},{cards:t,lastCardIDNumber:n})},xe=function(e,t){var n=Object(J.a)({},e);return n[t.cardID]=t,n},Ue=xe,Le=function(){return{type:"Note",content:""}},Fe=function(){return{type:"Q-A",content:{q:"",a:""}}},He={note:Le,q:Fe,a:Fe},Ve=function(e){return function(t){return t+e}},qe=function(e,t,n,r){var a=r?r.content:Ie[t](),c=be({inputObject:e,inputField:"note",fieldToBeChanged:t,objectToBeChanged:a,createModify:"APPEND"===n?Ve:Ee});return r?Object(J.a)(Object(J.a)({},r),{},{content:c}):Object(J.a)(Object(J.a)({},function(e){return He[e]()}(t)),{},{content:c})},Be=function(e){return function(t,n){var r,a;t({type:ye,payload:(r=e,a=n(),Object(J.a)(Object(J.a)({},r),{},{cardID:Pe(Se(a))}))})}},Qe=function(){return Be({type:"Note",content:""})},ze=function(){return Be({type:"Q-A",content:{q:"",a:""}})},Ge=function(e){return{type:De,payload:e}},We=function(e,t,n,r,a){return function(c,o){var i=o(),u=Te(i)[t],l=qe(e,n,r,u);c(Ge(Object(J.a)(Object(J.a)({},l),{},{origin:a})))}},Xe=function(e,t,n,r){var a=qe(e,t,n);return Be(Object(J.a)(Object(J.a)({},a),{},{origin:r}))},Ye=function(e){return{type:Ce,payload:e}},Je=function(e,t){return{type:je,payload:Object(J.a)(Object(J.a)({},e),{},{creationType:t})}},Ze=function(){return{type:je,payload:null}},Ke=n(142),$e=n.n(Ke),et=n(111),tt=n(6),nt=n(332),rt="Switch to the Active-River view",at="Switch to the Summary-River view",ct="Undo last action",ot="Redo last action",it="Next page",ut="Previous page",lt="Delete this card",st="Activate the document-selection grab for this card(-field)",dt="Jump to the origin of the card content",ft="Add the current selection to this card (only from document)",mt="Create new QA-card",pt="Create new Note-card",vt="Delete this document and all its corresponding cards",Et="Load the card data of this document",bt="No PDF file specified.",Ot="Loading PDF\u2026",gt="Active Document:",Dt="Inactive documents with existing data:",yt="Load document",Ct="Download document datasets",jt="Upload document datasets",ht="Note",St="Question",Tt="Answer",Rt=500,At=1e3,It=function(e){var t=e.children;return G.a.createElement(nt.a,{title:pt,enterDelay:Rt,enterNextDelay:At},t)},Nt=function(e){var t=e.children;return G.a.createElement(nt.a,{title:mt,enterDelay:Rt,enterNextDelay:At},t)},Pt=function(e){var t=e.children;return G.a.createElement(nt.a,{title:lt,enterDelay:Rt,enterNextDelay:At},t)},Mt=function(e){var t=e.children;return G.a.createElement(nt.a,{title:ft,enterDelay:Rt,enterNextDelay:At},t)},_t={components:p,constants:m},wt=function(){var e=Object(tt.c)();return G.a.createElement(_t.components.NewNoteCardTooltip,null,G.a.createElement(et.a,{type:"button",onClick:function(){e(Qe())}},G.a.createElement($e.a,null)))},kt=n(143),xt=n.n(kt),Ut=function(){var e=Object(tt.c)();return G.a.createElement(_t.components.AddQAButtonTooltip,null,G.a.createElement(et.a,{type:"button",onClick:function(){e(ze())}},G.a.createElement(xt.a,null)))},Lt=n(144),Ft=n.n(Lt),Ht=function(e){var t=e.cardID,n=Object(tt.c)();return G.a.createElement(_t.components.DeleteCardButtonTooltip,null,G.a.createElement(et.a,{type:"button",onClick:function(){n(Ye(t))}},G.a.createElement(Ft.a,{fontSize:"small"})))},Vt="documentDB",qt=Vt+"/ARCHIVE_CURRENT_DATA",Bt=Vt+"/LOAD_DOCUMENT_DATA_SETS",Qt=Vt+"/DELETE_DOCUMENT_DATA_SET",zt=Vt+"/DOCUMENT_CHANGE",Gt=function(e){return{type:qt,payload:e}},Wt=function(e,t){return{type:Bt,payload:{dbData:e,newActiveDataSet:t}}},Xt=function(e){return{type:Qt,payload:e}},Yt=n(32),Jt=function(e,t){return Object(J.a)(Object(J.a)({},e),{},{documentDB:Object(J.a)(Object(J.a)({},e.documentDB),{},Object(Yt.a)({},t.name,t))})},Zt=function(e,t){return Object(J.a)(Object(J.a)({},e),{},{documentDB:Object(J.a)(Object(J.a)({},e.documentDB),t.reduce((function(e,t){return e[t.name]=t,e}),{}))})},Kt=function(e,t){return Object(J.a)(Object(J.a)({},e),{},{documentDB:Object.fromEntries(Object.entries(e.documentDB).filter((function(e){return e[0]!==t})))})},$t={documentDB:{}},en=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case qt:return Jt(e,r);case Bt:return Zt(e,r.dbData);case Qt:return Kt(e,r);default:return e}},tn=function(e){return e[Vt].present},nn=Object(ce.a)(tn,(function(e){return e.documentDB})),rn=Object(ce.a)(nn,(function(e){return Object.keys(e)})),an=Object(ce.a)(nn,(function(e){return Object.values(e)})),cn={actions:g,actionTypes:O,constants:b,reducer:en,selectors:D},on={cards:{0:{cardID:"0",type:"Q-A",content:{q:"Was ist der Sinn des Lebens?",a:"42"}},1:{cardID:"1",type:"Q-A",content:{q:"Welches Layout macht mehr Sinn?",a:"??"}},2:{cardID:"2",type:"Note",content:"Note here"}},lastCardIDNumber:2,goalCard:null},un={services:i,constants:u,actionTypes:l,actions:f,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case ye:var a=Ne(r.cardID)+1;return Object(J.a)(Object(J.a)({},e),{},{cards:Ue(e.cards,r),lastCardIDNumber:a});case De:var c=null;return Object(J.a)(Object(J.a)({},e),{},{cards:xe(e.cards,r),goalCard:c});case Ce:return we(e,r);case je:return Object(J.a)(Object(J.a)({},e),{},{goalCard:r});case cn.actionTypes.DOCUMENT_CHANGE:return r?ke(on,r.cards,r.lastCardIDNumber):on;case cn.actionTypes.LOAD_DOCUMENT_DATA_SETS:return r.newActiveDataSet?ke(on,r.cards,r.lastCardIDNumber):e;default:return e}},selectors:s,components:v,model:E},ln=function(e){return e[oe].present},sn=Object(ce.a)(ln,(function(e){return e.selectionPosition})),dn=Object(ce.a)(ln,(function(e){return e.manuallySelectedString})),fn=Object(ce.a)(dn,(function(e){return""!==e})),mn=Object(ce.a)(ln,(function(e){return e.selectedParentSpan})),pn=Object(ce.a)(ln,(function(e){return e.sourceCard})),vn=function(e,t,n){return function(r,a){var c,o=a(),i=void 0!==n,u=dn(o);t&&(c=un.services.transformInputOrigin(t,"note",e,i?un.selectors.getCards(o)[n].origin:void 0)),r(i?un.actions.updateCardContent(u,n,e,"APPEND",c):un.actions.pushCardContent(u,e,"APPEND",c)),r(gn())}},En=function(e,t,n){return function(r,a){var c,o=a(),i=void 0!==n,u=dn(o);t&&(c=un.services.transformInputOrigin(t,"note",e,i?un.selectors.getCards(o)[n].origin:void 0)),r(i?un.actions.updateCardContent(u,n,e,"REPLACE",c):un.actions.pushCardContent(u,e,"REPLACE",c)),r(gn())}},bn=function(e,t,n,r){return function(a,c){a(hn());var o=c(),i=void 0!==r,u=function(e){var t,n;return!!e&&(!Object(de.isNullOrUndefined)(e.spanIndex)||!Object(de.isNullOrUndefined)(null===(t=e.a)||void 0===t?void 0:t.spanIndex)||!Object(de.isNullOrUndefined)(null===(n=e.q)||void 0===n?void 0:n.spanIndex))}(n)?un.services.transformInputOrigin(n,t,e,i?un.selectors.getCards(o)[r].origin:void 0):void 0,l=dn(o);a(i?un.actions.updateCardContent(l,r,e,"REPLACE",u):un.actions.pushCardContent(l,e,"REPLACE",u)),a(gn())}},On=function(e){return{type:ie,payload:e}},gn=function(){return On("")},Dn=function(e){return{type:ue,payload:e}},yn=function(e,t){return{type:le,payload:{x:e,y:t}}},Cn=function(e,t){return{type:se,payload:{origin:t,sourceField:e}}},jn=function(e,t){return function(n,r){var a=pn(r());a&&a.sourceField===e&&a.origin===t||n(Cn(e,t))}},hn=function(){return{type:se,payload:null}},Sn=function(){return function(e,t){null!==pn(t())&&e(hn())}},Tn={manuallySelectedString:"",selectedParentSpan:null,selectionPosition:{x:0,y:0},sourceCard:null},Rn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case ie:return Object(J.a)(Object(J.a)({},e),{},{manuallySelectedString:r});case ue:return Object(J.a)(Object(J.a)({},e),{},{sourceCard:null,selectedParentSpan:r});case le:return Object(J.a)(Object(J.a)({},e),{},{selectionPosition:r});case se:return Object(J.a)(Object(J.a)({},e),{},{sourceCard:r,selectedParentSpan:null});default:return e}},An=n(22),In=n(333),Nn=n(145),Pn=n.n(Nn),Mn=function(){var e=Object(z.useState)(!1),t=Object(An.a)(e,2),n=t[0],r=t[1],a=Object(tt.c)(),c=Object(tt.d)(dn);""===c&&n&&r(!1),""===c||n||r(!0);var o=G.a.createElement(z.Fragment,null,G.a.createElement("div",null,"Current Selection: "),G.a.createElement("div",{style:{color:"green"}}," ",c));return G.a.createElement(In.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:n,onClose:function(e,t){"clickaway"===t?e.preventDefault():(r(!1),a(gn()))},message:o,action:G.a.createElement(et.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){r(!1),a(gn())}},G.a.createElement(Pn.a,{fontSize:"small"}))})};function _n(){var e=window.getSelection();if(!e)return null;try{var t=document.activeElement;if(t&&t.value){var n=t.value.substring(t.selectionStart,t.selectionEnd);return""===n?null:{text:n,selection:e}}return{text:e.toString(),selection:e}}catch(r){return null}}var wn={actions:C,actionTypes:o,constants:c,components:j,reducer:Rn,selectors:y,services:h},kn=function(e){return e[Z]},xn=Object(ce.a)(kn,(function(e){return{pdf:e.pdf?e.pdf:null}})),Un=Object(ce.a)(kn,(function(e){return e.pdfName})),Ln=Object(ce.a)(kn,(function(e){return{pdf:e.pdf,currentPage:e.currentPage,documentRef:e.documentRef}})),Fn=Object(ce.a)(kn,(function(e){return e.totalPages})),Hn=Object(ce.a)(kn,(function(e){return e.currentPage})),Vn=Object(ce.a)(Fn,Hn,(function(e,t){return{currentPage:t,totalPages:e}})),qn=Object(ce.a)(kn,(function(e){return e.documentRef})),Bn=Object(ce.a)(kn,(function(e){return e.materialData})),Qn=Object(ce.a)(Bn,(function(e){return e.materialDataTimeStamp})),zn=Object(ce.a)(Bn,(function(e){return e.materialSpans})),Gn=function(e,t){return zn(e).indexOf(t)},Wn=Object(ce.a)(Bn,(function(e){return e.materialBoundingRects})),Xn=Object(ce.a)(Qn,(function(e){return e>0})),Yn=Object(ce.a)(kn,(function(e){return e.displayStatus})),Jn=Object(ce.a)(Yn,(function(e){return"SHOW"===e})),Zn=Object(ce.a)(kn,(function(e){return e.zoomQueue})),Kn=Object(ce.a)(kn,(function(e){return e.materialHeight})),$n=Object(ce.a)((function(e){return e}),Hn,wn.selectors.getCurrentSelectedParent,(function(e,t,n){return{spanIndex:Gn(e,n),page:t}})),er=function(){var e=0;return function(){var t=e;return e++,t}};var tr=n(53),nr=function(e){return{span:e,rect:e.getBoundingClientRect()}},rr=function(e){var t=Array.from(e.querySelectorAll("span"));if(0===t.length)return null;var n=function(e){var t,n=[],r=[],a=Object(tr.a)(e);try{for(a.s();!(t=a.n()).done;){var c=t.value;n.push(c.span),r.push(c.rect)}}catch(o){a.e(o)}finally{a.f()}return{spans:n,boundingRects:r}}(function(e){return e.map(nr)}(t).sort((function(e,t){return e.rect.y-t.rect.y})));return{materialSpans:n.spans,materialBoundingRects:n.boundingRects}},ar=n(26),cr=n.n(ar),or=function(e){return{type:K,payload:e}},ir=function(e){return function(t){var n=e.target.files,r=n?n[0]:null;r&&t(or(r))}},ur=function(e){return{type:$,payload:e}},lr=function(e,t,n){var r=er(),a=setInterval((function(){(r()>e||n())&&clearInterval(a)}),t)};function sr(e){return function(t,n){var r=n(),a=e.current;if(a){var c=Date.now(),o=rr(a);if(o&&Qn(r)<c){var i=Object(J.a)(Object(J.a)({},o),{},{materialDataTimeStamp:c});t({type:re,payload:i})}else lr(10,20,(function(){var e=rr(a);if(e&&Qn(n())<c){var r=Object(J.a)(Object(J.a)({},e),{},{materialDataTimeStamp:c});return t({type:re,payload:r}),!0}return!1}))}}}var dr,fr=function(e){return{type:te,payload:e}},mr=function(e,t){return e===t+1?1:e},pr=function(e,t){return 0===e?t:e},vr=function(e){return function(t,n){var r=Vn(n()),a=r.currentPage,c=r.totalPages;switch(e){case"NEXT":t({type:te,payload:mr(a+1,c)});break;case"PREVIOUS":t({type:te,payload:pr(a-1,c)})}}},Er=function(){return vr("NEXT")},br=function(){return vr("PREVIOUS")},Or={ArrowLeft:br(),ArrowRight:Er()},gr=(dr=Or,function(e,t){var n=dr[e.key];n&&(e.preventDefault(),t(n))}),Dr=function(){return function(e,t){var n="SHOW"===Yn(t())?"HIDE":"SHOW";e({type:ee,payload:n})}},yr=function(e){return{type:ne,payload:e}},Cr=function(e,t){return function(n){console.log(t,e),n(fr(t)),n(yr(e))}},jr=function(){return function(e,t){var n=t(),r=Zn(n);if(r){var a=zn(n);if(a)a[r].scrollIntoView({behavior:"smooth",block:"center",inline:"center"});e(yr(null))}}},hr=function(e){return{type:ae,payload:e}},Sr=function(e){return function(t,n){var r=n(),a=Un(r);a&&a===e&&(t({type:cn.actionTypes.DOCUMENT_CHANGE}),t(ar.ActionCreators.clearHistory())),t(cn.actions.deleteDocumentDataSet(e))}},Tr=n(309),Rr=n(311),Ar=n(147),Ir=n.n(Ar),Nr=n(146),Pr=n.n(Nr),Mr=function(){var e=Object(tt.c)();return G.a.createElement(nt.a,{title:_t.constants.previousPageTooltip,enterDelay:_t.constants.defaultEnterDelay,enterNextDelay:_t.constants.defaultEnterNextDelay},G.a.createElement(et.a,{type:"button",onClick:function(){e(br())}},G.a.createElement(Pr.a,null)))},_r=function(){var e=Object(tt.c)();return G.a.createElement(nt.a,{title:_t.constants.nextPageTooltip,enterDelay:_t.constants.defaultEnterDelay,enterNextDelay:_t.constants.defaultEnterNextDelay},G.a.createElement(et.a,{type:"button",onClick:function(){e(Er())}},G.a.createElement(Ir.a,null)))},wr=function(){return G.a.createElement(Tr.a,{variant:"outlined"},G.a.createElement(Y.a,{container:!0,direction:"row"},G.a.createElement(Y.a,{item:!0},G.a.createElement(Mr,null)),G.a.createElement(Y.a,{item:!0},G.a.createElement(Rr.a,{orientation:"vertical"})),G.a.createElement(Y.a,{item:!0},G.a.createElement(_r,null))))},kr=n(328),xr=n(115),Ur=/(\D)/,Lr=function(){var e=Object(tt.c)(),t=Object(tt.d)(Vn),n=t.currentPage,r=t.totalPages,a=Object(z.useState)({error:!1,value:null===n||void 0===n?void 0:n.toString(),userInput:null===n||void 0===n?void 0:n.toString()}),c=Object(An.a)(a,2),o=c[0],i=c[1];return o.value!==n.toString()&&i({error:!1,value:n.toString(),userInput:n.toString()}),G.a.createElement(Tr.a,{variant:"outlined"},G.a.createElement(Y.a,{item:!0},G.a.createElement(Y.a,{container:!0,direction:"row",alignItems:"center",justify:"space-between"},G.a.createElement(Y.a,{item:!0,style:{width:"37%"}},G.a.createElement(kr.a,{inputProps:{style:{padding:"0px",fontSize:"1.25rem",fontFamily:'"Roboto", "Helvetica", "Arial", sansSerif',fontWeight:500,lineHeight:1.6,letterSpacing:"0.0075em"}},type:"text",variant:"filled",value:o.userInput,onKeyDown:function(t){if("Enter"===t.key){t.preventDefault();var n=t.target.value;o.error||e(fr(parseInt(n)))}},onChange:function(e){var t=e.target.value;!function(e,t){if(""===e||null!==e.trim().match(Ur))return!1;var n=parseInt(e);return!(n<1||t<n)}(t,r)?i(Object(J.a)(Object(J.a)({},o),{},{error:!0,userInput:t})):i(Object(J.a)(Object(J.a)({},o),{},{error:!1,userInput:t}))},error:o.error})),G.a.createElement(Y.a,{item:!0,style:{width:"61%"}},G.a.createElement(xr.a,{variant:"h6"},"of ",r)))))},Fr=n(148),Hr=n(94),Vr=(n(213),n(214),n(42)),qr=function(e){var t=e.children,n=Object(tt.c)(),r=Object(z.useRef)(null);return G.a.createElement("span",{ref:r,onKeyDown:function(e){gr(e,n)},tabIndex:0},t)};Vr.c.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(Vr.c.version,"/pdf.worker.js");var Br={cMapUrl:"cmaps/",cMapPacked:!0};var Qr=Object(tt.b)(Ln,{materialLoaded:ur,captureMaterialData:sr})((function(e){var t=e.parentSize,n=e.pdf,r=e.currentPage,a=e.materialLoaded,c=e.captureMaterialData,o=e.documentRef,i=Object(tt.c)(),u=Object(tt.d)(Zn);return Object(z.useEffect)((function(){u&&n&&i(jr())}),[u,n,i]),G.a.createElement("span",{onMouseUp:function(){n&&i(zr())}},G.a.createElement(qr,null,G.a.createElement(Vr.a,{file:n,options:Br,onLoadSuccess:function(e){var t=e.numPages;a(t)},inputRef:o,onItemClick:function(e){var t=e.pageNumber;i(fr(parseInt(t)))},loading:_t.constants.loadingMaterialText,noData:_t.constants.noMaterialText,renderMode:"canvas"},n&&G.a.createElement(Vr.b,{width:t.width,pageNumber:r,onRenderSuccess:function(){document.querySelectorAll(".react-pdf__Page__textContent").forEach((function(e){var t=e.style;t.top="0",t.left="0",t.transform=""})),c(o)}}))))})),zr=function(){return function(e,t){var n=wn.services.getSelection();if(n){var r,a=n.text,c=n.selection,o=t(),i=un.selectors.getGoalCard(o);if(i)e(un.actions.updateCardContent(a,i.cardID,i.creationType,"REPLACE",i.origin));else e(wn.actions.selectedParent(null===(r=c.anchorNode)||void 0===r?void 0:r.parentNode)),e(wn.actions.updateManuallySelectedString(a))}}},Gr=n(150),Wr=n(151),Xr=n(75),Yr=n(173),Jr=n(172),Zr=n(174),Kr=n(96),$r=function(e){var t=e.index,n=e.data,r=e.style,a=n.scale,c=n.numPages,o=n.triggerResize,i=t+1;return G.a.createElement("div",{style:r},G.a.createElement("div",{ref:function(e){var t=n.pages,r=n.pageNumbers;if(!r.has(i)){var a={pageNumber:i};r.set(i,a)}t.set(r.get(i),e)}},G.a.createElement(Vr.b,Object.assign({pageNumber:i},{scale:a},{renderAnnotationLayer:!1,onLoadError:function(e){return console.error(e)},onLoadSuccess:function(e){e.pageNumber===c&&o()}}))))};Vr.c.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(Vr.c.version,"/pdf.worker.js");var ea=function(){return G.a.createElement("div",{className:"loader"},G.a.createElement("div",{className:"loader-invert line-scale"},G.a.createElement("div",null),G.a.createElement("div",null),G.a.createElement("div",null),G.a.createElement("div",null),G.a.createElement("div",null)))},ta=function(e){Object(Yr.a)(n,e);var t=Object(Jr.a)(n);function n(e){var r;return Object(Gr.a)(this,n),(r=t.call(this,Object(J.a)(Object(J.a)({},e),{},{scale:1.2}))).props=void 0,r.state=void 0,r._callOrientationChangeHandler=void 0,r._callResizeHandler=void 0,r._list=void 0,r._mounted=!1,r.state={initialContainerHeight:null,containerHeight:null,pdf:null,currentPage:1,cachedPageDimensions:null,responsiveScale:1,pageNumbers:new Map,pages:new WeakMap},r._list=Object(z.createRef)(),r._callResizeHandler=Object(Kr.debounce)(50,r.handleResize.bind(Object(Xr.a)(r))),r._callOrientationChangeHandler=Object(Kr.debounce)(1e3,r.handleResize.bind(Object(Xr.a)(r))),r}return Object(Wr.a)(n,[{key:"componentDidMount",value:function(){console.log("mounting"),this._mounted=!0,window.addEventListener("resize",this._callResizeHandler),window.addEventListener("orientationchange",this._callOrientationChangeHandler)}},{key:"componentWillUnmount",value:function(){this._mounted=!1,window.removeEventListener("resize",this._callResizeHandler),window.removeEventListener("orientationchange",this._callOrientationChangeHandler)}},{key:"cachePageDimensions",value:function(e){var t=this,n=Array.from({length:e.numPages},(function(e,t){return t+1})).map((function(t){return e.getPage(t)})),r=0;Promise.all(n).then((function(e){if(t._mounted){var n,a=new Map,c=Object(tr.a)(e);try{for(c.s();!(n=c.n()).done;){var o=n.value,i=o.view[2]*t.props.scale,u=o.view[3]*t.props.scale;console.log(t.props.scale,o,[i,u]),a.set(o._pageIndex+1,[i,u]),r+=u}}catch(l){c.e(l)}finally{c.f()}console.log(e,a),t.setState({cachedPageDimensions:a,initialContainerHeight:r,containerHeight:r})}}))}},{key:"recomputeRowHeights",value:function(){this._list.current.resetAfterIndex(0)}},{key:"computeRowHeight",value:function(e){var t=this.state,n=t.cachedPageDimensions,r=t.responsiveScale;return n&&r?n.get(e+1)[1]/r:768}},{key:"onDocumentLoadSuccess",value:function(e){this.setState({pdf:e}),this.cachePageDimensions(e)}},{key:"updateCurrentVisiblePage",value:function(e){var t=e.visibleStopIndex;this.setState({currentPage:t+1})}},{key:"computeResponsiveScale",value:function(e){var t=this.state,n=t.cachedPageDimensions,r=t.pages,a=t.pageNumbers,c=r.get(a.get(e));if(c)return n.get(e)[1]/c.clientHeight}},{key:"handleResize",value:function(){var e=this,t=this.state,n=t.currentPage,r=t.responsiveScale,a=t.initialContainerHeight,c=this.computeResponsiveScale(n);if(c&&r!==c){var o=a/c;this.setState({responsiveScale:c,containerHeight:o},(function(){return e.recomputeRowHeights()}))}}},{key:"render",value:function(){var e=this.props.scale,t=this.state,n=t.cachedPageDimensions,r=t.containerHeight,a=t.pdf,c=t.pages,o=t.pageNumbers;return G.a.createElement(Vr.a,{file:this.props.pdfFile,loading:G.a.createElement(ea,null),onLoadSuccess:this.onDocumentLoadSuccess.bind(this),onLoadError:function(e){return console.error(e)}},n&&G.a.createElement(Zr.a,{height:r,itemCount:a.numPages,itemSize:this.computeRowHeight.bind(this),itemData:{scale:e,pages:c,pageNumbers:o,numPages:a.numPages,triggerResize:this.handleResize.bind(this)},overscanCount:2,onItemsRendered:this.updateCurrentVisiblePage.bind(this),ref:this._list,width:"100%"},$r))}}]),n}(z.PureComponent);ta.defaultProps={scale:1.2};var na=Object(Fr.withSize)({monitorHeight:!0,noPlaceholder:!0})((function(e){var t=e.size,n=e.hidden,r=Object(z.useState)(3),a=Object(An.a)(r,2),c=a[0],o=a[1],i=Object(tt.c)(),u=Object(tt.d)(Kn);Object(z.useLayoutEffect)((function(){u||i(hr(t.height)),u&&u!==t.height&&i(hr(t.height))}),[i,u,t.height]);var l=Object(tt.d)(xn);return G.a.createElement(Y.a,{item:!0,style:{width:"60%"},onMouseEnter:function(){o(20)},onMouseLeave:function(){o(3)},hidden:n},G.a.createElement(Hr.a,{elevation:c},G.a.createElement(Qr,{parentSize:t}),l.pdf&&!1))})),ra={displayStatus:"SHOW",totalPages:1e3,currentPage:1,documentRef:Object(z.createRef)(),pageSpans:{},zoomQueue:null,materialData:{materialDataTimeStamp:-1/0}},aa={actions:T,actionTypes:a,components:R,constants:r,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case K:return Object(J.a)(Object(J.a)({},e),{},{pdf:r,pdfName:r.name});case cn.actionTypes.DOCUMENT_CHANGE:return r?r.name===e.pdfName?e:Object(J.a)(Object(J.a)({},ra),{},{pdf:void 0,pdfName:r.name,totalPages:r.totalPages,currentPage:r.currentPage}):e;case $:return Object(J.a)(Object(J.a)({},e),{},{totalPages:r});case te:return Object(J.a)(Object(J.a)({},e),{},{currentPage:r});case ee:return Object(J.a)(Object(J.a)({},e),{},{displayStatus:r});case re:return Object(J.a)(Object(J.a)({},e),{},{materialData:r,pageSpans:Object(J.a)(Object(J.a)({},e.pageSpans),{},Object(Yt.a)({},e.currentPage,r.materialSpans.length-1))});case ae:return Object(J.a)(Object(J.a)({},e),{},{materialHeight:r});case ne:return Object(J.a)(Object(J.a)({},e),{},{zoomQueue:r});default:return e}},selectors:S},ca="cardRiverState",oa=n(312),ia=n(313),ua=function(e){return e[ca].present},la=Object(ce.a)(ua,(function(e){return e.riverMakeUps})),sa=Object(ce.a)(ua,(function(e){return e.activeRiverMakeUpID})),da=Object(ce.a)(ua,(function(e){return e.pushToRiverID})),fa=Object(ce.a)(la,da,(function(e,t){return e[t]})),ma=Object(ce.a)(la,sa,(function(e,t){return e[t]})),pa=Object(ce.a)(fa,(function(e){return e.cardIDs})),va=Object(ce.a)(pa,un.selectors.getCards,(function(e,t){return e.map((function(e){return t[e]}))})),Ea=Object(ce.a)(ma,(function(e){return e.cardIDs})),ba=Object(ce.a)(Ea,un.selectors.getCards,(function(e,t){return e.map((function(e){return t[e]}))})),Oa=Object(ce.a)(ua,(function(e){return e.riverShowState})),ga=Object(ce.a)(Oa,(function(e){return"SHOW"===e})),Da=Object(ce.a)(ua,(function(e){return{id:e.highlightedCardID,field:e.highlightedCardField}})),ya=Object(ce.a)(ua,(function(e){return e.lastRiverIDNumber})),Ca=Object(ce.a)(ua,(function(e){return e.riverContentState})),ja=Object(ce.a)(ua,(function(e){return e.contentFilter})),ha=ca+"/RIVER_SHOW_STATE",Sa=ca+"/RIVER_CONTENT_STATE",Ta=ca+"/RIVER_PUSH_STATE",Ra=ca+"/RIVER_HOVERED_CARD",Aa=ca+"/RIVER_CONTENT_FILTER",Ia=function(){return function(e,t){e({type:ha,payload:ga(t())?"HIDE":"SHOW"})}},Na=function(e){return{type:Sa,payload:e}},Pa=function(e){return{type:Ta,payload:e}},Ma=function(e){return function(t,n){da(n())!==e&&t(Pa(e))}},_a=function(e,t){return{payload:{id:e,field:t},type:Ra}},wa=function(e,t){return function(n,r){var a=r(),c=Da(a);c.id===e&&c.field===t||n(_a(e,t))}},ka=function(){return{payload:{id:null,field:null},type:Ra}},xa=function(e){return{type:Aa,payload:e}},Ua=function(){return{type:Aa,payload:""}},La=n(7),Fa=n(330),Ha=n(100),Va=Object(La.a)({root:{color:Ha.a[400],"&$checked":{color:Ha.a[600]}},checked:{}})((function(e){return G.a.createElement(Fa.a,Object.assign({color:"default"},e))})),qa=function(){var e=Object(tt.d)(Ca),t=Object(tt.c)(),n="ALL"===e||"QAS"===e,r="ALL"===e||"NOTES"===e,a=function(e){n||"QAS"!==e?r||"NOTES"!==e?n&&"QAS"===e?t(Na(r?"NOTES":"NONE")):r&&"NOTES"===e&&t(Na(n?"QAS":"NONE")):t(Na(n?"ALL":"NOTES")):t(Na(r?"ALL":"QAS"))};return G.a.createElement(oa.a,null,G.a.createElement(ia.a,{control:G.a.createElement(Va,{checked:n,onClick:function(){a("QAS")}}),label:"QAs"}),G.a.createElement(ia.a,{control:G.a.createElement(Va,{checked:r,onClick:function(){a("NOTES")}}),label:"Notes"}))},Ba="appFocus",Qa=Ba+"/DISPLAY_FOCUS_UPDATE",za=function(e){return{type:Qa,payload:e}},Ga={displayFocus:"ACTIVE_RIVER"},Wa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ga,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Qa:return Object(J.a)(Object(J.a)({},e),{},{displayFocus:r});default:return e}},Xa=function(e){return e[Ba]},Ya=Object(ce.a)(Xa,(function(e){return e.displayFocus})),Ja={actions:_,constants:P,reducer:Wa,selectors:w,actionTypes:M},Za=n(76),Ka=function(e){var t=e.storeValue,n=void 0===t?"":t,r=e.saveChanges,a=e.setSourceCard,c=e.style,o=Object(Za.a)(e,["storeValue","saveChanges","setSourceCard","style"]),i=Object(z.useState)({storeValue:n,mutableValue:n}),u=Object(An.a)(i,2),l=u[0],s=u[1],d=Object(tt.c)();return l.storeValue!==n&&s({storeValue:n,mutableValue:n}),G.a.createElement(kr.a,Object.assign({InputProps:{disableUnderline:!0,style:{minWidth:"400px"}},multiline:!0,variant:"filled",value:l.mutableValue,onChange:function(e){var t=e.target.value;s(Object(J.a)(Object(J.a)({},l),{},{mutableValue:t}))},onBlur:function(e){r(e.target.value)},onMouseUp:function(){$a(d,a)},style:c},o))},$a=function(e,t){var n=wn.services.getSelection();if(n){var r=n.text;t(),e(wn.actions.updateManuallySelectedString(r))}},ec=n(152),tc=n.n(ec),nc=function(e){var t=e.cardOrigin,n=Object(tt.c)();return G.a.createElement(nt.a,{title:_t.constants.jumpToOriginTooltip,enterDelay:_t.constants.defaultEnterDelay,enterNextDelay:_t.constants.defaultEnterNextDelay},G.a.createElement(et.a,{type:"button",onClick:function(){n(Ja.actions.updateDisplayFocus("ACTIVE_RIVER")),n(aa.actions.zoomToCardOrigin(t.spanIndex,t.page))}},G.a.createElement(tc.a,{fontSize:"small"})))},rc=n(154),ac=n.n(rc),cc=n(153),oc=n.n(cc),ic=function(e){var t=e.cardConfig,n=e.cardField,r=Object(tt.c)(),a=Object(tt.d)(un.selectors.getGoalCard),c=Object(z.useState)(!0),o=Object(An.a)(c,2),i=o[0],u=o[1];a?function(e,t,n){return e.cardID===n.cardID&&t===n.creationType}(t,n,a)?i&&u(!1):i||u(!0):i||u(!0);return G.a.createElement(nt.a,{title:_t.constants.grabForCardTooltip,enterDelay:_t.constants.defaultEnterDelay,enterNextDelay:_t.constants.defaultEnterNextDelay},G.a.createElement(et.a,{type:"button",onClick:function(){r(i?un.actions.setGoalCard(t,n):un.actions.resetGoalCard())}},i?G.a.createElement(oc.a,{fontSize:"small"}):G.a.createElement(ac.a,{fontSize:"small"})))},uc=n(155),lc=n.n(uc),sc=function(e){var t=e.creationType,n=e.cardID,r=Object(tt.c)(),a=Object(tt.d)(wn.selectors.getCurrentSelectedParent),c=Object(tt.e)();return G.a.createElement(_t.components.AppendButtonTooltip,null,G.a.createElement(et.a,{type:"button",onClick:function(){if(a){var e=aa.selectors.getCurrentOrigin(c.getState());r(wn.actions.selectionToCardAppend(t,e,n))}}},G.a.createElement(lc.a,{fontSize:"small"})))},dc=function(e){var t,n,r=e.config,a=Object(tt.c)(),c=Object(tt.d)(Da),o=c.id,i=c.field,u=r.cardID===o,l="ACTIVE_RIVER"===Object(tt.d)(Ja.selectors.getDisplayFocus),s=Object(z.useRef)();return Object(z.useEffect)((function(){s.current&&u&&s.current.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})})),G.a.createElement(Tr.a,{variant:"elevation",elevation:5,ref:s,style:{padding:"3px"}},G.a.createElement(Y.a,{container:!0,direction:"row",justify:"space-between"},G.a.createElement(Y.a,{item:!0},G.a.createElement(Y.a,{container:!0,direction:"column",spacing:1},G.a.createElement(Y.a,{item:!0},G.a.createElement(Y.a,{container:!0,direction:"row",spacing:1},G.a.createElement(Y.a,{item:!0},G.a.createElement("div",{style:u&&"q"===i?mc:void 0},G.a.createElement(Ka,{saveChanges:function(e){a(un.actions.updateCardContent(e,r.cardID,"q","REPLACE",r.origin))},storeValue:r.content.q,label:_t.constants.questionText,variant:"filled",style:{backgroundColor:"#FFBF69"},InputLabelProps:{style:{color:"#000000"}},setSourceCard:function(){a(wn.actions.setSourceCard("q",r.origin))}}))),G.a.createElement(Y.a,{item:!0},G.a.createElement(Hr.a,{variant:"outlined"},G.a.createElement(Y.a,{container:!0,direction:"row"},l&&G.a.createElement(sc,{creationType:"q",cardID:r.cardID}),l&&G.a.createElement(ic,{cardConfig:r,cardField:"q"}),r.origin&&!Object(de.isNullOrUndefined)(null===(t=r.origin.q)||void 0===t?void 0:t.spanIndex)&&G.a.createElement(nc,{cardOrigin:r.origin.q})))))),G.a.createElement(Y.a,{item:!0},G.a.createElement(Y.a,{container:!0,direction:"row",spacing:1},G.a.createElement(Y.a,{item:!0},G.a.createElement("div",{style:u&&"a"===i?mc:void 0},G.a.createElement(Ka,{saveChanges:function(e){a(un.actions.updateCardContent(e,r.cardID,"a","REPLACE",r.origin))},storeValue:r.content.a,label:_t.constants.answerText,style:{backgroundColor:"#2EC4B6"},InputLabelProps:{style:{color:"#000000"}},setSourceCard:function(){a(wn.actions.setSourceCard("a",r.origin))}}))),G.a.createElement(Y.a,{item:!0},G.a.createElement(Hr.a,{variant:"outlined"},G.a.createElement(Y.a,{container:!0,direction:"row"},l&&G.a.createElement(sc,{creationType:"a",cardID:r.cardID}),l&&G.a.createElement(ic,{cardConfig:r,cardField:"a"}),r.origin&&!Object(de.isNullOrUndefined)(null===(n=r.origin.a)||void 0===n?void 0:n.spanIndex)&&G.a.createElement(nc,{cardOrigin:r.origin.a})))))))),G.a.createElement(Y.a,{item:!0},G.a.createElement(un.components.DeleteCardButton,{cardID:r.cardID}))))},fc=function(e){var t=e.config,n=Object(tt.c)(),r=Object(tt.d)(Da).id,a=t.cardID===r,c="ACTIVE_RIVER"===Object(tt.d)(Ja.selectors.getDisplayFocus),o=Object(z.useRef)();return Object(z.useEffect)((function(){o.current&&a&&o.current.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})})),G.a.createElement(Tr.a,{variant:"elevation",elevation:5,style:a?Object(J.a)(Object(J.a)({},mc),{},{padding:"3px"}):{padding:"3px"},ref:o},G.a.createElement(Y.a,{container:!0,direction:"row",justify:"space-between"},G.a.createElement(Y.a,{item:!0},G.a.createElement(Y.a,{container:!0,direction:"row",spacing:1},G.a.createElement(Y.a,{item:!0},G.a.createElement(Ka,{saveChanges:function(e){n(un.actions.updateCardContent(e,t.cardID,"note","REPLACE",t.origin))},storeValue:t.content,label:_t.constants.noteText,variant:"filled",style:{backgroundColor:"#CBF3F0"},InputLabelProps:{style:{color:"#000000"}},setSourceCard:function(){n(wn.actions.setSourceCard("note",t.origin))}})),G.a.createElement(Y.a,{item:!0},G.a.createElement(Hr.a,{variant:"outlined"},G.a.createElement(Y.a,{container:!0,direction:"row"},G.a.createElement(Y.a,{item:!0},c&&G.a.createElement(sc,{creationType:"note",cardID:t.cardID})),G.a.createElement(Y.a,{item:!0},c&&G.a.createElement(ic,{cardConfig:t,cardField:"note"})),G.a.createElement(Y.a,{item:!0},t.origin&&G.a.createElement(nc,{cardOrigin:t.origin}))))))),G.a.createElement(Y.a,{item:!0},G.a.createElement(un.components.DeleteCardButton,{cardID:t.cardID}))))},mc={border:"4px solid green",borderRadius:"4px"},pc=function(e){var t=e.config,n=e.riverID;switch(t.type){case"Note":return G.a.createElement(fc,{config:t,riverID:n});case"Q-A":return G.a.createElement(dc,{config:t,riverID:n})}},vc=function(){return G.a.createElement(Y.a,{item:!0},G.a.createElement(Rr.a,null))},Ec=n(334),bc=n(314),Oc=n(315),gc=function(e){var t=e.riverID,n=e.gridItems,r=e.summary,a=Object(z.useState)(3),c=Object(An.a)(a,2),o=c[0],i=c[1],u=Object(tt.d)(da);t===u&&3===o?i(20):t!==u&&3!==o&&i(3);var l=Object(tt.d)(aa.selectors.getMaterialHeight),s=Object(tt.d)(Ja.selectors.getDisplayFocus),d=Object(tt.c)();return G.a.createElement(Ec.a,{defaultExpanded:!0,onMouseEnter:function(){d(Ma(t))},elevation:o,style:"ACTIVE_RIVER"===s?{overflowY:"auto",maxHeight:l||"1400px"}:{}},G.a.createElement(bc.a,null,G.a.createElement(xr.a,{variant:"h6",align:"center",style:{MozUserSelect:"none",WebkitUserSelect:"none",msUserSelect:"none"}},r)),G.a.createElement(Oc.a,null,G.a.createElement(Y.a,{container:!0,direction:"column",spacing:2,justify:"center",alignItems:"stretch"},G.a.createElement(Y.a,{item:!0},G.a.createElement(un.components.AddQAButton,null),G.a.createElement(un.components.AddNoteButton,null),G.a.createElement(Rr.a,null)),G.a.createElement(Y.a,{item:!0},G.a.createElement(Y.a,{container:!0,direction:"column",spacing:2,justify:"center",alignItems:"stretch"},n)))))},Dc=function(e){var t=e.riverID,n=e.riverCards,r=Object(tt.d)(Ca),a=Object(tt.d)(ja),c=Object(z.useMemo)((function(){var e=n;return"NONE"===r?[]:("ALL"!==r&&("QAS"===r&&(e=n.filter((function(e){return"Q-A"===e.type}))),"NOTES"===r&&(e=n.filter((function(e){return"Note"===e.type})))),""!==a&&(e=e.filter((function(e){switch(e.type){case"Note":return function(e,t){return e.content.includes(t)}(e,a);case"Q-A":return function(e,t){return e.content.a.includes(t)||e.content.q.includes(t)}(e,a)}return!1}))),function(e,t){var n=er();return e.reduce((function(e,r,a,c){return e.push(G.a.createElement(Y.a,{item:!0,key:n()},G.a.createElement(pc,{config:r,riverID:t,key:n()}))),a<c.length-1&&e.push(G.a.createElement(vc,{key:n()})),e}),[])}(e,t))}),[n,t,r,a]);return G.a.createElement(gc,{riverID:t,gridItems:c,summary:t})},yc=function(e){return"CardRiver "+e},Cc=function(){var e=Object(tt.d)(Ja.selectors.getDisplayFocus),t=Object(tt.d)(aa.selectors.getCurrentPage),n=Object(tt.d)(un.selectors.getCards),r=Object.values(Object(tt.d)(la)),a=Object(z.useRef)(null);Object(z.useEffect)((function(){"SUMMARY_RIVER"===e&&null!==a.current&&(a.current.getBoundingClientRect().y<100?window.scrollTo({top:0,behavior:"smooth"}):a.current.scrollIntoView({behavior:"smooth",block:"start",inline:"start"}))}),[e,t]);var c=er();return G.a.createElement(Y.a,{container:!0,justify:"flex-start",direction:"row",alignItems:"stretch",spacing:1},r.map((function(e){return e.cardIDs.length>0?G.a.createElement(Y.a,{item:!0,ref:(r=e.riverID,parseInt(r.replace("CardRiver ",""))===t?a:null),key:c()},G.a.createElement(Dc,{riverID:e.riverID,riverCards:e.cardIDs.map((function(e){return n[e]})),key:c()})):null;var r})))},jc=function(){var e=Object(tt.d)(sa),t=Object(tt.d)(ba);return G.a.createElement(Dc,{riverID:e,riverCards:t})},hc=n(99),Sc={riverMakeUps:Object(Yt.a)({},yc(1),{riverID:yc(1),cardIDs:["2","0","1"]}),pushToRiverID:yc(1),activeRiverMakeUpID:yc(1),lastRiverIDNumber:1,riverShowState:"SHOW",highlightedCardID:null,highlightedCardField:null,riverContentState:"ALL",contentFilter:""},Tc=function(e){return{riverID:yc(e),cardIDs:[]}},Rc=function(e){for(var t=Object(J.a)({},e),n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach((function(e){t.riverMakeUps[e.riverID]=e})),t},Ac=function(e){return Object(J.a)(Object(J.a)({},e.riverMakeUps[e.activeRiverMakeUpID]),{},{active:!1})},Ic=function(e,t){var n=Object.fromEntries(Object.entries(e.riverMakeUps).map((function(e){return[e[0],Object(J.a)(Object(J.a)({},e[1]),{},{cardIDs:e[1].cardIDs.filter((function(e){return e!==t}))})]})));return Object(J.a)(Object(J.a)({},e),{},{riverMakeUps:n})},Nc={constants:A,components:k,reducer:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sc,r=arguments.length>1?arguments[1]:void 0,a=r.type,c=r.payload;switch(a){case aa.actionTypes.PAGE_UPDATE:var o;o=n.riverMakeUps[yc(c)]?Object(J.a)({},n.riverMakeUps[yc(c)]):Tc(c);var i=Ac(n);return Object(J.a)(Object(J.a)({},Rc(n,o,i)),{},{activeRiverMakeUpID:o.riverID,pushToRiverID:o.riverID});case un.actionTypes.CARD_PUSH:return e=Object(J.a)(Object(J.a)({},n.riverMakeUps[n.pushToRiverID]),{},{cardIDs:[].concat(Object(hc.a)(n.riverMakeUps[n.pushToRiverID].cardIDs),[c.cardID])}),(t=Object(J.a)({},n.riverMakeUps))[n.pushToRiverID]=e,Object(J.a)(Object(J.a)({},n),{},{riverMakeUps:t});case un.actionTypes.CARD_REMOVE:return Ic(n,c);case ha:return Object(J.a)(Object(J.a)({},n),{},{riverShowState:c});case Sa:return Object(J.a)(Object(J.a)({},n),{},{riverContentState:c});case Ta:return Object(J.a)(Object(J.a)({},n),{},{pushToRiverID:c});case Ra:return Object(J.a)(Object(J.a)({},n),{},{highlightedCardID:c.id,highlightedCardField:c.field});case cn.actionTypes.DOCUMENT_CHANGE:return c?Object(J.a)(Object(J.a)({},Sc),{},{riverMakeUps:c.riverMakeUps,activeRiverMakeUpID:c.activeRiverMakeUpID,pushToRiverID:c.pushToRiverID,lastRiverIDNumber:c.lastRiverIDNumber}):Sc;case cn.actionTypes.LOAD_DOCUMENT_DATA_SETS:return c.newActiveDataSet?Object(J.a)(Object(J.a)({},Sc),{},{riverMakeUps:c.newActiveDataSet.riverMakeUps,activeRiverMakeUpID:c.newActiveDataSet.activeRiverMakeUpID,pushToRiverID:c.newActiveDataSet.pushToRiverID,lastRiverIDNumber:c.newActiveDataSet.lastRiverIDNumber}):n;case Aa:return Object(J.a)(Object(J.a)({},n),{},{contentFilter:c});default:return n}},selectors:I,actions:N},Pc=Object(ce.a)(aa.selectors.getPDFName,aa.selectors.getTotalPages,aa.selectors.getCurrentPage,Nc.selectors.getRiverMakeUps,Nc.selectors.getActiveRiverMakeUpID,Nc.selectors.getPushToRiver,Nc.selectors.getLastRiverIDNumber,un.selectors.getCards,un.selectors.getLastCardIDNumber,(function(e,t,n,r,a,c,o,i,u){return{name:e,totalPages:t,currentPage:n,riverMakeUps:r,activeRiverMakeUpID:a,pushToRiverID:c,lastRiverIDNumber:o,cards:i,lastCardIDNumber:u}})),Mc=function(){return function(e,t){var n=t();if(void 0!==aa.selectors.getPDFName(n)){var r=Pc(n);e(cn.actions.archiveDBData(r))}}},_c=n(240),wc=function(){return function(e,t){e(Mc());var n=cn.selectors.getDocumentDataSets(t()),r=(new Date).toLocaleString();_c(JSON.stringify(n),r+" ClayMemory.txt")}},kc=function(e){return function(t,n){var r=e.name,a=n(),c=aa.selectors.getPDFName(a),o=cn.selectors.getDocumentDB(a);if(void 0!==c){var i=Pc(a);t(cn.actions.archiveDBData(i))}if(t(aa.actions.pdfUpload(e)),r!==c){var u=o[r];t(u?{type:cn.actionTypes.DOCUMENT_CHANGE,payload:u}:{type:cn.actionTypes.DOCUMENT_CHANGE}),t(ar.ActionCreators.clearHistory())}}},xc=function(e){return function(t,n){var r=n(),a=aa.selectors.getPDFName(r),c=cn.selectors.getDocumentDB(r);if(void 0!==a){var o=Pc(r);t(cn.actions.archiveDBData(o))}var i=c[e];t({type:cn.actionTypes.DOCUMENT_CHANGE,payload:i}),t(ar.ActionCreators.clearHistory())}},Uc=n(322),Lc=n(323),Fc=n(114),Hc=n(278),Vc=n(320),qc=n(160),Bc=n.n(qc),Qc=n(161),zc=n.n(Qc),Gc=n(335),Wc=n(316),Xc=n(317),Yc=n(318),Jc=n(319),Zc=n(156),Kc=n.n(Zc),$c=function(e){var t=e.document,n=e.handleClose,r=e.open,a=Object(tt.c)();return G.a.createElement(Gc.a,{open:r,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},G.a.createElement(Wc.a,{id:"alert-dialog-title"},"Delete "+t+" and all associated card data?"),G.a.createElement(Xc.a,null,G.a.createElement(Yc.a,{id:"alert-dialog-description"},"This change can not be undone.")),G.a.createElement(Jc.a,null,G.a.createElement(Vc.a,{onClick:n,color:"primary"},"Abort"),G.a.createElement(Vc.a,{onClick:function(){a(aa.actions.deleteDocument(t)),n()},color:"primary",autoFocus:!0},"Delete document and associated card data")))},eo=function(e){var t=e.document,n=Object(z.useState)(!1),r=Object(An.a)(n,2),a=r[0],c=r[1];return G.a.createElement("div",null,G.a.createElement(nt.a,{title:_t.constants.deleteDocumentTooltip,enterDelay:_t.constants.defaultEnterDelay,enterNextDelay:_t.constants.defaultEnterNextDelay},G.a.createElement(et.a,{type:"button",onClick:function(){c(!0)}},G.a.createElement(Kc.a,{fontSize:"small"}))),G.a.createElement($c,{document:t,open:a,handleClose:function(){c(!1)}}))},to=n(157),no=n.n(to),ro=function(e){var t=e.handleClose,n=e.label,r=Object(tt.c)(),a=Object(tt.d)(aa.selectors.getPDFName),c=Object(z.useRef)(null);return G.a.createElement(z.Fragment,null,G.a.createElement(Hc.a,{onClick:function(){c.current.click()}},G.a.createElement(Vc.a,{variant:"contained",color:"primary",disableElevation:!0,startIcon:G.a.createElement(no.a,null)},n)),G.a.createElement("input",{ref:c,style:{display:"none"},onChange:function(e){var n=e.target.files,c=n?n[0]:null;if(c){var o=new FileReader;o.readAsText(c),o.onload=function(){var e=JSON.parse(o.result),t=e.find((function(e){return e.name===a}));r(cn.actions.loadDocumentDataSets(e,t))}}t()},type:"file",accept:".txt"}))},ao=n(158),co=n.n(ao),oo=function(e){var t=e.handleClose,n=e.label,r=Object(tt.c)(),a=Object(z.useRef)(null);return G.a.createElement(z.Fragment,null,G.a.createElement(Hc.a,{onClick:function(){a.current.click()}},G.a.createElement(Vc.a,{variant:"contained",color:"primary",disableElevation:!0,startIcon:G.a.createElement(co.a,null)},n)),G.a.createElement("input",{ref:a,style:{display:"none"},onChange:function(e){var n=e.target.files,a=n?n[0]:null;a&&r(kc(a)),t()},type:"file",accept:".pdf"}))},io=n(159),uo=n.n(io),lo=function(e){var t=e.document,n=Object(tt.c)();return G.a.createElement(nt.a,{title:_t.constants.loadSavedDocumentTooltip,enterDelay:_t.constants.defaultEnterDelay,enterNextDelay:_t.constants.defaultEnterNextDelay},G.a.createElement(et.a,{type:"button",onClick:function(){n(xc(t))}},G.a.createElement(uo.a,{fontSize:"small"})))},so=function(e){var t=e.document;return G.a.createElement(Y.a,{container:!0,direction:"row"},G.a.createElement(Y.a,{item:!0},G.a.createElement(lo,{document:t})),G.a.createElement(Y.a,{item:!0},G.a.createElement(Rr.a,{orientation:"vertical"})),G.a.createElement(Y.a,{item:!0},G.a.createElement(eo,{document:t})))},fo=function(e){var t=e.document;return G.a.createElement(Y.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:1},G.a.createElement(Y.a,{item:!0},t.replace(".pdf","")),G.a.createElement(Y.a,{item:!0},G.a.createElement(Tr.a,{variant:"outlined"},G.a.createElement(so,{document:t}))))},mo=function(e){var t=e.document;return G.a.createElement(Y.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:1},G.a.createElement(Y.a,{item:!0},t.replace(".pdf","")),G.a.createElement(Y.a,{item:!0},G.a.createElement(Tr.a,{variant:"outlined"},G.a.createElement(eo,{document:t}))))},po=function(){var e=Object(tt.d)(aa.selectors.getPDFName),t=Object(tt.d)(cn.selectors.getDocumentNames).filter((function(t){return t!==e})),n=G.a.useState(null),r=Object(An.a)(n,2),a=r[0],c=r[1],o=function(){c(null)},i=Object(tt.c)(),u=er();return G.a.createElement("div",null,G.a.createElement(et.a,{type:"button",onClick:function(e){c(e.currentTarget)}},G.a.createElement(Bc.a,null)),G.a.createElement(Fc.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:o,MenuListProps:{style:{paddingLeft:"8px",paddingRight:"8px"}}},e&&[G.a.createElement(xr.a,{key:u(),component:"span",variant:"h6"},_t.constants.activeDocumentText),G.a.createElement(mo,{key:u(),document:e}),G.a.createElement(Rr.a,{key:u(),style:{marginTop:"6px"}})],t.length>0&&[G.a.createElement(xr.a,{key:u(),component:"span",variant:"h6"},_t.constants.existingDataText),G.a.createElement(xr.a,{key:u(),component:"span"},G.a.createElement("ul",{style:{listStyleType:"square"}},t.map((function(e){return e?G.a.createElement("li",{key:u()},G.a.createElement(fo,{document:e,key:u()})):null})))),G.a.createElement(Rr.a,{key:u(),style:{marginTop:"6px"}})],G.a.createElement(oo,{handleClose:o,label:"Load document"}),G.a.createElement(Rr.a,null),G.a.createElement(Hc.a,{onClick:function(){i(wc()),o()}},G.a.createElement(Vc.a,{variant:"contained",color:"primary",disableElevation:!0,startIcon:G.a.createElement(zc.a,null)},_t.constants.downloadDatasetsText)),G.a.createElement(Rr.a,null),G.a.createElement(ro,{handleClose:o,label:_t.constants.uploadDatasetsText})))},vo=n(162),Eo=n.n(vo),bo=function(){var e=Object(tt.c)(),t=Object(tt.d)(Nc.selectors.getRiverContentFilter),n=Object(z.useState)(t),r=Object(An.a)(n,2),a=r[0],c=r[1];return G.a.createElement(Eo.a,{value:a,placeholder:"Search in cards",onChange:function(t){""===t&&e(Nc.actions.resetContentFilter()),c(t)},onCancelSearch:function(){e(Nc.actions.resetContentFilter())},onRequestSearch:function(){return e(Nc.actions.setContentFilter(a))}})},Oo=n(163),go=n.n(Oo),Do=n(164),yo=n.n(Do),Co=function(){var e=Object(tt.c)();return G.a.createElement(nt.a,{title:_t.constants.undoTooltip,enterDelay:_t.constants.defaultEnterDelay,enterNextDelay:_t.constants.defaultEnterNextDelay},G.a.createElement("span",null,G.a.createElement(et.a,{type:"button",onClick:function(){e(ar.ActionCreators.undo())}},G.a.createElement(go.a,null))))},jo=function(){var e=Object(tt.c)();return G.a.createElement(nt.a,{title:_t.constants.redoTooltip,enterDelay:_t.constants.defaultEnterDelay,enterNextDelay:_t.constants.defaultEnterNextDelay},G.a.createElement(et.a,{type:"button",onClick:function(){e(ar.ActionCreators.redo())}},G.a.createElement(yo.a,null)))},ho=function(){return G.a.createElement(Tr.a,{variant:"outlined"},G.a.createElement(Y.a,{container:!0,direction:"row"},G.a.createElement(Y.a,{item:!0},G.a.createElement(Co,null)),G.a.createElement(Y.a,{item:!0},G.a.createElement(Rr.a,{orientation:"vertical"})),G.a.createElement(Y.a,{item:!0},G.a.createElement(jo,null))))},So=n(165),To=n.n(So),Ro=function(){var e=Object(tt.c)(),t=Object(tt.d)(Nc.selectors.getRiverShowState);return G.a.createElement(ia.a,{control:G.a.createElement(Va,{checked:"SHOW"===t,onClick:function(){e(Nc.actions.toggleRiverShowState())}}),label:"River"})},Ao=function(){var e=Object(tt.c)(),t=Object(tt.d)(aa.selectors.getDisplayStatus);return G.a.createElement(ia.a,{control:G.a.createElement(Va,{checked:"SHOW"===t,onClick:function(){e(aa.actions.toggleDisplayState())}}),label:"Material"})},Io=function(){var e=G.a.useState(null),t=Object(An.a)(e,2),n=t[0],r=t[1],a=Object(tt.d)(Ja.selectors.getDisplayFocus);return G.a.createElement("div",null,G.a.createElement(et.a,{type:"button",onClick:function(e){r(e.currentTarget)}},G.a.createElement(To.a,null)),G.a.createElement(Fc.a,{anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:function(){r(null)}},G.a.createElement(xr.a,null,"Show:"),G.a.createElement(Rr.a,null),G.a.createElement(Y.a,{container:!0,direction:"row"},G.a.createElement(Y.a,{item:!0},G.a.createElement(Nc.components.RiverContentFormGroup,null)),G.a.createElement(Y.a,{item:!0},G.a.createElement(Rr.a,{orientation:"vertical"})),G.a.createElement(Y.a,{item:!0},"ACTIVE_RIVER"===a&&G.a.createElement(Y.a,{container:!0,direction:"column"},G.a.createElement(Y.a,{item:!0},G.a.createElement(Ro,null)),G.a.createElement(Y.a,{item:!0},G.a.createElement(Ao,null)))))))},No=n(329),Po=n(321),Mo=function(){var e=Object(tt.c)(),t="ACTIVE_RIVER"===Object(tt.d)(Ja.selectors.getDisplayFocus)?0:1;return G.a.createElement(Tr.a,{variant:"outlined"},G.a.createElement(No.a,{value:t,onChange:function(t,n){e(0===n?Ja.actions.updateDisplayFocus("ACTIVE_RIVER"):Ja.actions.updateDisplayFocus("SUMMARY_RIVER"))}},G.a.createElement(Po.a,{label:G.a.createElement(nt.a,{title:_t.constants.switchToActiveRiverTooltip,enterDelay:_t.constants.defaultEnterDelay,enterNextDelay:500,disableFocusListener:!0},G.a.createElement("span",null,"ActiveRiver"))}),G.a.createElement(Po.a,{label:G.a.createElement(nt.a,{title:_t.constants.switchToSummaryRiverTooltip,enterDelay:_t.constants.defaultEnterDelay,enterNextDelay:500,disableFocusListener:!0},G.a.createElement("span",null,"SummaryRiver"))})))},_o=function(){var e=Object(tt.d)(aa.selectors.getPDFName);return G.a.createElement(Y.a,{item:!0},G.a.createElement(aa.components.PageKeyboardControl,null,G.a.createElement(Uc.a,null,G.a.createElement(Lc.a,{variant:"regular"},G.a.createElement(Y.a,{item:!0},G.a.createElement(Y.a,{container:!0,spacing:1,direction:"row",alignItems:"center",justify:"flex-start"},G.a.createElement(Y.a,{item:!0,style:{width:"15%"}},G.a.createElement(aa.components.PageChooser,null)),G.a.createElement(Y.a,{item:!0},G.a.createElement(aa.components.PageNavigation,null)),G.a.createElement(Y.a,{item:!0},G.a.createElement(Mo,null)),G.a.createElement(Y.a,{item:!0},G.a.createElement(ho,null)))),G.a.createElement(xr.a,{style:{flexGrow:1}},null===e||void 0===e?void 0:e.replace(".pdf","")),G.a.createElement(bo,null),G.a.createElement(Io,null),G.a.createElement(po,null)))))},wo={actions:U,components:L,selectors:x},ko="extractionData",xo=ko+"/TOGGLE_CONTEXT_MENU",Uo=ko+"/CLOSE_CONTEXT_MENU",Lo=ko+"/OPEN_CONTEXT_MENU",Fo=function(e){return e[ko].present},Ho=Object(ce.a)(Fo,(function(e){return e.open})),Vo=Object(ce.a)(Fo,(function(e){return e.menuRef})),qo=Object(ce.a)(Fo,(function(e){return e.fullCardRef})),Bo=Object(ce.a)(Fo,(function(e){return e.qaRefs})),Qo=Object(ce.a)(wn.selectors.getCurrentSelectionPosition,Ho,Vo,Bo,Nc.selectors.getPushToRiverCards,(function(e,t,n,r,a){return{position:e,state:t,menuRef:n,qaRefs:r,riverCards:a}})),zo=function(){return function(e,t){var n=t();aa.selectors.getDataExists(n)&&e({type:xo})}},Go=function(){return function(e,t){Ho(t())&&e({type:Uo})}},Wo=function(){return function(e){e({type:Lo})}},Xo={open:!1,menuRef:Object(z.createRef)(),fullCardRef:Object(z.createRef)(),qaRefs:[Object(z.createRef)(),Object(z.createRef)()]},Yo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xo,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case xo:return Object(J.a)(Object(J.a)({},e),{},{open:!e.open});case Uo:return Object(J.a)(Object(J.a)({},e),{},{open:!1});case Lo:return Object(J.a)(Object(J.a)({},e),{},{open:!0});case un.actionTypes.CARD_PUSH:return"Q-A"===r.type?Object(J.a)(Object(J.a)({},e),{},{qaRefs:[].concat(Object(hc.a)(e.qaRefs),[Object(z.createRef)()])}):e;default:return e}},Jo=n(98),Zo=function(e){var t=e.cardConfig,n=e.dispatchRiver,r=Object(tt.c)();return G.a.createElement(Hc.a,{onClick:function(){n("note",t.cardID)},onMouseEnter:function(){r(Nc.actions.trySetHoveredCard(t.cardID,"note"))}},t.type)},Ko=function(e){var t=e.cardConfig,n=e.dispatchRiver,r=e.qaRef,a=Object(tt.c)();return G.a.createElement(Jo.a,{label:"Q-A",parentMenuOpen:!0,onMouseEnter:function(){a(Nc.actions.trySetHoveredCard(t.cardID,"q"))}},G.a.createElement(Hc.a,{ref:r,onClick:function(){n("q",t.cardID)},onMouseEnter:function(){a(Nc.actions.trySetHoveredCard(t.cardID,"q"))}},"Q-field"),G.a.createElement(Hc.a,{onClick:function(){n("a",t.cardID)},onMouseEnter:function(){a(Nc.actions.trySetHoveredCard(t.cardID,"a"))}},"A-field"))},$o=function(e){var t=e.cardConfig,n=e.dispatchRiver,r=e.qaRef;switch(t.type){case"Q-A":return G.a.createElement(Ko,{cardConfig:t,dispatchRiver:n,qaRef:r});default:return G.a.createElement(Zo,{cardConfig:t,dispatchRiver:n})}},ei=function(e){var t=e.onClick;return G.a.createElement(Hc.a,{onClick:t},"New: Q (Q-A)")},ti=function(e){var t=e.onClick;return G.a.createElement(Hc.a,{onClick:t},"New: A (Q-A)")},ni=function(e){var t=e.onClick;return G.a.createElement(Hc.a,{onClick:t},"New: Note")},ri=function(e){var t=e.noteDispatch,n=e.qDispatch,r=e.aDispatch;return G.a.createElement(z.Fragment,null,G.a.createElement(ni,{onClick:t}),G.a.createElement(ei,{onClick:n}),G.a.createElement(ti,{onClick:r}))},ai=function(e,t){var n=Object(z.useRef)((function(){}));Object(z.useEffect)((function(){n.current=t}),[t]),Object(z.useEffect)((function(){var t=function(e){return n.current(e)};return document.addEventListener(e,t),function(){document.removeEventListener(e,t)}}),[e])},ci=function(e,t){var n,r,a=Vo(e).current,c=null===(n=qo(e).current)||void 0===n?void 0:n.parentNode,o=Bo(e).map((function(e){return e.current})).filter((function(e){return!!e})).map((function(e){return e.parentNode})),i=t.target;if(null===a||void 0===a||null===(r=a.querySelector("div.MuiPaper-root"))||void 0===r?void 0:r.contains(i))return!0;if(null===c||void 0===c?void 0:c.contains(i))return!0;var u,l=Object(tr.a)(o);try{for(l.s();!(u=l.n()).done;){if(u.value.contains(i))return!0}}catch(s){l.e(s)}finally{l.f()}return!1};var oi=function(e){return function(t,n){!ci(n(),e)&&(t(Go()),t(Nc.actions.resetHoveredCard()))}},ii=function(e){return function(t,n){var r=n();if(wn.selectors.currentSelectionExists(r)){e.preventDefault();var a=Ja.selectors.getDisplayFocus(r);t(wn.actions.updateSelectionPosition(e.x,e.y)),t(Wo()),"ACTIVE_RIVER"===a&&t(Nc.actions.setPushToRiver(Nc.selectors.getActiveRiverMakeUpID(r)))}}},ui=Object(tt.b)(Qo)((function(e){var t=e.position,n=e.state,r=e.menuRef,a=e.qaRefs,c=e.riverCards,o=Object(tt.c)();ai("mousedown",(function(e){o(oi(e))})),ai("contextmenu",(function(e){o(ii(e))}));var i=Object(tt.d)(qo),u=Object(tt.d)(wn.selectors.getSourceCard),l=n,s=Object(tt.d)(wn.selectors.getCurrentSelectedParent),d=Object(tt.e)(),f=function(e,t){if(o(Go()),u)o(wn.actions.selectionToCardForSourceCard(e,u.sourceField,u.origin,t));else{var n=s?aa.selectors.getCurrentOrigin(d.getState()):void 0;o(wn.actions.selectionToCard(e,n,t))}},m=er(),p=er(),v=l?{top:t.y,left:t.x}:void 0,E=function(e,t){var n=[],r=[];return e.forEach((function(e){return(t(e)?n:r).push(e)})),[n,r]}(c,un.model.model.cardIsNotFull),b=Object(An.a)(E,2),O=b[0],g=b[1];return G.a.createElement(Fc.a,{ref:l?r:null,keepMounted:!0,open:l,anchorReference:"anchorPosition",anchorPosition:v},l&&O.map((function(e){return G.a.createElement($o,{cardConfig:e,dispatchRiver:f,key:m(),qaRef:"Q-A"===e.type?a[p()]:void 0})})),l&&O.length>0&&G.a.createElement(Rr.a,null),l&&G.a.createElement(ri,{noteDispatch:function(){f("note")},qDispatch:function(){f("q")},aDispatch:function(){f("a")}}),l&&g.length>0&&G.a.createElement(Rr.a,null),l&&g.length>0&&G.a.createElement(Jo.a,{label:"Full cards: ",parentMenuOpen:!0},G.a.createElement(Hc.a,{ref:i,style:{position:"absolute"}}),g.map((function(e){return G.a.createElement($o,{cardConfig:e,dispatchRiver:f,key:m(),qaRef:"Q-A"===e.type?a[p()]:void 0})}))))})),li={actions:q,actionTypes:H,constants:F,components:Q,reducer:Yo,selectors:V,services:B},si=n(276),di=n(324),fi=n(325),mi=n(326),pi=n(327),vi=n(167),Ei=n.n(vi),bi=Object(si.a)((function(e){return Object(di.a)({root:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}})}));function Oi(e){var t=e.children,n=bi(),r=Object(fi.a)({disableHysteresis:!0,threshold:100});return G.a.createElement(mi.a,{in:r},G.a.createElement("div",{onClick:function(e){var t=(e.target.ownerDocument||document).querySelector("#back-to-top-anchor");t&&t.scrollIntoView({behavior:"smooth",block:"center"})},role:"presentation",className:n.root},t))}function gi(){var e=Object(tt.d)(Ja.selectors.getDisplayFocus),t=Object(tt.d)(aa.selectors.displayStatusIsShow),n=Object(tt.d)(Nc.selectors.riverShowStateIsShow);return G.a.createElement("div",null,G.a.createElement(Y.a,{container:!0,justify:"center",direction:"column",alignItems:"stretch",spacing:1},G.a.createElement(wo.components.ControlBar,null),G.a.createElement(Lc.a,{id:"back-to-top-anchor"}),G.a.createElement(Y.a,{item:!0,hidden:"ACTIVE_RIVER"!==e},G.a.createElement(Y.a,{container:!0,justify:"space-around",direction:"row",alignItems:"stretch"},G.a.createElement(Y.a,{item:!0,style:{width:"38%"},hidden:!n},G.a.createElement(Nc.components.ActiveCardRiver,null)),G.a.createElement(aa.components.MaterialDisplayColumnWithSize,{hidden:!t}))),G.a.createElement(Y.a,{item:!0,hidden:"SUMMARY_RIVER"!==e},G.a.createElement(Nc.components.SummaryRiver,null))),G.a.createElement(Oi,null,G.a.createElement(pi.a,{color:"secondary",size:"small","aria-label":"scroll back to top"},G.a.createElement(Ei.a,null))),G.a.createElement(li.components.ContextMenuContainer,null),G.a.createElement(wn.components.SelectionSnackbar,null))}var Di,yi=n(35),Ci=n(168),ji=n(169),hi=n(58),Si=n(170),Ti=n.n(Si),Ri=function(e){return Object(J.a)(Object(J.a)({},e),{},{menuRef:null,fullCardRef:null,qaRefs:e.qaRefs.map((function(e){return null}))})},Ai=function(e){return Object(J.a)(Object(J.a)({},e),{},{menuRef:Object(z.createRef)(),fullCardRef:Object(z.createRef)(),qaRefs:e.qaRefs.map((function(e){return Object(z.createRef)()}))})},Ii=Object(hi.a)((function(e){return Object(J.a)(Object(J.a)({},e),{},{future:e.future.map(Ri),past:e.past.map(Ri),present:Ri(e.present)})}),(function(e){return Object(J.a)(Object(J.a)({},e),{},{future:e.future.map(Ai),past:e.past.map(Ai),present:Ai(e.present)})}),{whitelist:[li.constants.NAME]}),Ni=Object(hi.a)((function(e){return function(e){return Object(J.a)(Object(J.a)({},e),{},{documentRef:null,materialData:null,pdf:null})}(e)}),(function(e){return function(e){return Object(J.a)(Object(J.a)({},e),{},{pdf:void 0,documentRef:Object(z.createRef)(),materialData:{materialDataTimeStamp:-1/0}})}(e)}),{whitelist:[aa.constants.NAME]}),Pi=Object(hi.a)((function(e){return Object(J.a)(Object(J.a)({},e),{},{future:[],past:[],present:{manuallySelectedString:"",selectedParentSpan:null,selectionPosition:{x:0,y:0},sourceCard:null}})}),(function(e){return e}),{whitelist:[wn.constants.NAME]}),Mi={key:"root",storage:Ti.a,transforms:[Ii,Ni,Pi]},_i=Object(yi.combineReducers)((Di={},Object(Yt.a)(Di,Ja.constants.NAME,Ja.reducer),Object(Yt.a)(Di,wn.constants.NAME,cr()(wn.reducer,{filter:Object(ar.includeAction)([wn.actionTypes.SELECTED_STRING])})),Object(Yt.a)(Di,li.constants.NAME,cr()(li.reducer,{filter:Object(ar.includeAction)([un.actionTypes.CARD_PUSH])})),Object(Yt.a)(Di,Nc.constants.NAME,cr()(Nc.reducer,{filter:Object(ar.includeAction)([un.actionTypes.CARD_PUSH,un.actionTypes.CARD_REMOVE,cn.actionTypes.LOAD_DOCUMENT_DATA_SETS])})),Object(Yt.a)(Di,aa.constants.NAME,aa.reducer),Object(Yt.a)(Di,un.constants.NAME,cr()(un.reducer,{filter:Object(ar.includeAction)([cn.actionTypes.LOAD_DOCUMENT_DATA_SETS,un.actionTypes.CARD_PUSH,un.actionTypes.CARD_UPDATE,un.actionTypes.CARD_REMOVE,un.actionTypes.CARD_GOAL])})),Object(Yt.a)(Di,cn.constants.NAME,cr()(cn.reducer,{filter:Object(ar.includeAction)([cn.actionTypes.LOAD_DOCUMENT_DATA_SETS])})),Di)),wi=Object(hi.b)(Mi,_i),ki=Object(Ci.composeWithDevTools)({stateSanitizer:function(e){return e.displayData.pdf?Object(J.a)(Object(J.a)({},e),{},{displayData:Object(J.a)(Object(J.a)({},e.displayData),{},{pdf:"PDF_FILE_IS_HERE"})}):e}})(Object(yi.applyMiddleware)(ji.a)),xi=Object(yi.createStore)(wi,ki),Ui=Object(hi.c)(xi),Li=n(171);n(270),X.a.render(G.a.createElement(G.a.StrictMode,null,G.a.createElement(tt.a,{store:xi},G.a.createElement(Li.a,{loading:null,persistor:Ui},G.a.createElement(gi,null)))),document.getElementById("root"))}},[[187,1,2]]]);
//# sourceMappingURL=main.fb162877.chunk.js.map