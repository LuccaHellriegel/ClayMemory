(this.webpackJsonprem=this.webpackJsonprem||[]).push([[0],{141:function(e,t,n){e.exports=n(210)},164:function(e,t,n){},165:function(e,t,n){},169:function(e,t){},171:function(e,t){},172:function(e,t){},173:function(e,t){},174:function(e,t){},210:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"NAME",(function(){return x}));var a={};n.r(a),n.d(a,"PDF_UPLOADED",(function(){return Q})),n.d(a,"MATERIAL_LOADED",(function(){return V})),n.d(a,"DISPLAY_STATUS",(function(){return q})),n.d(a,"PAGE_UPDATE",(function(){return B})),n.d(a,"ZOOM_QUEUE",(function(){return G})),n.d(a,"MATERIAL_DATA",(function(){return H}));var c={};n.r(c),n.d(c,"getAll",(function(){return z})),n.d(c,"getPDF",(function(){return W})),n.d(c,"getPDFName",(function(){return X})),n.d(c,"getRenderCritialData",(function(){return Y})),n.d(c,"getTotalPages",(function(){return Z})),n.d(c,"getCurrentPage",(function(){return J})),n.d(c,"getPageControlData",(function(){return K})),n.d(c,"getDocumentRef",(function(){return $})),n.d(c,"getMaterialData",(function(){return ee})),n.d(c,"getTimeStamp",(function(){return te})),n.d(c,"getMaterialSpans",(function(){return ne})),n.d(c,"getSpanIndex",(function(){return re})),n.d(c,"getMaterialBoundingRects",(function(){return ae})),n.d(c,"getDataExists",(function(){return ce})),n.d(c,"getDisplayStatus",(function(){return oe})),n.d(c,"displayStatusIsShow",(function(){return ue})),n.d(c,"getZoomQueue",(function(){return ie}));var o={};n.r(o),n.d(o,"pdfUpload",(function(){return Oe})),n.d(o,"materialUploaded",(function(){return pe})),n.d(o,"materialLoaded",(function(){return ve})),n.d(o,"tryInterval",(function(){return Ee})),n.d(o,"captureMaterialData",(function(){return be})),n.d(o,"setPage",(function(){return me})),n.d(o,"movePage",(function(){return Ce})),n.d(o,"nextPage",(function(){return ye})),n.d(o,"previousPage",(function(){return De})),n.d(o,"toggleDisplayState",(function(){return Se})),n.d(o,"setZoomQueue",(function(){return Re})),n.d(o,"zoomToCardOrigin",(function(){return Ie})),n.d(o,"emptyZoomQueue",(function(){return Te}));var u={};n.r(u),n.d(u,"NAME",(function(){return Xe}));var i={};n.r(i),n.d(i,"FOCUS_UPDATE",(function(){return Ye})),n.d(i,"DISPLAY_FOCUS_UPDATE",(function(){return Ze}));var l={};n.r(l),n.d(l,"getAll",(function(){return Je})),n.d(l,"getFocus",(function(){return Ke})),n.d(l,"getDisplayFocus",(function(){return $e}));var s={};n.r(s),n.d(s,"updateFocus",(function(){return et})),n.d(s,"tryUpdateFocus",(function(){return tt})),n.d(s,"toggleContextMenuFocus",(function(){return nt})),n.d(s,"updateDisplayFocus",(function(){return rt}));var d={};n.r(d),n.d(d,"selectedStringToConfig",(function(){return it}));var f={};n.r(f),n.d(f,"NAME",(function(){return lt}));var O={};n.r(O),n.d(O,"CARD_UPDATE",(function(){return st})),n.d(O,"CARD_PUSH",(function(){return dt})),n.d(O,"CARD_REMOVE",(function(){return ft})),n.d(O,"CARD_GOAL",(function(){return Ot})),n.d(O,"CARD_SOURCE",(function(){return pt})),n.d(O,"GLOBAL_RESET",(function(){return vt}));var p={};n.r(p),n.d(p,"getAll",(function(){return Et})),n.d(p,"getLastCardIDNumber",(function(){return bt})),n.d(p,"getCards",(function(){return mt})),n.d(p,"getGoalCard",(function(){return jt})),n.d(p,"getSourceCard",(function(){return gt}));var v={};n.r(v),n.d(v,"cardPush",(function(){return Ct})),n.d(v,"cardUpdate",(function(){return yt})),n.d(v,"updateCardContent",(function(){return Dt})),n.d(v,"pushCardContent",(function(){return St})),n.d(v,"removeCard",(function(){return Rt})),n.d(v,"setGoalCard",(function(){return It})),n.d(v,"resetGoalCard",(function(){return Tt})),n.d(v,"setSourceCard",(function(){return ht})),n.d(v,"trySetSourceCard",(function(){return At})),n.d(v,"resetSourceCard",(function(){return Nt})),n.d(v,"tryResetSourceCard",(function(){return Mt}));var E={};n.r(E),n.d(E,"PageChooser",(function(){return He})),n.d(E,"NextButton",(function(){return _e})),n.d(E,"PreviousButton",(function(){return ke})),n.d(E,"ShowMaterialButton",(function(){return Ve})),n.d(E,"MaterialDisplayColumnWithSize",(function(){return wt}));var b={};n.r(b),n.d(b,"NAME",(function(){return qt}));var m={};n.r(m),n.d(m,"getAll",(function(){return Bt})),n.d(m,"getRiverMakeUps",(function(){return Gt})),n.d(m,"getActiveRiverMakeUpID",(function(){return Ht})),n.d(m,"getPushToRiver",(function(){return zt})),n.d(m,"getPushToRiverMakeUp",(function(){return Wt})),n.d(m,"getActiveRiverMakeUp",(function(){return Xt})),n.d(m,"getPushToRiverCardIDs",(function(){return Yt})),n.d(m,"getPushToRiverCards",(function(){return Zt})),n.d(m,"getActiveRiverCardIDs",(function(){return Jt})),n.d(m,"getActiveRiverCards",(function(){return Kt})),n.d(m,"getRiverShowState",(function(){return $t})),n.d(m,"riverShowStateIsShow",(function(){return en})),n.d(m,"getHoveredCardData",(function(){return tn})),n.d(m,"getLastRiverIDNumber",(function(){return nn})),n.d(m,"getRiverContentState",(function(){return rn}));var j={};n.r(j),n.d(j,"toggleRiverShowState",(function(){return Pn})),n.d(j,"setRiverContentState",(function(){return Un})),n.d(j,"setPushToRiver",(function(){return kn})),n.d(j,"trySetPushToRiver",(function(){return _n})),n.d(j,"setHoveredCard",(function(){return Ln})),n.d(j,"trySetHoveredCard",(function(){return Fn}));var g={};n.r(g),n.d(g,"ActiveRiverView",(function(){return Jn})),n.d(g,"SummaryRiverView",(function(){return Xn})),n.d(g,"RiverContentFormGroup",(function(){return ar}));var C={};n.r(C),n.d(C,"NAME",(function(){return fr}));var y={};n.r(y),n.d(y,"getAll",(function(){return Or})),n.d(y,"getDocumentDB",(function(){return pr})),n.d(y,"getDocumentNames",(function(){return vr})),n.d(y,"getDocumentDataSets",(function(){return Er})),n.d(y,"getCurrentDBData",(function(){return br}));var D={};n.r(D),n.d(D,"ARCHIVE_CURRENT_DATA",(function(){return mr})),n.d(D,"LOAD_DOCUMENT_DATA_SETS",(function(){return jr}));var S={};n.r(S),n.d(S,"archiveDBData",(function(){return gr})),n.d(S,"archiveCurrentDBData",(function(){return Cr})),n.d(S,"downloadDBData",(function(){return Dr})),n.d(S,"changeDocument",(function(){return Sr})),n.d(S,"loadDocumentDataSets",(function(){return Rr}));var R={};n.r(R),n.d(R,"NAME",(function(){return Tr}));var I={};n.r(I),n.d(I,"TOGGLE_CONTEXT_MENU",(function(){return hr})),n.d(I,"CLOSE_CONTEXT_MENU",(function(){return Ar})),n.d(I,"OPEN_CONTEXT_MENU",(function(){return Nr})),n.d(I,"SELECTED_STRING",(function(){return Mr})),n.d(I,"SELECTED_PARENT",(function(){return Pr})),n.d(I,"SELECTION_POSITION",(function(){return Ur}));var T={};n.r(T),n.d(T,"getAll",(function(){return kr})),n.d(T,"getContextMenuState",(function(){return _r})),n.d(T,"getContextMenuRef",(function(){return Lr})),n.d(T,"getContextMenuFullCardsRef",(function(){return Fr})),n.d(T,"getContextMenuQARefs",(function(){return wr})),n.d(T,"getCurrentSelectionPosition",(function(){return xr})),n.d(T,"getContextMenuInitData",(function(){return Qr})),n.d(T,"getCurrentSelectedString",(function(){return Vr})),n.d(T,"getCurrentSelectedParent",(function(){return qr})),n.d(T,"getCurrentOrigin",(function(){return Br}));var h={};n.r(h),n.d(h,"toggleContextMenu",(function(){return Hr})),n.d(h,"closeContextMenu",(function(){return zr})),n.d(h,"openContextMenu",(function(){return Wr})),n.d(h,"grabSelectionForContextMenu",(function(){return Xr})),n.d(h,"hasNonEmptyOrigin",(function(){return Yr})),n.d(h,"grabSelectionForSourceMenu",(function(){return Zr})),n.d(h,"updateManuallySelectedString",(function(){return Jr})),n.d(h,"resetManuallySelectedString",(function(){return Kr})),n.d(h,"selectedParent",(function(){return $r})),n.d(h,"updateSelectionPosition",(function(){return ea}));var A={};n.r(A),n.d(A,"ContextMenuContainer",(function(){return va})),n.d(A,"SelectionSnackbar",(function(){return ja}));var N={};n.r(N),n.d(N,"contextMenuContainsTargetNode",(function(){return ga}));var M={};n.r(M),n.d(M,"ControlContainer",(function(){return Ta})),n.d(M,"ControlBar",(function(){return qa}));var P=n(0),U=n.n(P),k=n(12),_=n.n(k),L=n(258),F=n(8),w=n(2),x="displayData",Q=x+"/PDF_UPLOADED",V=x+"/MATERIAL_LOADED",q=x+"/DISPLAY_STATUS",B=x+"/PAGE_UPDATE",G=x+"/ZOOM_QUEUE",H=x+"/MATERIAL_DATA",z=function(e){return e[x]},W=Object(F.a)(z,(function(e){return{pdf:e.pdf?e.pdf:null}})),X=Object(F.a)(z,(function(e){return e.pdfName})),Y=Object(F.a)(z,(function(e){return{pdf:e.pdf,currentPage:e.currentPage,documentRef:e.documentRef}})),Z=Object(F.a)(z,(function(e){return e.totalPages})),J=Object(F.a)(z,(function(e){return e.currentPage})),K=Object(F.a)(Z,J,(function(e,t){return{currentPage:t,totalPages:e}})),$=Object(F.a)(z,(function(e){return e.documentRef})),ee=Object(F.a)(z,(function(e){return e.materialData})),te=Object(F.a)(ee,(function(e){return e.materialDataTimeStamp})),ne=Object(F.a)(ee,(function(e){return e.materialSpans})),re=function(e,t){return ne(e).indexOf(t)},ae=Object(F.a)(ee,(function(e){return e.materialBoundingRects})),ce=Object(F.a)(te,(function(e){return e>0})),oe=Object(F.a)(z,(function(e){return e.displayStatus})),ue=Object(F.a)(oe,(function(e){return"SHOW"===e})),ie=Object(F.a)(z,(function(e){return e.zoomQueue})),le=function(){var e=0;return function(){var t=e;return e++,t}},se=n(54),de=function(e){return{span:e,rect:e.getBoundingClientRect()}},fe=function(e){var t=Array.from(e.querySelectorAll("span"));if(0===t.length)return null;var n=function(e){var t,n=[],r=[],a=Object(se.a)(e);try{for(a.s();!(t=a.n()).done;){var c=t.value;n.push(c.span),r.push(c.rect)}}catch(o){a.e(o)}finally{a.f()}return{spans:n,boundingRects:r}}(function(e){return e.map(de)}(t).sort((function(e,t){return e.rect.y-t.rect.y})));return{materialSpans:n.spans,materialBoundingRects:n.boundingRects}},Oe=function(e){return{type:Q,payload:e}},pe=function(e){return function(t){var n=e.target.files,r=n?n[0]:null;r&&t(Oe(r))}},ve=function(e){return{type:V,payload:e}},Ee=function(e,t,n){var r=le(),a=setInterval((function(){(r()>e||n())&&clearInterval(a)}),t)};function be(e){return function(t,n){var r=n(),a=e.current;if(a){var c=Date.now(),o=fe(a);if(o&&te(r)<c){var u=Object(w.a)(Object(w.a)({},o),{},{materialDataTimeStamp:c});t({type:H,payload:u}),t(Te())}else Ee(10,20,(function(){var e=fe(a);if(e&&te(n())<c){var r=Object(w.a)(Object(w.a)({},e),{},{materialDataTimeStamp:c});return t({type:H,payload:r}),!0}return!1}))}}}var me=function(e){return{type:B,payload:e}},je=function(e,t){return e===t+1?1:e},ge=function(e,t){return 0===e?t:e},Ce=function(e){return function(t,n){var r=K(n()),a=r.currentPage,c=r.totalPages;if(c)switch(e){case"NEXT":t({type:B,payload:je(a+1,c)});break;case"PREVIOUS":t({type:B,payload:ge(a-1,c)})}}},ye=function(){return Ce("NEXT")},De=function(){return Ce("PREVIOUS")},Se=function(){return function(e,t){var n="SHOW"===oe(t())?"HIDE":"SHOW";e({type:q,payload:n})}},Re=function(e){return{type:G,payload:e}},Ie=function(e,t){return function(n){n(me(t)),n(Re(e))}},Te=function(){return function(e,t){var n=t(),r=ie(n);if(r){var a=ne(n)[r];a.focus(),a.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),e(Re(null))}}},he=n(6),Ae=n(211),Ne=n(112),Me=n.n(Ne),Pe=n(111),Ue=n.n(Pe),ke=function(){var e=Object(he.c)();return U.a.createElement(Ae.a,{type:"button",onClick:function(){e(De())}},U.a.createElement(Ue.a,null))},_e=function(){var e=Object(he.c)();return U.a.createElement(Ae.a,{type:"button",onClick:function(){e(ye())}},U.a.createElement(Me.a,null))},Le=n(16),Fe=n(113),we=n.n(Fe),xe=n(114),Qe=n.n(xe),Ve=function(){var e=Object(P.useState)(!0),t=Object(Le.a)(e,2),n=t[0],r=t[1],a=Object(he.c)();return U.a.createElement(Ae.a,{type:"button",onClick:function(){a(Se()),r(!n)}},n?U.a.createElement(we.a,null):U.a.createElement(Qe.a,null))},qe=n(212),Be=n(270),Ge=/(\D)/,He=function(){var e=Object(he.c)(),t=Object(he.d)(K),n=t.currentPage,r=t.totalPages,a=Object(P.useState)({error:!1,value:null===n||void 0===n?void 0:n.toString(),userInput:null===n||void 0===n?void 0:n.toString()}),c=Object(Le.a)(a,2),o=c[0],u=c[1];return o.value!==n.toString()&&u({error:!1,value:n.toString(),userInput:n.toString()}),U.a.createElement(qe.a,{variant:"h6"},U.a.createElement(Be.a,{type:"text",variant:"filled",value:o.userInput,onKeyDown:function(t){if("Enter"===t.key){t.preventDefault();var n=t.target.value;o.error||e(me(parseInt(n)))}},onChange:function(e){var t=e.target.value;!function(e,t){if(""===e||null!==e.trim().match(Ge))return!1;var n=parseInt(e);return!(n<1||t<n)}(t,r)?u(Object(w.a)(Object(w.a)({},o),{},{error:!0,userInput:t})):u(Object(w.a)(Object(w.a)({},o),{},{error:!1,userInput:t}))},error:o.error}),"of ",r)},ze=n(115),We=n(213),Xe="appFocus",Ye=Xe+"/FOCUS_UPDATE",Ze=Xe+"/DISPLAY_FOCUS_UPDATE",Je=function(e){return e[Xe]},Ke=Object(F.a)(Je,(function(e){return e.userFocus})),$e=Object(F.a)(Je,(function(e){return e.displayFocus})),et=function(e){return{type:Ye,payload:e}},tt=function(e){return function(t,n){Ke(n())!==e&&t(et(e))}},nt=function(){return function(e,t){switch(Ke(t())){case"CONTEXT_MENU":e(et("SELECTION"));break;case"SELECTION":e(et("CONTEXT_MENU"))}}},rt=function(e){return{type:Ze,payload:e}},at={userFocus:"CONTROL",displayFocus:"ACTIVE_RIVER"},ct={actions:s,constants:u,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Ye:return Object(w.a)(Object(w.a)({},e),{},{userFocus:r});case Ze:return Object(w.a)(Object(w.a)({},e),{},{displayFocus:r});default:return e}},selectors:l,actionTypes:i},ot={REPLACE:function(e,t){return t},APPEND:function(e,t){return e+t}},ut={NOTE:function(e,t){return Object(w.a)(Object(w.a)({},e),{},{content:t(e.content)})},Q:function(e,t){var n=e.content;return Object(w.a)(Object(w.a)({},e),{},{content:Object(w.a)(Object(w.a)({},n),{},{q:t(n.q)})})},A:function(e,t){var n=e.content;return Object(w.a)(Object(w.a)({},e),{},{content:Object(w.a)(Object(w.a)({},n),{},{a:t(n.a)})})}},it=function(e,t,n,r,a){var c=function(e,t){return function(n){return ot[e](n,t)}}(r,e);return!!a?ut[n](a,c):ut[n]({type:t,content:"Q-A"===t?{q:"",a:""}:""},c)},lt="cards",st=lt+"/CARD_UPDATE",dt=lt+"/CARD_PUSH",ft=lt+"/CARD_REMOVE",Ot=lt+"/CARD_GOAL",pt=lt+"/CARD_SOURCE",vt=lt+"/GLOBAL_RESET",Et=function(e){return e.cards},bt=Object(F.a)(Et,(function(e){return e.lastCardIDNumber})),mt=Object(F.a)(Et,(function(e){return e.cards})),jt=Object(F.a)(Et,(function(e){return e.goalCard})),gt=Object(F.a)(Et,(function(e){return e.sourceCard})),Ct=function(e){return function(t,n){var r;t({type:dt,payload:Object(w.a)(Object(w.a)({},e),{},{card:Object(w.a)(Object(w.a)({},e.card),{},{cardID:(r=bt(n()),(r+1).toString())})})})}},yt=function(e){return{type:st,payload:e}},Dt=function(e,t,n,r,a){return function(c,o){var u=o(),i=mt(u)[t],l=it(e,i.type,n,r,i);c(yt({card:Object(w.a)(Object(w.a)({},l),{},{origin:a})}))}},St=function(e,t,n,r,a){var c=it(e,r,t,n);return Ct({card:Object(w.a)(Object(w.a)({},c),{},{origin:a})})},Rt=function(e){return{type:ft,payload:e}},It=function(e,t){return{type:Ot,payload:Object(w.a)(Object(w.a)({},e),{},{creationType:t})}},Tt=function(){return{type:Ot,payload:null}},ht=function(e,t){return{type:pt,payload:{origin:t,sourceField:e}}},At=function(e,t){return function(n,r){var a=gt(r());a&&a.sourceField===e&&a.origin===t||n(ht(e,t))}},Nt=function(){return{type:pt,payload:null}},Mt=function(){return function(e,t){null!==gt(t())&&e(Nt())}},Pt={cards:{0:{cardID:"0",type:"Q-A",content:{q:"Was ist der Sinn des Lebens?",a:"42"}},1:{cardID:"1",type:"Q-A",content:{q:"Welches Layout macht mehr Sinn?",a:"??"}},2:{cardID:"2",type:"Note",content:"Note here"}},lastCardIDNumber:2,goalCard:null,sourceCard:null},Ut=function(e,t){var n=Object(w.a)({},e.cards);return delete n[t],Object(w.a)(Object(w.a)({},e),{},{cards:n})},kt={services:d,constants:f,actionTypes:O,actions:v,reducer:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,r=arguments.length>1?arguments[1]:void 0,a=r.type,c=r.payload;switch(a){case dt:var o=n.lastCardIDNumber+1;return(t=Object(w.a)({},n.cards))[c.card.cardID]=c.card,Object(w.a)(Object(w.a)({},n),{},{cards:t,lastCardIDNumber:o});case st:return e=c.card.cardID,(t=Object(w.a)({},n.cards))[e]=c.card,Object(w.a)(Object(w.a)({},n),{},{cards:t});case ft:return Ut(n,c);case Ot:return Object(w.a)(Object(w.a)({},n),{},{goalCard:c});case pt:return Object(w.a)(Object(w.a)({},n),{},{sourceCard:c});case vt:return c?Object(w.a)(Object(w.a)({},Pt),{},{cards:c.cards,lastCardIDNumber:c.lastCardIDNumber}):Pt;default:return n}},selectors:p},_t=(n(164),n(165),n(74));_t.pdfjs.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(_t.pdfjs.version,"/pdf.worker.js");var Lt={cMapUrl:"cmaps/",cMapPacked:!0};var Ft=Object(he.b)(Y,{materialLoaded:ve,captureMaterialData:be})((function(e){var t=e.parentSize,n=e.pdf,r=e.currentPage,a=e.materialLoaded,c=e.captureMaterialData,o=e.documentRef,u=Object(he.c)();return U.a.createElement(_t.Document,{file:n,options:Lt,onLoadSuccess:function(e){var t=e.numPages;a(t)},inputRef:o,onItemClick:function(e){var t=e.pageNumber;u(me(parseInt(t)))}},n&&U.a.createElement(_t.Page,{width:t.width,pageNumber:r,onRenderSuccess:function(){document.querySelectorAll(".react-pdf__Page__textContent").forEach((function(e){var t=e.style;t.top="0",t.left="0",t.transform=""})),c(o)}}))}));var wt=Object(ze.withSize)({monitorHeight:!0,noPlaceholder:!0})((function(e){var t=e.size,n=e.hidden,r=Object(he.c)(),a=Object(P.useState)(3),c=Object(Le.a)(a,2),o=c[0],u=c[1];return U.a.createElement(L.a,{item:!0,style:{width:"60%"},onMouseEnter:function(){r(ct.actions.tryUpdateFocus("SELECTION")),r(kt.actions.tryResetSourceCard()),u(20)},onMouseLeave:function(){u(3)},hidden:n},U.a.createElement(We.a,{elevation:o},U.a.createElement(Ft,{parentSize:t})))})),xt=n(19),Qt={displayStatus:"SHOW",currentPage:1,documentRef:Object(P.createRef)(),pageSpans:{},zoomQueue:null,materialData:{materialDataTimeStamp:-1/0}},Vt={actions:o,actionTypes:a,components:E,constants:r,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Q:return Object(w.a)(Object(w.a)({},e),{},{pdf:r,pdfName:r.name});case V:return Object(w.a)(Object(w.a)({},e),{},{totalPages:r});case B:return Object(w.a)(Object(w.a)({},e),{},{currentPage:r});case q:return Object(w.a)(Object(w.a)({},e),{},{displayStatus:r});case H:return Object(w.a)(Object(w.a)({},e),{},{materialData:r,pageSpans:Object(w.a)(Object(w.a)({},e.pageSpans),{},Object(xt.a)({},e.currentPage,r.materialSpans.length-1))});default:return e}},selectors:c},qt="cardRiverState",Bt=function(e){return e[qt]},Gt=Object(F.a)(Bt,(function(e){return e.riverMakeUps})),Ht=Object(F.a)(Bt,(function(e){return e.activeRiverMakeUpID})),zt=Object(F.a)(Bt,(function(e){return e.pushToRiverID})),Wt=Object(F.a)(Gt,zt,(function(e,t){return e[t]})),Xt=Object(F.a)(Gt,Ht,(function(e,t){return e[t]})),Yt=Object(F.a)(Wt,(function(e){return e.cardIDs})),Zt=Object(F.a)(Yt,kt.selectors.getCards,(function(e,t){return e.map((function(e){return t[e]}))})),Jt=Object(F.a)(Xt,(function(e){return e.cardIDs})),Kt=Object(F.a)(Jt,kt.selectors.getCards,(function(e,t){return e.map((function(e){return t[e]}))})),$t=Object(F.a)(Bt,(function(e){return e.riverShowState})),en=Object(F.a)($t,(function(e){return"SHOW"===e})),tn=Object(F.a)(Bt,(function(e){return{id:e.hoveredCard,field:e.hoveredField}})),nn=Object(F.a)(Bt,(function(e){return e.lastRiverIDNumber})),rn=Object(F.a)(Bt,(function(e){return e.riverContentState})),an=n(73),cn=function(e){var t=e.storeValue,n=void 0===t?"":t,r=e.saveChanges,a=e.style,c=Object(an.a)(e,["storeValue","saveChanges","style"]),o=Object(P.useState)({storeValue:n,mutableValue:n}),u=Object(Le.a)(o,2),i=u[0],l=u[1];return i.storeValue!==n&&l({storeValue:n,mutableValue:n}),U.a.createElement(Be.a,Object.assign({multiline:!0,variant:"filled",value:i.mutableValue,onChange:function(e){var t=e.target.value;l(Object(w.a)(Object(w.a)({},i),{},{mutableValue:t}))},onBlur:function(e){r(e.target.value)},style:a},c))},on=n(116),un=n.n(on),ln=function(e){var t=e.cardID,n=Object(he.c)();return U.a.createElement(Ae.a,{type:"button",onClick:function(){n(kt.actions.removeCard(t))},onMouseEnter:function(){n(ct.actions.tryUpdateFocus("EDITOR_CONTROL"))}},U.a.createElement(un.a,null))},sn=n(117),dn=n.n(sn),fn=function(e){var t=e.cardOrigin,n=Object(he.c)();return U.a.createElement(Ae.a,{type:"button",onClick:function(){n(ct.actions.updateDisplayFocus("ACTIVE_RIVER")),n(Vt.actions.zoomToCardOrigin(t.spanIndex,t.page))}},U.a.createElement(dn.a,null))},On=n(119),pn=n.n(On),vn=n(118),En=n.n(vn),bn=function(e){var t=e.cardConfig,n=e.creationType,r=Object(he.c)(),a=Object(he.d)(kt.selectors.getGoalCard),c=Object(P.useState)(!0),o=Object(Le.a)(c,2),u=o[0],i=o[1];a?function(e,t,n){return e.cardID===n.cardID&&t===n.creationType}(t,n,a)?u&&i(!1):u||i(!0):u||i(!0);return U.a.createElement(Ae.a,{type:"button",onMouseEnter:function(){r(ct.actions.tryUpdateFocus("EDITOR_CONTROL"))},onClick:function(){r(u?kt.actions.setGoalCard(t,n):kt.actions.resetGoalCard())}},u?U.a.createElement(En.a,null):U.a.createElement(pn.a,null))},mn=n(42),jn={border:"2px solid green",borderRadius:"4px"},gn=function(e){var t=e.config,n=Object(he.c)(),r=Object(he.d)(tn).id,a=t.cardID===r,c="ACTIVE_RIVER"===Object(he.d)(ct.selectors.getDisplayFocus);return U.a.createElement("div",{style:a?jn:void 0},U.a.createElement(cn,{saveChanges:function(e){n(kt.actions.updateCardContent(e,t.cardID,"NOTE","REPLACE",t.origin))},storeValue:t.content,label:"Note",variant:"filled",style:{backgroundColor:"#CBF3F0"},InputLabelProps:{style:{color:"#000000"}},onMouseEnter:function(){n(ct.actions.tryUpdateFocus("EDITOR")),n(kt.actions.trySetSourceCard("NOTE",t.origin))}}),U.a.createElement(ln,{cardID:t.cardID}),c&&U.a.createElement(bn,{cardConfig:t,creationType:"NOTE"}),t.origin&&U.a.createElement(fn,{cardOrigin:t.origin}))},Cn=function(e){var t,n,r=e.config,a=Object(he.c)(),c=Object(he.d)(tn),o=c.id,u=c.field,i=r.cardID===o,l="ACTIVE_RIVER"===Object(he.d)(ct.selectors.getDisplayFocus);return U.a.createElement(L.a,{container:!0,direction:"column",spacing:1},U.a.createElement(L.a,{item:!0,style:i&&"Q"===u?jn:void 0},U.a.createElement(cn,{saveChanges:function(e){a(kt.actions.updateCardContent(e,r.cardID,"Q","REPLACE",r.origin))},storeValue:r.content.q,label:"Question",variant:"filled",style:{backgroundColor:"#FFBF69"},InputLabelProps:{style:{color:"#000000"}},onMouseEnter:function(){a(ct.actions.tryUpdateFocus("EDITOR")),a(kt.actions.trySetSourceCard("Q",r.origin))}}),l&&U.a.createElement(bn,{cardConfig:r,creationType:"Q"}),r.origin&&!Object(mn.isNullOrUndefined)(null===(t=r.origin.q)||void 0===t?void 0:t.spanIndex)&&U.a.createElement(fn,{cardOrigin:r.origin.q})),U.a.createElement(L.a,{item:!0,style:i&&"A"===u?jn:void 0},U.a.createElement(cn,{saveChanges:function(e){a(kt.actions.updateCardContent(e,r.cardID,"A","REPLACE",r.origin))},storeValue:r.content.a,label:"Answer",variant:"filled",style:{backgroundColor:"#2EC4B6"},InputLabelProps:{style:{color:"#000000"}},onMouseEnter:function(){a(ct.actions.tryUpdateFocus("EDITOR")),a(kt.actions.trySetSourceCard("A",r.origin))}}),l&&U.a.createElement(bn,{cardConfig:r,creationType:"A"}),r.origin&&!Object(mn.isNullOrUndefined)(null===(n=r.origin.a)||void 0===n?void 0:n.spanIndex)&&U.a.createElement(fn,{cardOrigin:r.origin.a})),U.a.createElement(L.a,{item:!0},U.a.createElement(ln,{cardID:r.cardID})))},yn=function(e){var t=e.config,n=e.riverID;switch(t.type){case"Note":return U.a.createElement(gn,{config:t,riverID:n});case"Q-A":return U.a.createElement(Cn,{config:t,riverID:n})}},Dn=n(259),Sn=function(){return U.a.createElement(L.a,{item:!0},U.a.createElement(Dn.a,null))},Rn=n(273),In=n(260),Tn=n(261),hn=qt+"/RIVER_SHOW_STATE",An=qt+"/RIVER_CONTENT_STATE",Nn=qt+"/RIVER_PUSH_STATE",Mn=qt+"/RIVER_HOVERED_CARD",Pn=function(){return function(e,t){e({type:hn,payload:en(t())?"HIDE":"SHOW"})}},Un=function(e){return{type:An,payload:e}},kn=function(e){return{type:Nn,payload:e}},_n=function(e){return function(t,n){zt(n())!==e&&t(kn(e))}},Ln=function(e,t){return{payload:{id:e,field:t},type:Mn}},Fn=function(e,t){return function(n,r){var a=r(),c=tn(a);c.id===e&&c.field===t||n(Ln(e,t))}},wn=n(120),xn=n.n(wn),Qn=function(){var e=Object(he.c)();return U.a.createElement(Ae.a,{type:"button",onClick:function(){e(kt.actions.cardPush({card:{type:"Note",content:""}}))},onMouseEnter:function(){e(ct.actions.tryUpdateFocus("EDITOR_CONTROL"))}},U.a.createElement(xn.a,null))},Vn=n(121),qn=n.n(Vn),Bn=function(){var e=Object(he.c)();return U.a.createElement(Ae.a,{type:"button",onClick:function(){e(kt.actions.cardPush({card:{type:"Q-A",content:{q:"",a:""}}}))},onMouseEnter:function(){e(ct.actions.tryUpdateFocus("EDITOR_CONTROL"))}},U.a.createElement(qn.a,null))},Gn=function(e){var t=e.riverID,n=e.gridItems,r=e.summary,a=Object(P.useState)(3),c=Object(Le.a)(a,2),o=c[0],u=c[1],i=Object(he.d)(zt);t===i&&3===o?u(20):t!==i&&3!==o&&u(3);var l=Object(he.c)();return U.a.createElement(Rn.a,{defaultExpanded:!0,onMouseEnter:function(){l(_n(t))},elevation:o},U.a.createElement(In.a,null,U.a.createElement(qe.a,{variant:"h6",align:"center",style:{MozUserSelect:"none",WebkitUserSelect:"none",msUserSelect:"none"}},r)),U.a.createElement(Tn.a,null,U.a.createElement(L.a,{container:!0,direction:"column",spacing:2,justify:"center",alignItems:"stretch"},U.a.createElement(L.a,{item:!0},U.a.createElement(Bn,null),U.a.createElement(Qn,null),U.a.createElement(Dn.a,null)),n)))},Hn=function(e){var t=e.riverID,n=e.riverCards,r=Object(he.d)(rn),a=Object(P.useMemo)((function(){var e=n;return"ALL"!==r&&("QAS"===r&&(e=n.filter((function(e){return"Q-A"===e.type}))),"NOTES"===r&&(e=n.filter((function(e){return"Note"===e.type})))),function(e,t){var n=le();return e.reduce((function(e,r,a,c){return e.push(U.a.createElement(L.a,{item:!0,key:n()},U.a.createElement(yn,{config:r,riverID:t,key:n()}))),a<c.length-1&&e.push(U.a.createElement(Sn,{key:n()})),e}),[])}(e,t)}),[n,t,r]);return U.a.createElement(Gn,{riverID:t,gridItems:a,summary:t})},zn=function(e){return"CardRiver "+e},Wn=function(){var e=Object(he.d)(ct.selectors.getDisplayFocus),t=Object(he.d)(Vt.selectors.getCurrentPage),n=Object(he.d)(kt.selectors.getCards),r=Object.values(Object(he.d)(Gt)),a=Object(P.useRef)(null);Object(P.useEffect)((function(){"SUMMARY_RIVER"===e&&null!==a.current&&(a.current.focus(),a.current.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}))}),[e,t]);var c=le();return U.a.createElement(L.a,{container:!0,justify:"flex-start",direction:"row",alignItems:"stretch",spacing:1},r.map((function(e){return e.cardIDs.length>0?U.a.createElement(L.a,{item:!0,ref:(r=e.riverID,parseInt(r.replace("CardRiver ",""))===t?a:null),key:c()},U.a.createElement(Hn,{riverID:e.riverID,riverCards:e.cardIDs.map((function(e){return n[e]})),key:c()})):null;var r})))},Xn=function(){var e=Object(he.d)(ct.selectors.getDisplayFocus);return U.a.createElement(L.a,{item:!0,hidden:"SUMMARY_RIVER"!==e},U.a.createElement(Wn,null))},Yn=function(){var e=Object(he.d)(Ht),t=Object(he.d)(Kt);return U.a.createElement(Hn,{riverID:e,riverCards:t})},Zn=function(e){var t=e.hidden;return U.a.createElement(L.a,{item:!0,style:{width:"38%"},hidden:t},U.a.createElement(Yn,null))},Jn=function(){var e=Object(he.d)(ct.selectors.getDisplayFocus),t=Object(he.d)(Vt.selectors.displayStatusIsShow),n=Object(he.d)(en);return U.a.createElement(L.a,{item:!0,hidden:"ACTIVE_RIVER"!==e},U.a.createElement(L.a,{container:!0,justify:"space-around",direction:"row",alignItems:"stretch"},U.a.createElement(Zn,{hidden:!n}),U.a.createElement(Vt.components.MaterialDisplayColumnWithSize,{hidden:!t})))},Kn=n(5),$n=n(272),er=n(262),tr=n(263),nr=n(89),rr=Object(Kn.a)({root:{color:nr.a[400],"&$checked":{color:nr.a[600]}},checked:{}})((function(e){return U.a.createElement($n.a,Object.assign({color:"default"},e))})),ar=function(){var e=Object(he.d)(rn),t=Object(he.c)(),n="ALL"===e||"QAS"===e,r="ALL"===e||"NOTES"===e,a=function(e){!n&&r&&"NOTES"===e||!r&&n&&"QAS"===e||((n||"QAS"!==e)&&(r||"NOTES"!==e)?n&&"QAS"===e?t(Un("NOTES")):r&&"NOTES"===e&&t(Un("QAS")):t(Un("ALL")))};return U.a.createElement(er.a,{row:!0},U.a.createElement(tr.a,{control:U.a.createElement(rr,{checked:n,onClick:function(){a("QAS")}}),label:"Show QAs"}),U.a.createElement(tr.a,{control:U.a.createElement(rr,{checked:r,onClick:function(){a("NOTES")}}),label:"Show Notes"}))},cr=n(88),or={riverMakeUps:Object(xt.a)({},zn(1),{riverID:zn(1),cardIDs:["2","0","1"],active:!0}),pushToRiverID:zn(1),activeRiverMakeUpID:zn(1),lastRiverIDNumber:1,riverShowState:"SHOW",hoveredCard:null,hoveredField:null,riverContentState:"ALL"},ur=function(e){return{riverID:zn(e),cardIDs:[],active:!0}},ir=function(e){for(var t=Object(w.a)({},e),n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach((function(e){t.riverMakeUps[e.riverID]=e})),t},lr=function(e){return Object(w.a)(Object(w.a)({},e.riverMakeUps[e.activeRiverMakeUpID]),{},{active:!1})},sr=function(e,t){var n=Object.fromEntries(Object.entries(e.riverMakeUps).map((function(e){return[e[0],Object(w.a)(Object(w.a)({},e[1]),{},{cardIDs:e[1].cardIDs.filter((function(e){return e!==t}))})]})));return Object(w.a)(Object(w.a)({},e),{},{riverMakeUps:n})},dr={constants:b,components:g,reducer:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or,r=arguments.length>1?arguments[1]:void 0,a=r.type,c=r.payload;switch(a){case Vt.actionTypes.PAGE_UPDATE:var o;o=n.riverMakeUps[zn(c)]?Object(w.a)(Object(w.a)({},n.riverMakeUps[zn(c)]),{},{active:!0}):ur(c);var u=lr(n);return Object(w.a)(Object(w.a)({},ir(n,o,u)),{},{activeRiverMakeUpID:o.riverID,pushToRiverID:o.riverID});case kt.actionTypes.CARD_PUSH:return e=Object(w.a)(Object(w.a)({},n.riverMakeUps[n.pushToRiverID]),{},{cardIDs:[].concat(Object(cr.a)(n.riverMakeUps[n.pushToRiverID].cardIDs),[c.card.cardID])}),(t=Object(w.a)({},n.riverMakeUps))[n.pushToRiverID]=e,Object(w.a)(Object(w.a)({},n),{},{riverMakeUps:t});case kt.actionTypes.CARD_REMOVE:return sr(n,c);case hn:return Object(w.a)(Object(w.a)({},n),{},{riverShowState:c});case An:return Object(w.a)(Object(w.a)({},n),{},{riverContentState:c});case Nn:return Object(w.a)(Object(w.a)({},n),{},{pushToRiverID:c});case Mn:return Object(w.a)(Object(w.a)({},n),{},{hoveredCard:c.id,hoveredField:c.field});case ct.actionTypes.FOCUS_UPDATE:return null!==n.hoveredCard&&"CONTEXT_MENU"!==c?Object(w.a)(Object(w.a)({},n),{},{hoveredCard:null,hoveredField:null}):n;case kt.actionTypes.GLOBAL_RESET:return c?Object(w.a)(Object(w.a)({},or),{},{riverMakeUps:c.riverMakeUps,activeRiverMakeUpID:c.activeRiverMakeUpID,pushToRiverID:c.pushToRiverID,lastRiverIDNumber:c.lastRiverIDNumber}):or;default:return n}},selectors:m,actions:j},fr="centralControl",Or=function(e){return e[fr]},pr=Object(F.a)(Or,(function(e){return e.documentDB})),vr=Object(F.a)(pr,(function(e){return Object.keys(e)})),Er=Object(F.a)(pr,(function(e){return Object.values(e)})),br=Object(F.a)(Vt.selectors.getPDFName,dr.selectors.getRiverMakeUps,dr.selectors.getActiveRiverMakeUpID,dr.selectors.getPushToRiver,dr.selectors.getLastRiverIDNumber,kt.selectors.getCards,kt.selectors.getLastCardIDNumber,(function(e,t,n,r,a,c,o){return{name:e,riverMakeUps:t,activeRiverMakeUpID:n,pushToRiverID:r,lastRiverIDNumber:a,cards:c,lastCardIDNumber:o}})),mr=fr+"/ARCHIVE_CURRENT_DATA",jr=fr+"/LOAD_DOCUMENT_DATA_SETS",gr=function(e){return{type:mr,payload:e}},Cr=function(){return function(e,t){var n=t();if(void 0!==Vt.selectors.getPDFName(n)){var r=br(n);e(gr(r))}}},yr=n(207),Dr=function(){return function(e,t){e(Cr());var n=Er(t()),r=(new Date).toLocaleString();yr(JSON.stringify(n),r+" ClayMemory.txt")}},Sr=function(e){return function(t,n){var r=e.name,a=n(),c=Vt.selectors.getPDFName(a),o=pr(a);if(void 0!==c){var u=br(a);t(gr(u))}if(t(Vt.actions.pdfUpload(e)),r!==c){var i=o[r];t(i?{type:kt.actionTypes.GLOBAL_RESET,payload:i}:{type:kt.actionTypes.GLOBAL_RESET})}}},Rr=function(e){return{type:jr,payload:e}},Ir=function(e,t){var n=Object(P.useRef)((function(){}));Object(P.useEffect)((function(){n.current=t}),[t]),Object(P.useEffect)((function(){var t=function(e){return n.current(e)};return document.addEventListener(e,t),function(){document.removeEventListener(e,t)}}),[e])},Tr="creationData",hr=Tr+"/TOGGLE_CONTEXT_MENU",Ar=Tr+"/CLOSE_CONTEXT_MENU",Nr=Tr+"/OPEN_CONTEXT_MENU",Mr=Tr+"/SELECTED_STRING",Pr=Tr+"/SELECTED_PARENT",Ur=Tr+"/SELECITON_POSITION",kr=function(e){return e[Tr]},_r=Object(F.a)(kr,(function(e){return e.open})),Lr=Object(F.a)(kr,(function(e){return e.menuRef})),Fr=Object(F.a)(kr,(function(e){return e.fullCardRef})),wr=Object(F.a)(kr,(function(e){return e.qaRefs})),xr=Object(F.a)(kr,(function(e){return e.selectionPosition})),Qr=Object(F.a)(xr,_r,Lr,wr,dr.selectors.getPushToRiverCards,(function(e,t,n,r,a){return{position:e,state:t,menuRef:n,qaRefs:r,riverCards:a}})),Vr=Object(F.a)(kr,(function(e){return e.manuallySelectedString})),qr=Object(F.a)(kr,(function(e){return e.selectedParentSpan})),Br=Object(F.a)((function(e){return e}),Vt.selectors.getCurrentPage,qr,(function(e,t,n){return{spanIndex:Vt.selectors.getSpanIndex(e,n),page:t}})),Gr=function(e,t,n,r){return r?t===n?Object(w.a)(Object(w.a)({},r),e):"NOTE"!==t||Object(mn.isNullOrUndefined)(r.q)?"NOTE"===n?Object(w.a)({},e["Q"===t?"q":"a"]):"Q"===n?{q:e.a,a:r.a}:{a:e.q,q:r.q}:Object(w.a)(Object(w.a)({},r),{},Object(xt.a)({},"Q"===n?"q":"a",e)):t===n?e:"NOTE"===t?Object(xt.a)({q:{},a:{}},"Q"===n?"q":"a",e):"NOTE"===n?Object(w.a)({},e["Q"===t?"q":"a"]):"Q"===n?{q:e.a,a:{}}:{a:e.q,q:{}}},Hr=function(){return function(e,t){var n=t();Vt.selectors.getDataExists(n)&&(e({type:hr}),e(ct.actions.toggleContextMenuFocus()))}},zr=function(){return function(e,t){_r(t())&&(e({type:Ar}),e(ct.actions.updateFocus("SELECTION")))}},Wr=function(){return function(e){e({type:Nr}),e(ct.actions.updateFocus("SELECTION"))}},Xr=function(e,t,n){return function(r,a){r(zr());var c,o=a(),u=void 0!==n,i=Vr(o),l=qr(o)?Br(o):void 0;l&&(c=Gr(l,"NOTE",t,u?kt.selectors.getCards(o)[n].origin:void 0)),r(u?kt.actions.updateCardContent(i,n,t,"REPLACE",c):kt.actions.pushCardContent(i,t,"REPLACE",e,c)),r(Kr())}},Yr=function(e){var t,n;return!!e&&(!Object(mn.isNullOrUndefined)(e.spanIndex)||!Object(mn.isNullOrUndefined)(null===(t=e.a)||void 0===t?void 0:t.spanIndex)||!Object(mn.isNullOrUndefined)(null===(n=e.q)||void 0===n?void 0:n.spanIndex))},Zr=function(e,t,n,r,a){return function(c,o){c(zr());var u=o(),i=void 0!==a,l=Yr(r)?Gr(r,n,t,i?kt.selectors.getCards(u)[a].origin:void 0):void 0,s=Vr(u);c(i?kt.actions.updateCardContent(s,a,t,"REPLACE",l):kt.actions.pushCardContent(s,t,"REPLACE",e,l)),c(Kr()),c(kt.actions.resetSourceCard())}},Jr=function(e){return{type:Mr,payload:e}},Kr=function(){return Jr("")},$r=function(e){return{type:Pr,payload:e}},ea=function(e,t){return{type:Ur,payload:{x:e,y:t}}},ta={open:!1,menuRef:Object(P.createRef)(),fullCardRef:Object(P.createRef)(),qaRefs:[Object(P.createRef)(),Object(P.createRef)()],manuallySelectedString:"",selectedParentSpan:null,selectionPosition:{x:0,y:0}},na=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case hr:return Object(w.a)(Object(w.a)({},e),{},{open:!e.open});case Ar:return Object(w.a)(Object(w.a)({},e),{},{open:!1});case Nr:return Object(w.a)(Object(w.a)({},e),{},{open:!0});case kt.actionTypes.CARD_PUSH:return"Q-A"===r.card.type?Object(w.a)(Object(w.a)({},e),{},{qaRefs:[].concat(Object(cr.a)(e.qaRefs),[Object(P.createRef)()])}):e;case Mr:return Object(w.a)(Object(w.a)({},e),{},{manuallySelectedString:r});case Pr:return Object(w.a)(Object(w.a)({},e),{},{selectedParentSpan:r});case Ur:return Object(w.a)(Object(w.a)({},e),{},{selectionPosition:r});default:return e}},ra=n(95),aa=n(216),ca=n(87),oa=function(e){return""===e},ua=function(e){return""===e.q||""===e.a},ia=function(e){var t=e.cardConfig,n=e.dispatchRiver,r=Object(he.c)();return U.a.createElement(aa.a,{onClick:function(){n(t.type,"NOTE",t.cardID)},onMouseEnter:function(){r(dr.actions.trySetHoveredCard(t.cardID,"NOTE"))}},t.type)},la=function(e){var t=e.cardConfig,n=e.dispatchRiver,r=e.qaRef,a=Object(he.c)();return U.a.createElement(ca.a,{label:"Q-A",parentMenuOpen:!0},U.a.createElement(aa.a,{ref:r,onClick:function(){n("Q-A","Q",t.cardID)},onMouseEnter:function(){a(dr.actions.trySetHoveredCard(t.cardID,"Q"))}},"Q"),U.a.createElement(aa.a,{onClick:function(){n("Q-A","A",t.cardID)},onMouseEnter:function(){a(dr.actions.trySetHoveredCard(t.cardID,"A"))}},"A"))},sa=function(e){var t=e.cardConfig,n=e.dispatchRiver,r=e.qaRef;switch(t.type){case"Q-A":return U.a.createElement(la,{cardConfig:t,dispatchRiver:n,qaRef:r});default:return U.a.createElement(ia,{cardConfig:t,dispatchRiver:n})}},da=function(e){var t=e.onClick;return U.a.createElement(aa.a,{onClick:t},"New: Q (Q-A)")},fa=function(e){var t=e.onClick;return U.a.createElement(aa.a,{onClick:t},"New: A (Q-A)")},Oa=function(e){var t=e.onClick;return U.a.createElement(aa.a,{onClick:t},"New: Note")},pa=function(e){var t=e.noteDispatch,n=e.qDispatch,r=e.aDispatch;return U.a.createElement(P.Fragment,null,U.a.createElement(Oa,{onClick:t}),U.a.createElement(da,{onClick:n}),U.a.createElement(fa,{onClick:r}))};var va=Object(he.b)(Qr)((function(e){var t=e.position,n=e.state,r=e.menuRef,a=e.qaRefs,c=e.riverCards,o=Object(he.d)(Fr),u=Object(he.c)(),i=Object(he.d)(kt.selectors.getSourceCard),l=n,s=function(e,t,n){u(i?Zr(e,t,i.sourceField,i.origin,n):Xr(e,t,n))},d=le(),f=le(),O=l?{top:t.y,left:t.x}:void 0,p=c.filter((function(e){return"string"===typeof e.content?oa(e.content):ua(e.content)})),v=c.filter((function(e){return"string"===typeof e.content?!oa(e.content):!ua(e.content)}));return U.a.createElement(ra.a,{ref:l?r:null,keepMounted:!0,open:l,anchorReference:"anchorPosition",anchorPosition:O},l&&p.map((function(e){return U.a.createElement(sa,{cardConfig:e,dispatchRiver:s,key:d(),qaRef:"Q-A"===e.type?a[f()]:void 0})})),l&&p.length>0&&U.a.createElement(Dn.a,null),l&&U.a.createElement(pa,{noteDispatch:function(){s("Note","NOTE")},qDispatch:function(){s("Q-A","Q")},aDispatch:function(){s("Q-A","A")}}),l&&v.length>0&&U.a.createElement(Dn.a,null),l&&v.length>0&&U.a.createElement(ca.a,{label:"Full cards: ",parentMenuOpen:!0},U.a.createElement(aa.a,{ref:o,style:{position:"absolute"}}),v.map((function(e){return U.a.createElement(sa,{cardConfig:e,dispatchRiver:s,key:d(),qaRef:"Q-A"===e.type?a[f()]:void 0})}))))})),Ea=n(274),ba=n(123),ma=n.n(ba),ja=function(){var e=Object(P.useState)(!1),t=Object(Le.a)(e,2),n=t[0],r=t[1],a=Object(he.c)(),c=Object(he.d)(Vr);""===c&&n&&r(!1),""===c||n||r(!0);var o=U.a.createElement(P.Fragment,null,U.a.createElement("div",null,"Current Selection: "),U.a.createElement("div",{style:{color:"green"}}," ",c));return U.a.createElement(Ea.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:n,onClose:function(e,t){"clickaway"===t?e.preventDefault():(r(!1),a(Kr()))},message:o,action:U.a.createElement(Ae.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){r(!1),a(Kr())}},U.a.createElement(ma.a,{fontSize:"small"}))})},ga=function(e,t){var n,r,a=Lr(e).current,c=null===(n=Fr(e).current)||void 0===n?void 0:n.parentNode,o=wr(e).map((function(e){return e.current})).filter((function(e){return!!e})).map((function(e){return e.parentNode})),u=t.target;if(null===a||void 0===a||null===(r=a.querySelector("div.MuiPaper-root"))||void 0===r?void 0:r.contains(u))return!0;if(null===c||void 0===c?void 0:c.contains(u))return!0;var i,l=Object(se.a)(o);try{for(l.s();!(i=l.n()).done;){if(i.value.contains(u))return!0}}catch(s){l.e(s)}finally{l.f()}return!1},Ca={actions:h,actionTypes:I,constants:R,components:A,reducer:na,selectors:T,utils:N},ya=function(e){return function(t,n){var r=e[t.key];r&&(t.preventDefault(),n(r))}},Da={ArrowLeft:Vt.actions.previousPage(),ArrowRight:Vt.actions.nextPage()},Sa={t:Ca.actions.toggleContextMenu()},Ra=function(e,t){},Ia={SELECTION:ya(Object(w.a)(Object(w.a)({},Da),Sa)),CONTEXT_MENU:ya(Object(w.a)({},Sa)),EDITOR:Ra,CONTROL:Ra,EDITOR_CONTROL:Ra};var Ta=Object(he.b)((function(){return{}}),{keyDownControl:function(e){return function(t,n){var r=n(),a=ct.selectors.getFocus(r);(0,Ia[a])(e,t,r)}},mouseDownControl:function(e){return function(t,n){var r=n();!Ca.utils.contextMenuContainsTargetNode(r,e)&&t(Ca.actions.closeContextMenu())}},mouseUpControl:function(e){return function(t,n){if(!Ca.selectors.getContextMenuState(n())){var r=document.getSelection();if(r){var a=r.toString();if(""!==a){var c=n(),o=kt.selectors.getGoalCard(c),u=ct.selectors.getFocus(c);if(o&&("EDITOR"===u||"SELECTION"===u))"EDITOR"!==u&&t(kt.actions.updateCardContent(a,o.cardID,o.creationType,"REPLACE",o.origin)),t(kt.actions.resetGoalCard());else{var i;if("SELECTION"===u)t(dr.actions.setPushToRiver(dr.selectors.getActiveRiverMakeUpID(c))),t(Ca.actions.selectedParent(null===(i=r.anchorNode)||void 0===i?void 0:i.parentNode)),t(Ca.actions.updateManuallySelectedString(a)),t(Ca.actions.updateSelectionPosition(e.x,e.y)),t(Ca.actions.openContextMenu());"EDITOR"===u&&t(Ca.actions.updateManuallySelectedString(a))}}}}}},rightClickControl:function(e){return function(t,n){var r=n(),a=ct.selectors.getFocus(r);""!==Ca.selectors.getCurrentSelectedString(r)&&(e.preventDefault(),"EDITOR"===a&&(t(Ca.actions.updateSelectionPosition(e.x,e.y)),t(Ca.actions.openContextMenu())))}}})((function(e){var t=e.keyDownControl,n=e.mouseDownControl,r=e.mouseUpControl,a=e.rightClickControl;return Ir("keydown",t),Ir("mousedown",n),Ir("mouseup",r),Ir("contextmenu",a),null})),ha=n(264),Aa=n(265),Na=n(271),Ma=n(266),Pa=n(124),Ua=n.n(Pa),ka=n(125),_a=n.n(ka),La=function(){var e=Object(P.useState)(!0),t=Object(Le.a)(e,2),n=t[0],r=t[1],a=Object(he.c)();return U.a.createElement(Ae.a,{type:"button",onClick:function(){a(dr.actions.toggleRiverShowState()),r(!n)}},n?U.a.createElement(Ua.a,null):U.a.createElement(_a.a,null))},Fa=n(126),wa=n.n(Fa),xa=function(e){var t=e.handleClose,n=e.label,r=Object(he.c)(),a=Object(P.useRef)(null);return U.a.createElement(P.Fragment,null,U.a.createElement(aa.a,{onClick:function(){a.current.click()}},n),U.a.createElement("input",{ref:a,style:{display:"none"},onChange:function(e){var n=e.target.files,a=n?n[0]:null;a&&r(Sr(a)),t()},type:"file",accept:".pdf"}))},Qa=function(e){var t=e.handleClose,n=e.label,r=Object(he.c)(),a=Object(he.d)(Vt.selectors.getPDFName),c=Object(P.useRef)(null);return U.a.createElement(P.Fragment,null,U.a.createElement(aa.a,{onClick:function(){c.current.click()}},n),U.a.createElement("input",{ref:c,style:{display:"none"},onChange:function(e){var n=e.target.files,c=n?n[0]:null;if(c){var o=new FileReader;o.readAsText(c),o.onload=function(){var e=JSON.parse(o.result);r(Rr(e));var t=e.find((function(e){return e.name===a}));t&&r({type:kt.actionTypes.GLOBAL_RESET,payload:t})}}t()},type:"file",accept:".txt"}))},Va=function(){var e=Object(he.d)(Vt.selectors.getPDFName),t=Object(he.d)(vr),n=U.a.useState(null),r=Object(Le.a)(n,2),a=r[0],c=r[1],o=function(){c(null)},u=Object(he.c)();return U.a.createElement("div",{style:{minWidth:160}},U.a.createElement(Ae.a,{type:"button",onClick:function(e){c(e.currentTarget)}},U.a.createElement(wa.a,null)),U.a.createElement(ra.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:o},"Active Document:",U.a.createElement("br",null),null===e||void 0===e?void 0:e.replace(".pdf",""),U.a.createElement("br",null),U.a.createElement("br",null),U.a.createElement(Dn.a,null),U.a.createElement("br",null),"Documents with existing data:",U.a.createElement("ul",null,t.map((function(e){return e?U.a.createElement("li",null,e.replace(".pdf","")):null}))),U.a.createElement("br",null),U.a.createElement(Dn.a,null),U.a.createElement(xa,{handleClose:o,label:"Load document"}),U.a.createElement(Dn.a,null),U.a.createElement(aa.a,{onClick:function(){u(Dr()),o()}},"Download document datasets"),U.a.createElement(Dn.a,null),U.a.createElement(Qa,{handleClose:o,label:"Upload document datasets"})))},qa=function(){var e=Object(he.c)(),t="ACTIVE_RIVER"===Object(he.d)(ct.selectors.getDisplayFocus)?0:1,n=Object(he.d)(Vt.selectors.getTotalPages);return U.a.createElement(L.a,{item:!0,onMouseEnter:function(){e(ct.actions.tryUpdateFocus("CONTROL"))}},U.a.createElement(ha.a,null,U.a.createElement(Aa.a,{variant:"dense"},U.a.createElement(Na.a,{value:t,onChange:function(t,n){e(0===n?ct.actions.updateDisplayFocus("ACTIVE_RIVER"):ct.actions.updateDisplayFocus("SUMMARY_RIVER"))}},U.a.createElement(Ma.a,{label:"ActiveRiver"}),U.a.createElement(Ma.a,{label:"SummaryRiver"})),U.a.createElement(Dn.a,{orientation:"vertical",flexItem:!0}),n&&U.a.createElement(Vt.components.PageChooser,null),n&&U.a.createElement(Vt.components.PreviousButton,null),n&&U.a.createElement(Vt.components.NextButton,null),U.a.createElement(Dn.a,{orientation:"vertical",flexItem:!0}),0===t&&U.a.createElement(La,null),0===t&&U.a.createElement(Vt.components.ShowMaterialButton,null),0===t&&U.a.createElement(Dn.a,{orientation:"vertical",flexItem:!0}),n&&U.a.createElement(dr.components.RiverContentFormGroup,null),n&&U.a.createElement(Dn.a,{orientation:"vertical",flexItem:!0}),U.a.createElement(Va,null))))},Ba={documentDB:{}},Ga={actions:S,actionTypes:D,components:M,constants:C,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ba,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case mr:return Object(w.a)(Object(w.a)({},e),{},{documentDB:Object(w.a)(Object(w.a)({},e.documentDB),{},Object(xt.a)({},r.name,r))});case jr:return Object(w.a)(Object(w.a)({},e),{},{documentDB:Object(w.a)(Object(w.a)({},e.documentDB),r.reduce((function(e,t){return e[t.name]=t,e}),{}))});default:return e}},selectors:y},Ha=n(214),za=n(275),Wa=n(267),Xa=n(268),Ya=n(269),Za=n(127),Ja=n.n(Za),Ka=Object(Ha.a)((function(e){return Object(za.a)({root:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}})}));function $a(e){var t=e.children,n=Ka(),r=Object(Wa.a)({disableHysteresis:!0,threshold:100});return U.a.createElement(Xa.a,{in:r},U.a.createElement("div",{onClick:function(e){var t=(e.target.ownerDocument||document).querySelector("#back-to-top-anchor");t&&t.scrollIntoView({behavior:"smooth",block:"center"})},role:"presentation",className:n.root},t))}function ec(){return U.a.createElement("div",null,U.a.createElement(Ga.components.ControlContainer,null),U.a.createElement(L.a,{container:!0,justify:"center",direction:"column",alignItems:"stretch",spacing:1},U.a.createElement(Ga.components.ControlBar,null),U.a.createElement(Aa.a,{id:"back-to-top-anchor"}),U.a.createElement(dr.components.ActiveRiverView,null),U.a.createElement(dr.components.SummaryRiverView,null)),U.a.createElement($a,null,U.a.createElement(Ya.a,{color:"secondary",size:"small","aria-label":"scroll back to top"},U.a.createElement(Ja.a,null))),U.a.createElement(Ca.components.ContextMenuContainer,null),U.a.createElement(Ca.components.SelectionSnackbar,null))}var tc,nc=n(24),rc=n(128),ac=n(129),cc=n(75),oc=n(130),uc=n.n(oc),ic=Object(nc.combineReducers)((tc={},Object(xt.a)(tc,ct.constants.NAME,ct.reducer),Object(xt.a)(tc,Ca.constants.NAME,Ca.reducer),Object(xt.a)(tc,dr.constants.NAME,dr.reducer),Object(xt.a)(tc,Vt.constants.NAME,Vt.reducer),Object(xt.a)(tc,kt.constants.NAME,kt.reducer),Object(xt.a)(tc,Ga.constants.NAME,Ga.reducer),tc)),lc=Object(cc.a)((function(e){return Object(w.a)(Object(w.a)({},e),{},{menuRef:null,qaRefs:e.qaRefs.map((function(e){return null})),selectedParentSpan:null})}),(function(e){return Object(w.a)(Object(w.a)({},e),{},{menuRef:Object(P.createRef)(),fullCardRef:Object(P.createRef)(),qaRefs:e.qaRefs.map((function(e){return Object(P.createRef)()}))})}),{whitelist:[Ca.constants.NAME]}),sc=Object(cc.a)((function(e){return Object(w.a)(Object(w.a)({},e),{},{documentRef:null,materialData:null,pdf:null})}),(function(e){return Object(w.a)(Object(w.a)({},e),{},{pdf:void 0,documentRef:Object(P.createRef)(),materialData:{materialDataTimeStamp:-1/0}})}),{whitelist:[Vt.constants.NAME]}),dc={key:"root",storage:uc.a,transforms:[lc,sc]},fc=Object(cc.b)(dc,ic),Oc=Object(rc.composeWithDevTools)({stateSanitizer:function(e){return e.displayData.pdf?Object(w.a)(Object(w.a)({},e),{},{displayData:Object(w.a)(Object(w.a)({},e.displayData),{},{pdf:"PDF_FILE_IS_HERE"})}):e}})(Object(nc.applyMiddleware)(ac.a)),pc=Object(nc.createStore)(fc,Oc),vc=Object(cc.c)(pc),Ec=n(131);_.a.render(U.a.createElement(U.a.StrictMode,null,U.a.createElement(he.a,{store:pc},U.a.createElement(Ec.a,{loading:null,persistor:vc},U.a.createElement(ec,null)))),document.getElementById("root"))},78:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=78}},[[141,1,2]]]);
//# sourceMappingURL=main.9ec4b705.chunk.js.map