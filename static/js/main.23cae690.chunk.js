(this.webpackJsonprem=this.webpackJsonprem||[]).push([[0],{145:function(e,t,n){e.exports=n(251)},167:function(e,t,n){},168:function(e,t,n){},172:function(e,t){},174:function(e,t){},175:function(e,t){},176:function(e,t){},177:function(e,t){},251:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"NAME",(function(){return H}));var a={};n.r(a),n.d(a,"MATERIAL_DATA",(function(){return re})),n.d(a,"SELECTION_UPDATE",(function(){return ae}));var c={};n.r(c),n.d(c,"NAME",(function(){return ce}));var o={};n.r(o),n.d(o,"getAll",(function(){return oe})),n.d(o,"getTimeStamp",(function(){return ue})),n.d(o,"getWordSelectionGroups",(function(){return ie})),n.d(o,"getWordRangeGroups",(function(){return le})),n.d(o,"getMaterialSpanGroups",(function(){return se})),n.d(o,"getMaterialBoundingRectGroups",(function(){return fe})),n.d(o,"getDataExists",(function(){return de})),n.d(o,"createDataConditionalSelector",(function(){return pe}));var u={};n.r(u),n.d(u,"captureMaterialData",(function(){return ve})),n.d(u,"updateSelectionGroup",(function(){return Oe}));var i={};n.r(i),n.d(i,"DataGuardHOC",(function(){return je}));var l={};n.r(l),n.d(l,"PDF_UPLOADED",(function(){return ye})),n.d(l,"MATERIAL_LOADED",(function(){return Ce})),n.d(l,"DISPLAY_STATUS",(function(){return De})),n.d(l,"PAGE_UPDATE",(function(){return he}));var s={};n.r(s),n.d(s,"NAME",(function(){return Re}));var f={};n.r(f),n.d(f,"getAll",(function(){return Ae})),n.d(f,"getPDF",(function(){return Ie})),n.d(f,"getRenderCritialData",(function(){return Me})),n.d(f,"getTotalPages",(function(){return Te})),n.d(f,"getCurrentPage",(function(){return Ne})),n.d(f,"getPageControlData",(function(){return Pe})),n.d(f,"getDocumentRef",(function(){return we})),n.d(f,"getDisplayStatus",(function(){return Ue})),n.d(f,"displayStatusIsShow",(function(){return _e}));var d={};n.r(d),n.d(d,"materialUploaded",(function(){return Le})),n.d(d,"materialLoaded",(function(){return ke})),n.d(d,"materialRendered",(function(){return Ge})),n.d(d,"setPage",(function(){return xe})),n.d(d,"movePage",(function(){return Be})),n.d(d,"nextPage",(function(){return He})),n.d(d,"previousPage",(function(){return qe})),n.d(d,"toggleDisplayState",(function(){return Qe}));var p={};n.r(p),n.d(p,"PDFDocumentContainer",(function(){return ze})),n.d(p,"PDFUploadContainer",(function(){return Ye})),n.d(p,"PageChooser",(function(){return ft})),n.d(p,"NextButton",(function(){return nt})),n.d(p,"PreviousButton",(function(){return tt})),n.d(p,"ShowMaterialButton",(function(){return ut}));var v={};n.r(v),n.d(v,"getAll",(function(){return vt})),n.d(v,"getSectionIndex",(function(){return Ot})),n.d(v,"getUpdateAllowed",(function(){return bt})),n.d(v,"getSectionMovementState",(function(){return mt})),n.d(v,"getCurrentSpanGroup",(function(){return Et})),n.d(v,"getCurrentBoundingRectGroup",(function(){return gt})),n.d(v,"getCurrentSelectionGroup",(function(){return jt})),n.d(v,"getCurrentWordRangeGroup",(function(){return St})),n.d(v,"getCurrentSelectedWordRanges",(function(){return yt})),n.d(v,"getManuallySelectedString",(function(){return Ct})),n.d(v,"getCurrentRangeArrStr",(function(){return Dt})),n.d(v,"getCurrentSelectedString",(function(){return ht})),n.d(v,"getSelectionType",(function(){return Rt})),n.d(v,"selectionTypeIsSection",(function(){return At})),n.d(v,"getOverlayRelevantData",(function(){return It}));var O={};n.r(O),n.d(O,"updateSelection",(function(){return Mt})),n.d(O,"toggleSectionMovementState",(function(){return Tt})),n.d(O,"updateSection",(function(){return Nt})),n.d(O,"updateSelectionType",(function(){return Pt})),n.d(O,"toggleSelectionType",(function(){return wt})),n.d(O,"updateManuallySelectedString",(function(){return Ut})),n.d(O,"resetManuallySelectedString",(function(){return _t}));var b={};n.r(b),n.d(b,"DocumentCanvasContainer",(function(){return xt})),n.d(b,"SelectionTypeButton",(function(){return qt}));var m={};n.r(m),n.d(m,"NAME",(function(){return zt}));var E={};n.r(E),n.d(E,"getAll",(function(){return Jt})),n.d(E,"getFocus",(function(){return Kt}));var g={};n.r(g),n.d(g,"updateFocus",(function(){return Zt})),n.d(g,"tryUpdateFocus",(function(){return $t})),n.d(g,"toggleContextMenuFocus",(function(){return en}));var j={};n.r(j),n.d(j,"NAME",(function(){return rn}));var S={};n.r(S),n.d(S,"TOGGLE_CONTEXT_MENU",(function(){return an})),n.d(S,"CLOSE_CONTEXT_MENU",(function(){return cn})),n.d(S,"OPEN_CONTEXT_MENU",(function(){return on}));var y={};n.r(y),n.d(y,"selectedStringToConfig",(function(){return sn}));var C={};n.r(C),n.d(C,"NAME",(function(){return fn}));var D={};n.r(D),n.d(D,"CARD_UPDATE",(function(){return dn})),n.d(D,"CARD_PUSH",(function(){return pn}));var h={};n.r(h),n.d(h,"getAll",(function(){return vn})),n.d(h,"getLastCardIDNumber",(function(){return On})),n.d(h,"getCards",(function(){return bn}));var R={};n.r(R),n.d(R,"cardPush",(function(){return mn})),n.d(R,"cardUpdate",(function(){return En})),n.d(R,"updateCardContent",(function(){return gn})),n.d(R,"pushCardContent",(function(){return jn}));var A={};n.r(A),n.d(A,"toggleContextMenu",(function(){return Cn})),n.d(A,"closeContextMenu",(function(){return Dn})),n.d(A,"openContextMenu",(function(){return hn})),n.d(A,"triggerSelectionGrab",(function(){return Rn}));var I={};n.r(I),n.d(I,"NAME",(function(){return Mn}));var M={};n.r(M),n.d(M,"getAll",(function(){return Un})),n.d(M,"getRiverMakeUps",(function(){return _n})),n.d(M,"getActiveRiverMakeUpID",(function(){return Ln})),n.d(M,"getActiveRiverMakeUp",(function(){return kn})),n.d(M,"getActiveRiverCardIDs",(function(){return Gn})),n.d(M,"getActiveRiverCards",(function(){return xn})),n.d(M,"getRiverShowState",(function(){return Fn})),n.d(M,"riverShowStateIsShow",(function(){return Wn}));var T={};n.r(T),n.d(T,"CardRiver",(function(){return Xn})),n.d(T,"ShowRiverButton",(function(){return $n}));var N={};n.r(N),n.d(N,"getAll",(function(){return nr})),n.d(N,"getContextMenuState",(function(){return rr})),n.d(N,"getContextMenuRef",(function(){return ar})),n.d(N,"getContextMenuQARefs",(function(){return cr})),n.d(N,"getContextMenuInitData",(function(){return or}));var P={};n.r(P),n.d(P,"ContextMenuContainer",(function(){return Or}));var w={};n.r(w),n.d(w,"contextMenuContainsTargetNode",(function(){return br}));var U={};n.r(U),n.d(U,"ControlContainer",(function(){return Rr})),n.d(U,"ControlBar",(function(){return Mr}));var _=n(0),L=n.n(_),k=n(14),G=n.n(k),x=n(19),F=n(292),W=n(124),B=n(253),H="selectionData",q=H+"/SECTION_UPDATE",Q=H+"/SECTION_STATE",V=H+"/SELCTION_TYPE",X=H+"/SELECTED_STRING",z=n(7),Y=n(43),J=n(2),K=function(){var e=0;return function(){var t=e;return e++,t}},Z=n(51),$=function(e){return{span:e,rect:e.getBoundingClientRect()}};var ee=function(e){return e.bottom-e.y},te=function(e,t){var n=ee(e);return function(e,t){return Math.abs(e.y-t.y)}(e,t)>1.5*n},ne=function(e){var t=Array.from(e.querySelectorAll("span"));if(0===t.length)return null;var n=function(e){return function(e,t){for(var n=e[0],r=[[n]],a=1;a<e.length;a++){var c=e[a];t(n,c)&&r.push([]),r[r.length-1].push(c),n=c}return r}(e,(function(e,t){return te(e.rect,t.rect)}))}(function(e){return e.sort((function(e,t){return e.rect.y-t.rect.y}))}(function(e){return e.map($)}(t))).map((function(e){return function(e){return e.sort((function(e,t){return e.rect.x-t.rect.x}))}(e)})).map((function(e){return function(e){var t,n=[],r=[],a=Object(Z.a)(e);try{for(a.s();!(t=a.n()).done;){var c=t.value;n.push(c.span),r.push(c.rect)}}catch(o){a.e(o)}finally{a.f()}return{spans:n,boundingRects:r}}(e)})).reduce((function(e,t){return e[0].push(t.spans),e[1].push(t.boundingRects),e}),[[],[]]),r=Object(x.a)(n,2),a=r[0],c=r[1],o=a.map((function(e){return e.map((function(e){return function(e){var t=[],n=e.childNodes[0],r=e.textContent;if(r){var a,c=r.split(" "),o=0,u=0,i=Object(Z.a)(c);try{for(i.s();!(a=i.n()).done;){var l=a.value;if(l.length>=1){u+=l.length,t.length>0&&(u+=1);var s=document.createRange();s.setStart(n,o),s.setEnd(n,u),t.push(s),o+=l.length+1}else o+=1,u+=1}}catch(f){i.e(f)}finally{i.f()}}return t}(e)}))})),u=o.map((function(e){return e.map((function(e){return e.map((function(e){return 1}))}))}));return{materialSpanGroups:a,materialBoundingRectGroups:c,materialWordGroups:o,materialWordSelectionGroups:u}},re="analyze/MATERIAL_DATA",ae="analyze/SELECTION_UPDATE",ce="materialData",oe=function(e){return e[ce]},ue=Object(z.a)(oe,(function(e){return e.materialDataTimeStamp})),ie=Object(z.a)(oe,(function(e){return e.materialWordSelectionGroups})),le=Object(z.a)(oe,(function(e){return e.materialWordGroups})),se=Object(z.a)(oe,(function(e){return e.materialSpanGroups})),fe=Object(z.a)(oe,(function(e){return e.materialBoundingRectGroups})),de=Object(z.a)(ue,(function(e){return e>0})),pe=function(e){return function(t){return de(t)?Object(J.a)(Object(J.a)({},e(t)),{},{show:!0}):{}}};function ve(e){return function(t,n){var r=n(),a=e.current;if(a){var c=Date.now(),o=ne(a);if(o&&ue(r)<c){var u=Object(J.a)(Object(J.a)({},o),{},{materialDataTimeStamp:c});t({type:re,payload:u})}else!function(e,t,n){var r=K(),a=setInterval((function(){(r()>e||n())&&clearInterval(a)}),t)}(10,20,(function(){var e=ne(a);if(e&&ue(n())<c){var r=Object(J.a)(Object(J.a)({},e),{},{materialDataTimeStamp:c});return t({type:re,payload:r}),!0}return!1}))}}}var Oe=function(e,t){return function(n,r){var a=r(),c=Object(Y.a)(ie(a));c[t]=e,n({type:ae,payload:c})}},be={materialDataTimeStamp:-1/0},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case re:return r;case ae:return Object(J.a)(Object(J.a)({},e),{},{materialWordSelectionGroups:r});default:return e}},Ee=n(8),ge=n(30),je=function(e,t,n){return Object(Ee.b)(pe(t),n)((r=e,function(e){var t=e.show,n=Object(ge.a)(e,["show"]);return t?L.a.createElement(r,n):null}));var r},Se={actions:u,actionTypes:a,constants:c,reducer:me,selectors:o,components:i},ye="display/PDF_UPLOADED",Ce="display/MATERIAL_LOADED",De="display/DISPLAY_STATUS",he="display/PAGE_UPDATE",Re="displayData",Ae=function(e){return e[Re]},Ie=Object(z.a)(Ae,(function(e){return{pdf:e.pdf}})),Me=Object(z.a)(Ae,(function(e){return{pdf:e.pdf,currentPage:e.currentPage,documentRef:e.documentRef}})),Te=Object(z.a)(Ae,(function(e){return e.totalPages})),Ne=Object(z.a)(Ae,(function(e){return e.currentPage})),Pe=Object(z.a)(Te,Ne,(function(e,t){return{currentPage:t,totalPages:e}})),we=Object(z.a)(Ae,(function(e){return e.documentRef})),Ue=Object(z.a)(Ae,(function(e){return e.displayStatus})),_e=Object(z.a)(Ue,(function(e){return"SHOW"===e})),Le=function(e){return function(t){var n=e.target.files,r=n?n[0]:null;r&&t({type:ye,payload:r})}},ke=function(e){return{type:Ce,payload:e}},Ge=function(){return{type:De,payload:"SHOW"}},xe=function(e){return{type:he,payload:e}},Fe=function(e,t){return e===t+1?1:e},We=function(e,t){return 0===e?t:e},Be=function(e){return function(t,n){var r=Pe(n()),a=r.currentPage,c=r.totalPages;if(c)switch(e){case"NEXT":t({type:he,payload:Fe(a+1,c)});break;case"PREVIOUS":t({type:he,payload:We(a-1,c)})}}},He=function(){return Be("NEXT")},qe=function(){return Be("PREVIOUS")},Qe=function(){return function(e,t){var n="SHOW"===Ue(t())?"HIDE":"SHOW";e({type:De,payload:n})}},Ve=(n(167),n(168),n(70));Ve.pdfjs.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(Ve.pdfjs.version,"/pdf.worker.js");var Xe={cMapUrl:"cmaps/",cMapPacked:!0};var ze=Object(Ee.b)(Me,{materialRendered:Ge,materialLoaded:ke,captureMaterialData:Se.actions.captureMaterialData})((function(e){var t=e.parentSize,n=e.pdf,r=e.currentPage,a=e.materialRendered,c=e.materialLoaded,o=e.captureMaterialData,u=e.documentRef,i=Object(Ee.c)();return L.a.createElement(Ve.Document,{file:n,options:Xe,onLoadSuccess:function(e){var t=e.numPages;c(t)},inputRef:u,onItemClick:function(e){var t=e.pageNumber;i(xe(parseInt(t)))}},n&&L.a.createElement(Ve.Page,{width:t.width,pageNumber:r,onRenderSuccess:function(){document.querySelectorAll(".react-pdf__Page__textContent").forEach((function(e){var t=e.style;t.top="0",t.left="0",t.transform=""})),a(),o(u)}}))}));var Ye=Object(Ee.b)(Ie,{onUpload:Le})((function(e){var t=e.pdf,n=e.onUpload;return t?null:L.a.createElement("input",{onChange:n,type:"file",accept:".pdf"})})),Je=n(252),Ke=n(127),Ze=n.n(Ke),$e=n(126),et=n.n($e),tt=function(){var e=Object(Ee.c)();return L.a.createElement(Je.a,{type:"button",onClick:function(){e(qe())}},L.a.createElement(et.a,null))},nt=function(){var e=Object(Ee.c)();return L.a.createElement(Je.a,{type:"button",onClick:function(){e(He())}},L.a.createElement(Ze.a,null))},rt=n(128),at=n.n(rt),ct=n(129),ot=n.n(ct),ut=function(){var e=Object(_.useState)(!0),t=Object(x.a)(e,2),n=t[0],r=t[1],a=Object(Ee.c)();return L.a.createElement(Je.a,{type:"button",onClick:function(){a(Qe()),r(!n)}},n?L.a.createElement(at.a,null):L.a.createElement(ot.a,null))},it=n(291),lt=n(298),st=/(\D)/,ft=function(){var e=Object(Ee.c)(),t=Object(Ee.d)(Pe),n=t.currentPage,r=t.totalPages,a=Object(_.useState)({error:!1,value:null===n||void 0===n?void 0:n.toString(),userInput:null===n||void 0===n?void 0:n.toString()}),c=Object(x.a)(a,2),o=c[0],u=c[1];return o.value!==n.toString()&&u({error:!1,value:n.toString(),userInput:n.toString()}),L.a.createElement(it.a,{variant:"h6"},L.a.createElement(lt.a,{type:"text",variant:"filled",value:o.userInput,onKeyDown:function(t){if("Enter"===t.key){t.preventDefault();var n=t.target.value;o.error||e(xe(parseInt(n)))}},onChange:function(e){var t=e.target.value;!function(e,t){if(""===e||null!==e.trim().match(st))return!1;var n=parseInt(e);return!(n<1||t<n)}(t,r)?u(Object(J.a)(Object(J.a)({},o),{},{error:!0,userInput:t})):u(Object(J.a)(Object(J.a)({},o),{},{error:!1,userInput:t}))},error:o.error}),"of ",r)},dt={displayStatus:"SHOW",currentPage:1,documentRef:Object(_.createRef)()},pt={actions:d,actionTypes:l,components:p,constants:s,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case ye:return Object(J.a)(Object(J.a)({},e),{},{pdf:r});case Ce:return Object(J.a)(Object(J.a)({},e),{},{totalPages:r});case he:return Object(J.a)(Object(J.a)({},e),{},{currentPage:r});case De:return Object(J.a)(Object(J.a)({},e),{},{displayStatus:r});default:return e}},selectors:f},vt=function(e){return e[H]},Ot=Object(z.a)(vt,(function(e){return e.sectionIndex})),bt=Object(z.a)(vt,(function(e){return e.sectionUpdateAllowed})),mt=Object(z.a)(vt,(function(e){return e.sectionMovementState})),Et=Object(z.a)(Se.selectors.getMaterialSpanGroups,Ot,(function(e,t){return e[t]})),gt=Object(z.a)(Se.selectors.getMaterialBoundingRectGroups,Ot,(function(e,t){return e[t]})),jt=Object(z.a)(Se.selectors.getWordSelectionGroups,Ot,(function(e,t){return e[t]})),St=Object(z.a)(Se.selectors.getWordRangeGroups,Ot,(function(e,t){return e[t]})),yt=Object(z.a)(jt,St,(function(e,t){return t.flatMap((function(t,n){return t.filter((function(t,r){return 1===e[n][r]}))}))})),Ct=Object(z.a)(vt,(function(e){return e.manuallySelectedString})),Dt=Object(z.a)(yt,(function(e){return e.map((function(e){return e.toString()})).join(" ")})),ht=Object(z.a)(Ct,Dt,(function(e,t){return""===e?t:e})),Rt=Object(z.a)(vt,(function(e){return e.selectionType})),At=Object(z.a)(Rt,(function(e){return"SECTION"===e})),It=Object(z.a)(Et,jt,St,mt,pt.selectors.getDocumentRef,(function(e,t,n,r,a){return{spanGroup:e,selectionGroup:t,wordRangeGroup:n,movementState:r,documentRef:a}})),Mt=function(e){return function(t,n){var r=n();if(bt(r)){var a=Se.selectors.getWordSelectionGroups(r),c=Ot(r),o=function(e,t){var n=!1,r=[];switch(t){case"MINUS_WORD":for(var a=0;a<e.length;a++){var c=e[a];if(!n){var o=c.indexOf(1);-1!==o&&(n=!0,(c=Object(Y.a)(c))[o]=0)}r.push(c)}if(n)return r;break;case"MINUS_SPAN":for(var u=0;u<e.length;u++){var i=e[u];if(!n)-1!==i.indexOf(1)&&(n=!0,i=i.map((function(e){return 0})));r.push(i)}if(n)return r;break;case"PLUS_WORD":for(var l=e.length-1;l>=0;l--){var s=e[l];if(!n){var f=s.lastIndexOf(0);-1!==f&&(n=!0,(s=Object(Y.a)(s))[f]=1)}r.push(s)}if(n)return r.reverse();break;case"PLUS_SPAN":for(var d=e.length-1;d>=0;d--){var p=e[d];if(!n)-1!==p.lastIndexOf(0)&&(n=!0,p=p.map((function(e){return 1})));r.push(p)}if(n)return r.reverse()}return null}(a[c],e);o&&t(Se.actions.updateSelectionGroup(o,c))}}},Tt=function(){return function(e,t){var n=t();bt(n)&&e({type:Q})}},Nt=function(e){return function(t,n){var r=n();if(bt(r)&&"FREE"===mt(r)){var a,c=Ot(r),o=Se.selectors.getMaterialSpanGroups(r);switch(e){case"UP":return-1===(a=c-1)&&(a=o.length-1),void t({type:q,payload:a});case"DOWN":return(a=c+1)===o.length&&(a=0),void t({type:q,payload:a})}}}},Pt=function(e){return{type:V,payload:e}},wt=function(){return function(e,t){e(Pt("MOUSE"===Rt(t())?"SECTION":"MOUSE"))}},Ut=function(e){return{type:X,payload:e}},_t=function(){return Ut("")},Lt=n(58);function kt(e){var t=e.xOffset,n=void 0===t?0:t,r=e.yOffset,a=void 0===r?0:r,c=e.boundingRect,o=Object(ge.a)(e,["xOffset","yOffset","boundingRect"]);return L.a.createElement(Lt.Rect,Object.assign({x:c.x-n,y:c.y-a,width:c.width,height:c.bottom-c.y},o))}function Gt(e){var t=e.spanGroup,n=e.wordRangeGroup,r=e.color,a=e.selectionGroup,c=e.container,o=e.showRects,u=Object(ge.a)(e,["spanGroup","wordRangeGroup","color","selectionGroup","container","showRects"]),i=Object(_.useMemo)((function(){return function(e,t,n,r){var a=K();return e.map((function(e,c){return 1===t[c]?L.a.createElement(kt,{xOffset:n.x,yOffset:n.y,boundingRect:e.getBoundingClientRect(),shadowBlur:5,stroke:r,opacity:.3,key:a()}):null})).filter((function(e){return null!==e}))}(n.flat(),a.flat(),c.getBoundingClientRect(),r)}),[a,n,c,r]);return Object(_.useEffect)((function(){o&&(t[0].focus(),t[0].scrollIntoView({behavior:"smooth",block:"center",inline:"center"}))}),[t,o]),L.a.createElement(Lt.Layer,u,o&&i)}var xt=Se.components.DataGuardHOC((function(e){var t=e.spanGroup,n=e.movementState,r=e.selectionGroup,a=e.wordRangeGroup,c=e.parentSize,o=e.documentRef,u=Object(_.useState)(1),i=Object(x.a)(u,2),l=i[0],s=i[1],f=Object(Ee.d)(At);return Object(_.useLayoutEffect)((function(){o.current&&s(ee(o.current.getBoundingClientRect()))}),[o]),L.a.createElement(Lt.Stage,{width:c.width,height:l,style:{position:"absolute",pointerEvents:"none",zIndex:1}},o.current&&L.a.createElement(Gt,{showRects:f,container:o.current,spanGroup:t,color:"FREE"===n?"green":"red",selectionGroup:r,wordRangeGroup:a}))}),It),Ft=n(130),Wt=n.n(Ft),Bt=n(131),Ht=n.n(Bt),qt=function(){var e=Object(_.useState)(!0),t=Object(x.a)(e,2),n=t[0],r=t[1],a=Object(Ee.c)();return L.a.createElement(Je.a,{type:"button",onClick:function(){a(wt()),r(!n)}},n?L.a.createElement(Wt.a,null):L.a.createElement(Ht.a,null))},Qt={sectionIndex:1,sectionUpdateAllowed:!1,sectionMovementState:"FREE",selectionType:"MOUSE",manuallySelectedString:""},Vt={actions:O,components:b,constants:r,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case q:return Object(J.a)(Object(J.a)({},e),{},{sectionIndex:r});case Q:return Object(J.a)(Object(J.a)({},e),{},{sectionMovementState:"FREE"===e.sectionMovementState?"LOCKED":"FREE"});case pt.actionTypes.PAGE_UPDATE:var a=Object(J.a)(Object(J.a)({},e),{},{sectionUpdateAllowed:!1});return a;case Se.actionTypes.MATERIAL_DATA:var c=Object(J.a)(Object(J.a)({},e),{},{sectionIndex:0,sectionUpdateAllowed:!0});return c;case V:return Object(J.a)(Object(J.a)({},e),{},{selectionType:r});case X:return Object(J.a)(Object(J.a)({},e),{},{manuallySelectedString:r});default:return e}},selectors:v},Xt=function(e,t){var n=Object(_.useRef)((function(){}));Object(_.useEffect)((function(){n.current=t}),[t]),Object(_.useEffect)((function(){var t=function(e){return n.current(e)};return document.addEventListener(e,t),function(){document.removeEventListener(e,t)}}),[e])},zt="userFocus",Yt=zt+"/FOCUS_UPDATE",Jt=function(e){return e[zt]},Kt=Object(z.a)(Jt,(function(e){return e.focus})),Zt=function(e){return{type:Yt,payload:e}},$t=function(e){return function(t,n){Kt(n())!==e&&t(Zt(e))}},en=function(){return function(e,t){var n=t();if(Se.selectors.getDataExists(n))switch(Kt(t())){case"CONTEXT_MENU":e(Zt("SELECTION"));break;case"SELECTION":e(Zt("CONTEXT_MENU"))}}},tn={focus:"SELECTION"},nn={actions:g,constants:m,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Yt:return Object(J.a)(Object(J.a)({},e),{},{focus:r});default:return e}},selectors:E},rn="creationData",an=rn+"/TOGGLE_CONTEXT_MENU",cn=rn+"/CLOSE_CONTEXT_MENU",on=rn+"/OPEN_CONTEXT_MENU",un={REPLACE:function(e,t){return t},APPEND:function(e,t){return e+t}},ln={NOTE:function(e,t){return Object(J.a)(Object(J.a)({},e),{},{content:t(e.content)})},Q:function(e,t){var n=e.content;return Object(J.a)(Object(J.a)({},e),{},{content:Object(J.a)(Object(J.a)({},n),{},{q:t(n.q)})})},A:function(e,t){var n=e.content;return Object(J.a)(Object(J.a)({},e),{},{content:Object(J.a)(Object(J.a)({},n),{},{a:t(n.a)})})}},sn=function(e,t,n,r,a){var c=function(e,t){return function(n){return un[e](n,t)}}(r,e);return!!a?ln[n](a,c):ln[n]({type:t,content:"Q-A"===t?{q:"",a:""}:""},c)},fn="cards",dn=fn+"/CARD_UPDATE",pn=fn+"/CARD_PUSH",vn=function(e){return e.cards},On=Object(z.a)(vn,(function(e){return e.lastCardIDNumber})),bn=Object(z.a)(vn,(function(e){return e.cards})),mn=function(e){return function(t,n){var r;t({type:pn,payload:Object(J.a)(Object(J.a)({},e),{},{card:Object(J.a)(Object(J.a)({},e.card),{},{cardID:(r=On(n()),(r+1).toString())})})})}},En=function(e){return{type:dn,payload:e}},gn=function(e,t,n,r,a){return function(c,o){var u=o(),i=bn(u)[t],l=sn(e,i.type,n,r,i);c(En({riverID:a,card:l}))}},jn=function(e,t,n,r,a){var c=sn(e,a,t,n);return mn({riverID:r,card:c})},Sn={cards:{0:{cardID:"0",type:"Q-A",content:{q:"Was ist der Sinn des Lebens?",a:"42"}},1:{cardID:"1",type:"Q-A",content:{q:"Welches Layout macht mehr Sinn?",a:"??"}},2:{cardID:"2",type:"Note",content:"Note here"}},lastCardIDNumber:2},yn={services:y,constants:C,actionTypes:D,actions:R,reducer:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn,r=arguments.length>1?arguments[1]:void 0,a=r.type,c=r.payload;switch(a){case pn:var o=n.lastCardIDNumber+1;return(t=Object(J.a)({},n.cards))[c.card.cardID]=c.card,Object(J.a)(Object(J.a)({},n),{},{cards:t,lastCardIDNumber:o});case dn:return e=c.card.cardID,(t=Object(J.a)({},n.cards))[e]=c.card,Object(J.a)(Object(J.a)({},n),{},{cards:t});default:return n}},selectors:h},Cn=function(){return function(e,t){Se.selectors.getDataExists(t())&&(e({type:an}),e(nn.actions.toggleContextMenuFocus()))}},Dn=function(){return function(e,t){Se.selectors.getDataExists(t())&&(e({type:cn}),e(nn.actions.updateFocus("SELECTION")))}},hn=function(){return function(e,t){Se.selectors.getDataExists(t())&&(e({type:on}),e(nn.actions.updateFocus("SELECTION")))}},Rn=function(e,t,n,r){return function(a,c){a(Dn());var o=Vt.selectors.getCurrentSelectedString(c());a(void 0!==r?yn.actions.updateCardContent(o,r,n,"REPLACE",e):yn.actions.pushCardContent(o,n,"REPLACE",e,t))}},An={open:!1,menuRef:Object(_.createRef)(),qaRefs:[Object(_.createRef)(),Object(_.createRef)()]},In=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:An,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case an:return Object(J.a)(Object(J.a)({},e),{},{open:!e.open});case cn:return Object(J.a)(Object(J.a)({},e),{},{open:!1});case on:return Object(J.a)(Object(J.a)({},e),{},{open:!0});case yn.actionTypes.CARD_PUSH:return"Q-A"===r.card.type?Object(J.a)(Object(J.a)({},e),{},{qaRefs:[].concat(Object(Y.a)(e.qaRefs),[Object(_.createRef)()])}):e;default:return e}},Mn="cardRiverState",Tn=n(300),Nn=n(294),Pn=n(295),wn=n(293),Un=function(e){return e[Mn]},_n=Object(z.a)(Un,(function(e){return e.riverMakeUps})),Ln=Object(z.a)(Un,(function(e){return e.activeRiverMakeUpID})),kn=Object(z.a)(_n,Ln,(function(e,t){return e[t]})),Gn=Object(z.a)(kn,(function(e){return e.cardIDs})),xn=Object(z.a)(Gn,yn.selectors.getCards,(function(e,t){return e.map((function(e){return t[e]}))})),Fn=Object(z.a)(Un,(function(e){return e.riverShowState})),Wn=Object(z.a)(Fn,(function(e){return"SHOW"===e})),Bn=function(e){var t=e.storeValue,n=void 0===t?"":t,r=e.saveChanges,a=e.style,c=Object(ge.a)(e,["storeValue","saveChanges","style"]),o=Object(Ee.c)(),u=Object(_.useState)({storeValue:n,mutableValue:n}),i=Object(x.a)(u,2),l=i[0],s=i[1];return l.storeValue!==n&&s({storeValue:n,mutableValue:n}),L.a.createElement(lt.a,Object.assign({onClick:function(){o(nn.actions.tryUpdateFocus("EDITOR"))},variant:"filled",value:l.mutableValue,onChange:function(e){var t=e.target.value;s(Object(J.a)(Object(J.a)({},l),{},{mutableValue:t}))},onBlur:function(e){r(e.target.value)},style:a},c))},Hn=function(e){var t=e.config,n=e.riverID,r=Object(Ee.c)();return L.a.createElement(Bn,{saveChanges:function(e){r(yn.actions.updateCardContent(e,t.cardID,"NOTE","REPLACE",n))},storeValue:t.content,fullWidth:!0,label:"Note",variant:"filled",style:{backgroundColor:"#CBF3F0"},InputLabelProps:{style:{color:"#000000"}}})},qn=function(e){var t=e.config,n=e.riverID,r=Object(Ee.c)();return L.a.createElement(F.a,{container:!0,direction:"column",spacing:1},L.a.createElement(F.a,{item:!0},L.a.createElement(Bn,{saveChanges:function(e){r(yn.actions.updateCardContent(e,t.cardID,"Q","REPLACE",n))},storeValue:t.content.q,fullWidth:!0,label:"Question",variant:"filled",style:{backgroundColor:"#FFBF69"},InputLabelProps:{style:{color:"#000000"}}})),L.a.createElement(F.a,{item:!0},L.a.createElement(Bn,{saveChanges:function(e){r(yn.actions.updateCardContent(e,t.cardID,"A","REPLACE",n))},storeValue:t.content.a,fullWidth:!0,label:"Answer",variant:"filled",style:{backgroundColor:"#2EC4B6"},InputLabelProps:{style:{color:"#000000"}}})))},Qn=function(e){var t=e.config,n=e.riverID;switch(t.type){case"Note":return L.a.createElement(Hn,{config:t,riverID:n});case"Q-A":return L.a.createElement(qn,{config:t,riverID:n})}},Vn=function(){return L.a.createElement(F.a,{item:!0},L.a.createElement(wn.a,null))},Xn=function(){var e=Object(_.useState)(3),t=Object(x.a)(e,2),n=t[0],r=t[1],a=Object(Ee.d)(Ln),c=Object(Ee.d)(xn),o=Object(_.useMemo)((function(){return function(e,t){var n=K();return e.reduce((function(e,r,a,c){return e.push(L.a.createElement(F.a,{item:!0,key:n()},L.a.createElement(Qn,{config:r,riverID:t,key:n()}))),a<c.length-1&&e.push(L.a.createElement(Vn,{key:n()})),e}),[])}(c,a)}),[c,a]);return c?L.a.createElement(Tn.a,{defaultExpanded:!0,onMouseEnter:function(){r(20)},onMouseLeave:function(){r(3)},elevation:n},L.a.createElement(Nn.a,null,"CardRiver"),L.a.createElement(Pn.a,null,L.a.createElement(F.a,{container:!0,direction:"column",spacing:2,justify:"center",alignItems:"stretch"},o))):null},zn=n(132),Yn=n.n(zn),Jn=n(133),Kn=n.n(Jn),Zn=Mn+"/RIVER_SHOW_STATE",$n=function(){var e=Object(_.useState)(!0),t=Object(x.a)(e,2),n=t[0],r=t[1],a=Object(Ee.c)();return L.a.createElement(Je.a,{type:"button",onClick:function(){a((function(e,t){e({type:Zn,payload:Wn(t())?"HIDE":"SHOW"})})),r(!n)}},n?L.a.createElement(Yn.a,null):L.a.createElement(Kn.a,null))},er={riverMakeUps:{RiverMakeUp1:{riverID:"RiverMakeUp1",cardIDs:["2","0","1"],active:!0}},activeRiverMakeUpID:"RiverMakeUp1",lastRiverIDNumber:1,riverShowState:"SHOW"},tr={constants:I,components:T,reducer:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er,r=arguments.length>1?arguments[1]:void 0,a=r.type,c=r.payload;switch(a){case yn.actionTypes.CARD_PUSH:return e=Object(J.a)(Object(J.a)({},n.riverMakeUps[c.riverID]),{},{cardIDs:[].concat(Object(Y.a)(n.riverMakeUps[c.riverID].cardIDs),[c.card.cardID])}),(t=Object(J.a)({},n.riverMakeUps))[c.riverID]=e,Object(J.a)(Object(J.a)({},n),{},{riverMakeUps:t});case Zn:return Object(J.a)(Object(J.a)({},n),{},{riverShowState:c});default:return n}},selectors:M},nr=function(e){return e[rn]},rr=Object(z.a)(nr,(function(e){return e.open})),ar=Object(z.a)(nr,(function(e){return e.menuRef})),cr=Object(z.a)(nr,(function(e){return e.qaRefs})),or=Object(z.a)(Vt.selectors.getCurrentBoundingRectGroup,rr,ar,cr,tr.selectors.getActiveRiverCards,(function(e,t,n,r,a){return{boundingRectGroup:e,state:t,menuRef:n,qaRefs:r,riverCards:a}})),ur=n(137),ir=n(138),lr=n(301),sr=function(e){var t=e.onClick;return L.a.createElement(lr.a,{onClick:t},"New: Q-A")},fr=function(e){var t=e.onClick;return L.a.createElement(lr.a,{onClick:t},"New: Note")},dr=function(e){var t=e.cardConfig,n=e.dispatchRiver;return L.a.createElement(lr.a,{onClick:function(){n(t.type,"NOTE",t.cardID)}},t.type)},pr=function(e){var t=e.cardConfig,n=e.dispatchRiver,r=e.qaRef;return L.a.createElement(ir.a,{label:"Q-A",parentMenuOpen:!0},L.a.createElement(lr.a,{ref:r,onClick:function(){n("Q-A","Q",t.cardID)}},"Q"),L.a.createElement(lr.a,{onClick:function(){n("Q-A","A",t.cardID)}},"A"))},vr=function(e){var t=e.cardConfig,n=e.dispatchRiver,r=e.qaRef;switch(t.type){case"Q-A":return L.a.createElement(pr,{cardConfig:t,dispatchRiver:n,qaRef:r});default:return L.a.createElement(dr,{cardConfig:t,dispatchRiver:n})}};var Or=Se.components.DataGuardHOC((function(e){var t=e.boundingRectGroup,n=e.state,r=e.menuRef,a=e.qaRefs,c=e.riverCards,o=Object(Ee.c)(),u=function(e,t){return function(n,r,a){t(Rn(e,n,r,a))}}(Object(Ee.d)(tr.selectors.getActiveRiverMakeUpID),o),i=K(),l=K();return L.a.createElement(ur.a,{ref:r,keepMounted:!0,open:n,anchorReference:"anchorPosition",anchorPosition:n?{top:t[0].y,left:t[0].x}:void 0},n&&c.map((function(e){return L.a.createElement(vr,{cardConfig:e,dispatchRiver:u,key:i(),qaRef:"Q-A"===e.type?a[l()]:void 0})})),n&&c.length>0&&L.a.createElement(wn.a,null),L.a.createElement(sr,{onClick:function(){u("Q-A","Q")}}),L.a.createElement(fr,{onClick:function(){u("Note","NOTE")}}))}),or),br=function(e,t){var n,r=ar(e).current,a=cr(e).map((function(e){return e.current})).filter((function(e){return!!e})).map((function(e){return e.parentNode})),c=t.target;if(null===r||void 0===r||null===(n=r.querySelector("div.MuiPaper-root"))||void 0===n?void 0:n.contains(c))return!0;var o,u=Object(Z.a)(a);try{for(u.s();!(o=u.n()).done;){if(o.value.contains(c))return!0}}catch(i){u.e(i)}finally{u.f()}return!1},mr={actions:A,actionTypes:S,constants:j,components:P,reducer:In,selectors:N,utils:w},Er=function(e){return function(t,n){var r=e[t.key];r&&(t.preventDefault(),n(r))}},gr={ArrowLeft:pt.actions.previousPage(),ArrowRight:pt.actions.nextPage()},jr={ArrowDown:Vt.actions.updateSection("DOWN"),ArrowUp:Vt.actions.updateSection("UP")," ":Vt.actions.toggleSectionMovementState()},Sr={a:Vt.actions.updateSelection("PLUS_WORD"),d:Vt.actions.updateSelection("MINUS_WORD"),w:Vt.actions.updateSelection("PLUS_SPAN"),s:Vt.actions.updateSelection("MINUS_SPAN")},yr={t:mr.actions.toggleContextMenu()},Cr=Er(Object(J.a)(Object(J.a)(Object(J.a)(Object(J.a)({},gr),yr),jr),Sr)),Dr=Er(Object(J.a)(Object(J.a)({},gr),yr)),hr={SELECTION:function(e,t,n){Vt.selectors.selectionTypeIsSection(n)?Cr(e,t):Dr(e,t)},CONTEXT_MENU:Er(Object(J.a)({},yr)),EDITOR:function(e,t){},CONTROL:function(e,t){}};var Rr=Object(Ee.b)((function(){return{}}),{keyDownControl:function(e){return function(t,n){var r=n(),a=nn.selectors.getFocus(r);(0,hr[a])(e,t,r)}},mouseDownControl:function(e){return function(t,n){var r=n();mr.selectors.getContextMenuState(r)&&(!mr.utils.contextMenuContainsTargetNode(r,e)&&t(mr.actions.toggleContextMenu()))}},mouseUpControl:function(e){return function(e,t){var n=document.getSelection();if(n){var r=n.toString();if(""!==r){var a=t(),c=nn.selectors.getFocus(a);"SELECTION"!==c&&"EDITOR"!==c||(e(Vt.actions.updateManuallySelectedString(r)),e(mr.actions.openContextMenu()))}}}}})((function(e){var t=e.keyDownControl,n=e.mouseDownControl,r=e.mouseUpControl;return Xt("keydown",t),Xt("mousedown",n),Xt("mouseup",r),null})),Ar=n(296),Ir=n(297),Mr=function(){var e=Object(Ee.d)(pt.selectors.getTotalPages);return L.a.createElement(Ar.a,{position:"static"},L.a.createElement(Ir.a,{variant:"dense"},L.a.createElement(tr.components.ShowRiverButton,null),e&&L.a.createElement(pt.components.PageChooser,null),e&&L.a.createElement(pt.components.PreviousButton,null),e&&L.a.createElement(pt.components.NextButton,null),e&&L.a.createElement(pt.components.ShowMaterialButton,null),e&&L.a.createElement(Vt.components.SelectionTypeButton,null)))},Tr={components:U},Nr=function(){return L.a.createElement(F.a,{item:!0,style:{width:"38%"}},L.a.createElement(B.a,{elevation:3},L.a.createElement(tr.components.CardRiver,null)))};var Pr=Object(W.withSize)({monitorHeight:!0,noPlaceholder:!0})((function(e){var t=e.size,n=Object(Ee.c)(),r=Object(_.useState)(3),a=Object(x.a)(r,2),c=a[0],o=a[1];return L.a.createElement(F.a,{item:!0,style:{width:"60%"},onMouseEnter:function(){n(nn.actions.tryUpdateFocus("SELECTION")),o(20)},onMouseLeave:function(){o(3)}},L.a.createElement(B.a,{elevation:c},L.a.createElement(wn.a,null),L.a.createElement(Vt.components.DocumentCanvasContainer,{parentSize:t}),L.a.createElement(pt.components.PDFDocumentContainer,{parentSize:t}),L.a.createElement(pt.components.PDFUploadContainer,null)))}));function wr(){var e=Object(Ee.c)(),t=Object(Ee.d)(pt.selectors.displayStatusIsShow),n=Object(Ee.d)(tr.selectors.riverShowStateIsShow);return L.a.createElement("div",null,L.a.createElement(Tr.components.ControlContainer,null),L.a.createElement(F.a,{container:!0,justify:"center",direction:"column",alignItems:"stretch",spacing:1},L.a.createElement(F.a,{item:!0,onMouseEnter:function(){e(nn.actions.tryUpdateFocus("CONTROL"))}},L.a.createElement(Tr.components.ControlBar,null)),L.a.createElement(F.a,{item:!0},L.a.createElement(F.a,{container:!0,justify:"space-around",direction:"row",alignItems:"stretch"},n&&L.a.createElement(Nr,null),t&&L.a.createElement(Pr,null)))),L.a.createElement(mr.components.ContextMenuContainer,null))}var Ur,_r=n(33),Lr=n(42),kr=n(135),Gr=n(136),xr=Object(Lr.combineReducers)((Ur={},Object(_r.a)(Ur,nn.constants.NAME,nn.reducer),Object(_r.a)(Ur,mr.constants.NAME,mr.reducer),Object(_r.a)(Ur,tr.constants.NAME,tr.reducer),Object(_r.a)(Ur,Se.constants.NAME,Se.reducer),Object(_r.a)(Ur,pt.constants.NAME,pt.reducer),Object(_r.a)(Ur,Vt.constants.NAME,Vt.reducer),Object(_r.a)(Ur,yn.constants.NAME,yn.reducer),Ur)),Fr=Object(kr.composeWithDevTools)({stateSanitizer:function(e){var t=e.displayData.pdf?Object(J.a)(Object(J.a)({},e),{},{displayData:Object(J.a)(Object(J.a)({},e.displayData),{},{pdf:"PDF_FILE_IS_HERE"})}):e;return t.materialData?Object(J.a)(Object(J.a)({},t),{},{materialData:"MATERIAL_DATA_IS_HERE"}):t}})(Object(Lr.applyMiddleware)(Gr.a)),Wr=Object(Lr.createStore)(xr,Fr);G.a.render(L.a.createElement(L.a.StrictMode,null,L.a.createElement(Ee.a,{store:Wr},L.a.createElement(wr,null))),document.getElementById("root"))},73:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=73}},[[145,1,2]]]);
//# sourceMappingURL=main.23cae690.chunk.js.map