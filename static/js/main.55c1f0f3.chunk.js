(this.webpackJsonpclaymemory=this.webpackJsonpclaymemory||[]).push([[0],{180:function(e,t,n){e.exports=n(254)},194:function(e,t,n){},217:function(e,t){},218:function(e,t){},219:function(e,t){},220:function(e,t){},221:function(e,t){},254:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"NAME",(function(){return W}));var a={};n.r(a),n.d(a,"toFieldValue",(function(){return H})),n.d(a,"createReplace",(function(){return _})),n.d(a,"changeCardObject",(function(){return K}));var c={};n.r(c),n.d(c,"emptyContent",(function(){return X})),n.d(c,"noteContentIsEmpty",(function(){return $})),n.d(c,"qaContentIsNotFull",(function(){return Y})),n.d(c,"strToCardContent",(function(){return ne})),n.d(c,"strToNewCardContent",(function(){return re})),n.d(c,"noteContentContainsStringOrEmpty",(function(){return ae})),n.d(c,"qaContentContainsStringOrEmpty",(function(){return ce}));var o={};n.r(o),n.d(o,"cardIDToNumber",(function(){return oe})),n.d(o,"nextCardID",(function(){return ie})),n.d(o,"cardIsNotFull",(function(){return ue})),n.d(o,"strToCardConfig",(function(){return de})),n.d(o,"cardFieldToType",(function(){return me})),n.d(o,"emptyNote",(function(){return fe})),n.d(o,"emptyQA",(function(){return pe}));var i={};n.r(i),n.d(i,"getState",(function(){return ve})),n.d(i,"hasPast",(function(){return ge})),n.d(i,"hasFuture",(function(){return be})),n.d(i,"getAll",(function(){return Ee})),n.d(i,"getLastCardIDNumber",(function(){return Oe})),n.d(i,"getNextCardID",(function(){return he})),n.d(i,"getCards",(function(){return De})),n.d(i,"getCardByID",(function(){return je}));var l={};n.r(l),n.d(l,"switchToActiveRiverTooltip",(function(){return ke})),n.d(l,"switchToSummaryRiverTooltip",(function(){return xe})),n.d(l,"undoTooltip",(function(){return Ne})),n.d(l,"redoTooltip",(function(){return Re})),n.d(l,"nextPageTooltip",(function(){return Ae})),n.d(l,"previousPageTooltip",(function(){return Pe})),n.d(l,"deleteCardTooltip",(function(){return Te})),n.d(l,"jumpToOriginTooltip",(function(){return Me})),n.d(l,"ChoiceCardAsAppendGoal",(function(){return Fe})),n.d(l,"AppendToCardTooltip",(function(){return qe})),n.d(l,"CardIsAppendGoalTooltip",(function(){return Le})),n.d(l,"ChoiceCardAsReplaceGoal",(function(){return Ue})),n.d(l,"ReplaceCardTooltip",(function(){return Be})),n.d(l,"CardIsReplaceGoalTooltip",(function(){return We})),n.d(l,"newQACardTooltip",(function(){return ze})),n.d(l,"newNoteCardTooltip",(function(){return Qe})),n.d(l,"unhideCardsTooltip",(function(){return Ve})),n.d(l,"deleteDocumentTooltip",(function(){return He})),n.d(l,"loadSavedDocumentTooltip",(function(){return Ge})),n.d(l,"noMaterialText",(function(){return _e})),n.d(l,"loadingMaterialText",(function(){return Ke})),n.d(l,"activeDocumentText",(function(){return Ze})),n.d(l,"existingDataText",(function(){return Je})),n.d(l,"loadMaterialText",(function(){return Xe})),n.d(l,"downloadDatasetsText",(function(){return $e})),n.d(l,"uploadDatasetsText",(function(){return Ye})),n.d(l,"noteText",(function(){return et})),n.d(l,"questionText",(function(){return tt})),n.d(l,"answerText",(function(){return nt})),n.d(l,"defaultEnterDelay",(function(){return rt})),n.d(l,"defaultEnterNextDelay",(function(){return at}));var u={};n.r(u),n.d(u,"NewNoteCardTooltip",(function(){return ct})),n.d(u,"AddQAButtonTooltip",(function(){return ot})),n.d(u,"DeleteCardButtonTooltip",(function(){return it})),n.d(u,"UnhideCardsTooltip",(function(){return lt}));var d={};n.r(d),n.d(d,"AddNoteButton",(function(){return gt})),n.d(d,"AddQAButton",(function(){return Ot})),n.d(d,"DeleteCardButton",(function(){return jt}));var s={};n.r(s),n.d(s,"emptyOrigin",(function(){return St})),n.d(s,"singleOriginToCardOrigin",(function(){return It}));var m={};n.r(m),n.d(m,"config",(function(){return o})),n.d(m,"origin",(function(){return s})),n.d(m,"permutation",(function(){return a})),n.d(m,"content",(function(){return c}));var f={};n.r(f),n.d(f,"NAME",(function(){return xt}));var p={};n.r(p),n.d(p,"pageNumberToRiverMakeUpID",(function(){return Pt})),n.d(p,"riverMakeUpIDToPageNumber",(function(){return Tt})),n.d(p,"emptyCardRiver",(function(){return Mt})),n.d(p,"updateStateWithMakeUps",(function(){return Ft})),n.d(p,"removeCardFromRivers",(function(){return qt}));var v={};n.r(v),n.d(v,"getAll",(function(){return Lt})),n.d(v,"getRiverMakeUps",(function(){return Ut})),n.d(v,"getNonEmptyRiverIDs",(function(){return Bt})),n.d(v,"getNonEmptyRiverIDsSorted",(function(){return Wt})),n.d(v,"getNonEmptyRiverMakeUpsSorted",(function(){return zt})),n.d(v,"getNonEmptyRiverCardsSorted",(function(){return Qt})),n.d(v,"getActiveRiverMakeUpID",(function(){return Vt})),n.d(v,"getActiveRiverMakeUp",(function(){return Ht})),n.d(v,"getActiveRiverCardIDs",(function(){return Gt})),n.d(v,"getActiveRiverCards",(function(){return _t})),n.d(v,"getRiverShowState",(function(){return Kt})),n.d(v,"riverShowStateIsShow",(function(){return Zt})),n.d(v,"getRiverContentState",(function(){return Jt})),n.d(v,"getRiverContentFilter",(function(){return Xt})),n.d(v,"getOriginRequest",(function(){return $t}));var g={};n.r(g),n.d(g,"getAll",(function(){return wn})),n.d(g,"getGoalConfig",(function(){return kn})),n.d(g,"getSourceConfig",(function(){return xn})),n.d(g,"sourceConfigExists",(function(){return Nn}));var b={};n.r(b),n.d(b,"selectionToCard",(function(){return Rn}));var E={};n.r(E),n.d(E,"resetSelectionSource",(function(){return Bn})),n.d(E,"resetSelectionGoal",(function(){return zn})),n.d(E,"addSelectionSource",(function(){return Qn})),n.d(E,"addMaterialSelectionSource",(function(){return Vn})),n.d(E,"addCardSelectionSource",(function(){return Hn})),n.d(E,"addSelectionGoal",(function(){return Gn})),n.d(E,"addCardAppendSelectionGoal",(function(){return _n})),n.d(E,"addCardReplaceSelectionGoal",(function(){return Kn}));var O={};n.r(O),n.d(O,"SelectionSnackbar",(function(){return tr})),n.d(O,"MaterialMouseUp",(function(){return nr})),n.d(O,"CardFieldMouseUp",(function(){return rr})),n.d(O,"AppendButton",(function(){return lr})),n.d(O,"ContextMenu",(function(){return sr})),n.d(O,"ReplaceButton",(function(){return gr}));var h={};n.r(h),n.d(h,"getSelectionWorkaround",(function(){return An})),n.d(h,"use_selection",(function(){return b}));var D={};n.r(D),n.d(D,"RiverContentFormGroup",(function(){return En})),n.d(D,"CardRiver",(function(){return Mr})),n.d(D,"SwitchActiveRiver",(function(){return Fr})),n.d(D,"ClayCard",(function(){return wr})),n.d(D,"ShowRiverCheckbox",(function(){return Lr}));var j={};n.r(j),n.d(j,"filterCardConfigs",(function(){return Rr}));var y={};n.r(y),n.d(y,"NAME",(function(){return Wr})),n.d(y,"MaterialMultiplier",(function(){return zr}));var C={};n.r(C),n.d(C,"getAll",(function(){return Qr})),n.d(C,"getPDF",(function(){return Vr})),n.d(C,"getPDFName",(function(){return Hr})),n.d(C,"getTotalPages",(function(){return Gr})),n.d(C,"getCurrentPage",(function(){return _r})),n.d(C,"getScrollToPage",(function(){return Kr})),n.d(C,"getPageControlData",(function(){return Zr})),n.d(C,"getPDFShowStatus",(function(){return Jr})),n.d(C,"getSpanOrigin",(function(){return Xr})),n.d(C,"getDocumentSearch",(function(){return $r}));var S={};n.r(S),n.d(S,"PageChooser",(function(){return fa})),n.d(S,"PageNavigation",(function(){return Pa})),n.d(S,"PageKeyboardControl",(function(){return ga})),n.d(S,"ShowMaterialCheckbox",(function(){return Ia})),n.d(S,"PDFDocument",(function(){return Oa})),n.d(S,"PDFPage",(function(){return Sa})),n.d(S,"OriginMarkedSnackbar",(function(){return ua}));var I={};n.r(I),n.d(I,"getAll",(function(){return Fa})),n.d(I,"getDocumentNames",(function(){return qa})),n.d(I,"getDocumentDataSets",(function(){return La})),n.d(I,"collectCurrentDBData",(function(){return Ua}));var w={};n.r(w),n.d(w,"DownloadDBDataButton",(function(){return Ja}));var k={};n.r(k),n.d(k,"replaceActiveAppState",(function(){return nc})),n.d(k,"loadPDF",(function(){return rc})),n.d(k,"loadSavedDocument",(function(){return ac})),n.d(k,"deleteActiveDocument",(function(){return cc})),n.d(k,"deleteDocument",(function(){return oc}));var x={};n.r(x),n.d(x,"getAll",(function(){return gc})),n.d(x,"getWindowMeasurements",(function(){return bc})),n.d(x,"getTopOffset",(function(){return Ec})),n.d(x,"getCurrentView",(function(){return Oc}));var N={};n.r(N),n.d(N,"HTMLElementMeasurer",(function(){return vc})),n.d(N,"Display",(function(){return kc})),n.d(N,"ViewTabs",(function(){return Rc}));var R={};n.r(R),n.d(R,"ControlBar",(function(){return jo}));var A,P,T=n(0),M=n.n(T),F=n(15),q=n.n(F),L=n(292),U=n(41),B=n.n(U),W="cards",z=n(10),Q=n(8),V={note:function(e){return e},q:function(e){return e.q},a:function(e){return e.a}},H=function(e,t){return V[e](t)},G={note:function(e,t){return t(e)},q:function(e,t){return Object(Q.a)(Object(Q.a)({},e),{},{q:t(e.q)})},a:function(e,t){return Object(Q.a)(Object(Q.a)({},e),{},{a:t(e.a)})}},_=function(e){return function(t){return e}},K=function(e){var t=H(e.inputField,e.inputObject),n=e.createModify(t);return function(e,t,n){return G[e](t,n)}(e.fieldToBeChanged,e.objectToBeChanged,n)},Z=function(){return{q:"",a:""}},J={q:Z,a:Z,note:function(){return""}},X=function(e){return J[e]()},$=function(e){return""===e},Y=function(e){return""===e.q||""===e.a},ee={APPEND:function(e){return function(t){return(t+" "+e).trim()}},REPLACE:_},te=function(e){return ee[e]},ne=function(e,t,n,r){var a={inputObject:e,inputField:"note",fieldToBeChanged:t,objectToBeChanged:r,createModify:te(n)};return K(a)},re=function(e,t){var n=X(t);return ne(e,t,"REPLACE",n)},ae=function(e,t){return""===e.content||e.content.includes(t)},ce=function(e,t){return""===e.content.a||""===e.content.q||e.content.a.includes(t)||e.content.q.includes(t)},oe=function(e){return parseInt(e)},ie=function(e){return(e+1).toString()},le={Note:function(e){return $(e.content)},"Q-A":function(e){return Y(e.content)}},ue=function(e){return le[e.type](e)},de=function(e,t,n,r){var a=ne(e,t,n,r.content);return Object(Q.a)(Object(Q.a)({},r),{},{content:a})},se={q:"Q-A",a:"Q-A",note:"Note"},me=function(e){return se[e]},fe=function(e){return{type:"Note",content:"",cardID:e}},pe=function(e){return{type:"Q-A",content:{q:"",a:""},cardID:e}},ve=function(e){return e[W]},ge=Object(z.a)(ve,(function(e){return e.past.length>0})),be=Object(z.a)(ve,(function(e){return e.future.length>0})),Ee=function(e){return e[W].present},Oe=Object(z.a)(Ee,(function(e){return e.lastCardIDNumber})),he=Object(z.a)(Oe,ie),De=Object(z.a)(Ee,(function(e){return e.cards})),je=function(e,t){return De(e)[t]},ye=n(139),Ce=n.n(ye),Se=n(109),Ie=n(5),we=n(310),ke="Switch to the Active-River view",xe="Switch to the Summary-River view",Ne="Undo last action",Re="Redo last action",Ae="Next page",Pe="Previous page",Te="Delete this card",Me="Jump to the origin of the card content",Fe="Mark this card field as the goal of the next selection",qe="Add the current selection to this card field",Le="The next selection will be added to this card field (click to unselect)",Ue="Mark this card field to be replaced by the next selection",Be="Replace this card field with the current selection",We="The next selection will replace this card field (click to unselect)",ze="Create new QA-card",Qe="Create new Note-card",Ve="This river contains hidden cards. Click to show.",He="Delete this document and all its corresponding cards",Ge="Load the card data of this document",_e="No PDF file specified.",Ke="Loading PDF\u2026",Ze="Active Document:",Je="Inactive documents with existing data:",Xe="Load document",$e="Download document datasets",Ye="Upload document datasets",et="Note",tt="Question",nt="Answer",rt=500,at=1e3,ct=function(e){var t=e.children;return M.a.createElement(we.a,{title:Qe,enterDelay:rt,enterNextDelay:at},t)},ot=function(e){var t=e.children;return M.a.createElement(we.a,{title:ze,enterDelay:rt,enterNextDelay:at},t)},it=function(e){var t=e.children;return M.a.createElement(we.a,{title:Te,enterDelay:rt,enterNextDelay:at},t)},lt=function(e){var t=e.children;return M.a.createElement(we.a,{title:Ve,enterDelay:rt,enterNextDelay:at},t)},ut={components:u,constants:l},dt=n(37),st={cards:{},lastCardIDNumber:0},mt=function(e,t){var n=Object(Q.a)({},e);return n[t.cardID]=t,n},ft=Object(dt.a)({name:W,initialState:st,reducers:{cardPush:function(e,t){var n=t.payload;return Object(Q.a)(Object(Q.a)({},e),{},{cards:mt(e.cards,n),lastCardIDNumber:oe(n.cardID)+1})},cardReplace:function(e,t){var n=t.payload;return Object(Q.a)(Object(Q.a)({},e),{},{cards:mt(e.cards,n)})},cardFieldReplace:function(e,t){var n=t.payload;return Object(Q.a)(Object(Q.a)({},e),{},{cards:mt(e.cards,de(n.newValue,n.cardField,"REPLACE",n.cardConfig))})},cardRemove:function(e,t){var n=t.payload,r=Object(Q.a)({},e.cards);return delete r[n],Object(Q.a)(Object(Q.a)({},e),{},{cards:r})},allCardsReplace:function(e,t){return t.payload},allCardsReset:function(){return st}}}),pt=ft.actions,vt=ft,gt=function(){var e=Object(Ie.b)(),t=Object(Ie.c)(he);return M.a.createElement(ut.components.NewNoteCardTooltip,null,M.a.createElement(Se.a,{type:"button",onClick:function(){e(pt.cardPush(fe(t)))}},M.a.createElement(Ce.a,null)))},bt=n(140),Et=n.n(bt),Ot=function(){var e=Object(Ie.b)(),t=Object(Ie.c)(he);return M.a.createElement(ut.components.AddQAButtonTooltip,null,M.a.createElement(Se.a,{type:"button",onClick:function(){e(pt.cardPush(pe(t)))}},M.a.createElement(Et.a,null)))},ht=n(141),Dt=n.n(ht),jt=function(e){var t=e.cardID,n=Object(Ie.b)();return M.a.createElement(ut.components.DeleteCardButtonTooltip,null,M.a.createElement(Se.a,{type:"button",onClick:function(){n(pt.cardRemove(t))}},M.a.createElement(Dt.a,{fontSize:"small"})))},yt=function(){return{q:{},a:{}}},Ct={q:yt,a:yt,note:function(){return""}},St=function(e){return Ct[e]()},It=function(e,t,n){var r={inputObject:e,inputField:"note",fieldToBeChanged:t,objectToBeChanged:n||St(t),createModify:_};return K(r)},wt=vt.reducer,kt={constants:r,actions:vt.actions,reducer:wt,name:vt.name,selectors:i,components:d,model:m},xt="cardRiverState",Nt=n(290),Rt=n(291),At=n(52),Pt=function(e){return"CardRiver "+e},Tt=function(e){return parseInt(e.replace("CardRiver ",""))},Mt=function(e){return{riverID:Pt(e),cardIDs:[]}},Ft=function(e){for(var t=Object(Q.a)({},e),n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach((function(e){t.riverMakeUps[e.riverID]=e})),t},qt=function(e,t){var n=Object.fromEntries(Object.entries(e.riverMakeUps).map((function(e){return[e[0],Object(Q.a)(Object(Q.a)({},e[1]),{},{cardIDs:e[1].cardIDs.filter((function(e){return e!==t}))})]})).filter((function(e){return 0!==e[1].cardIDs.length})));return Object(Q.a)(Object(Q.a)({},e),{},{riverMakeUps:n})},Lt=function(e){return e[xt].present},Ut=Object(z.a)(Lt,(function(e){return e.riverMakeUps})),Bt=Object(z.a)(Ut,(function(e){return Object.keys(e)})),Wt=Object(z.a)(Bt,(function(e){return e.sort((function(e,t){return Tt(e)-Tt(t)}))})),zt=Object(z.a)(Ut,(function(e){return Object.values(e).sort((function(e,t){return Tt(e.riverID)-Tt(t.riverID)}))})),Qt=Object(z.a)(zt,kt.selectors.getCards,(function(e,t){var n,r=[],a=Object(At.a)(e);try{for(a.s();!(n=a.n()).done;){var c,o=n.value,i=Object(At.a)(o.cardIDs);try{for(i.s();!(c=i.n()).done;){var l=c.value;r.push(t[l])}}catch(u){i.e(u)}finally{i.f()}}}catch(u){a.e(u)}finally{a.f()}return r})),Vt=Object(z.a)(Lt,(function(e){return e.riverActiveID})),Ht=Object(z.a)(Ut,Vt,(function(e,t){var n=e[t];return n||{cardIDs:[]}})),Gt=Object(z.a)(Ht,(function(e){return e.cardIDs})),_t=Object(z.a)(Gt,kt.selectors.getCards,(function(e,t){return e.map((function(e){return t[e]}))})),Kt=Object(z.a)(Lt,(function(e){return e.riverShowState})),Zt=Object(z.a)(Kt,(function(e){return"SHOW"===e})),Jt=Object(z.a)(Lt,(function(e){return e.riverContentState})),Xt=Object(z.a)(Lt,(function(e){return e.riverContentFilter})),$t=Object(z.a)(Lt,(function(e){return e.riverOriginRequest})),Yt=n(7),en=n(307),tn=n(94),nn=Object(Yt.a)({root:{color:tn.a[400],"&$checked":{color:tn.a[600]}},checked:{}})((function(e){return M.a.createElement(en.a,Object.assign({color:"default"},e))})),rn=n(29),an=n(167),cn=function(){var e=0;return function(){var t=e;return e++,t}},on=function(e){return function(t,n){var r=n.payload;return Object(Q.a)(Object(Q.a)({},t),{},Object(rn.a)({},e,r))}},ln={riverOriginRequest:null,riverMakeUps:{},riverActiveID:Pt(1),riverShowState:"SHOW",riverContentState:"ALL",riverContentFilter:"",count_DONT_USE:0},un=on("riverActiveID"),dn=on("riverShowState"),sn=on("riverContentState"),mn=on("riverContentFilter"),fn=on("riverOriginRequest"),pn=function(e){return Object(Q.a)(Object(Q.a)({},e),{},{count_DONT_USE:e.count_DONT_USE+1})},vn=Object(dt.a)({name:xt,initialState:ln,reducers:{riverActiveID:un,riverShowState:dn,riverContentState:sn,riverContentFilter:mn,riverOriginRequest:fn,riverUnhide:function(e){return Object(Q.a)(Object(Q.a)({},e),{},{riverContentState:"ALL",riverContentFilter:""})},allRiversReset:function(e){return ln},allRiversReplace:function(e,t){var n=t.payload;return Object(Q.a)(Object(Q.a)({},ln),{},{riverMakeUps:n})}},extraReducers:(A={},Object(rn.a)(A,kt.actions.cardPush.type,(function(e,t){var n,r,a=t.payload;return n=e.riverMakeUps[e.riverActiveID]?Object(Q.a)(Object(Q.a)({},e.riverMakeUps[e.riverActiveID]),{},{cardIDs:[].concat(Object(an.a)(e.riverMakeUps[e.riverActiveID].cardIDs),[a.cardID])}):{riverID:e.riverActiveID,cardIDs:[a.cardID]},(r=Object(Q.a)({},e.riverMakeUps))[e.riverActiveID]=n,Object(Q.a)(Object(Q.a)({},e),{},{riverMakeUps:r,count_DONT_USE:0})})),Object(rn.a)(A,kt.actions.cardRemove.type,(function(e,t){var n=t.payload;return Object(Q.a)(Object(Q.a)({},qt(e,n)),{},{count_DONT_USE:0})})),Object(rn.a)(A,kt.actions.cardReplace.type,pn),Object(rn.a)(A,kt.actions.cardFieldReplace.type,pn),A)}),gn=vn.actions,bn=vn,En=function(){var e=Object(Ie.c)(Jt),t=Object(Ie.b)(),n="ALL"===e||"QAS"===e,r="ALL"===e||"NOTES"===e,a=function(e){n||"QAS"!==e?r||"NOTES"!==e?n&&"QAS"===e?t(r?gn.riverContentState("NOTES"):gn.riverContentState("NONE")):r&&"NOTES"===e&&t(n?gn.riverContentState("QAS"):gn.riverContentState("NONE")):t(n?gn.riverContentState("ALL"):gn.riverContentState("NOTES")):t(r?gn.riverContentState("ALL"):gn.riverContentState("QAS"))};return M.a.createElement(Nt.a,null,M.a.createElement(Rt.a,{control:M.a.createElement(nn,{checked:n,onClick:function(){a("QAS")}}),label:"QAs"}),M.a.createElement(Rt.a,{control:M.a.createElement(nn,{checked:r,onClick:function(){a("NOTES")}}),label:"Notes"}))},On=n(112),hn=n(294),Dn=n(309),jn=n(295),yn=n(296),Cn=n(19),Sn=n(170),In=n(305),wn=function(e){return e.selectionData},kn=Object(z.a)(wn,(function(e){return e.goalConfig})),xn=Object(z.a)(wn,(function(e){return e.sourceConfig})),Nn=Object(z.a)(xn,(function(e){return!!e})),Rn=function(e,t,n,r){if(function(e){return!!!e.cardID}(t)){var a=function(e,t){var n=e.contentOrigin,r=e.contentStr,a=t.cardField;return{type:kt.model.config.cardFieldToType(a),content:kt.model.content.strToNewCardContent(r,a),origin:n?kt.model.origin.singleOriginToCardOrigin(n,a):void 0}}(e,t),c=he(r);n(kt.actions.cardPush(Object(Q.a)(Object(Q.a)({},a),{},{cardID:c})))}else{var o=function(e,t,n){var r=kt.selectors.getCardByID(n,t.cardID),a=e.contentOrigin,c=e.contentStr,o=t.cardField;return Object(Q.a)(Object(Q.a)({},r),{},{content:kt.model.content.strToCardContent(c,o,t.updateType,r.content),origin:a?kt.model.origin.singleOriginToCardOrigin(a,o,r.origin):r.origin})}(e,t,r);n(kt.actions.cardReplace(o))}},An=function(){var e=window.getSelection();if(!e)return null;try{var t=document.activeElement;if(t&&t.value){var n=t.value.substring(t.selectionStart,t.selectionEnd);return""===n?null:{text:n,selection:e}}var r=e.toString();return""===r?null:{text:r,selection:e}}catch(a){return null}},Pn=function(e){var t=An();return!!t&&function(e,t){var n,r,a=e.selection,c=null===(n=a.anchorNode)||void 0===n?void 0:n.parentNode,o=null===(r=a.focusNode)||void 0===r?void 0:r.parentNode;if(!c||!o)return!1;if("MARK"===c.nodeName&&!(c=c.parentNode))return!1;if("MARK"===o.nodeName&&!(o=o.parentNode))return!1;if("SPAN"!==c.nodeName){var i;if("DIV"!==c.nodeName||"SPAN"!==(null===(i=a.anchorNode)||void 0===i?void 0:i.nodeName))return!1;c=a.anchorNode}if("SPAN"!==o.nodeName){var l;if("DIV"!==o.nodeName||"SPAN"!==(null===(l=a.focusNode)||void 0===l?void 0:l.nodeName))return!1;o=a.focusNode}var u=c.parentNode;if(!u||"DIV"!==u.nodeName)return!1;var d=Array.from(u.childNodes);if(0===d.length)return!1;var s=d.indexOf(c),m=d.indexOf(o);return-1!==s&&-1!==m&&{contentStr:e.text,contentOrigin:{spanIndexStart:s,spanIndexEnd:m,page:t}}}(t,e)},Tn=on("sourceConfig"),Mn=on("goalConfig"),Fn=Object(dt.a)({name:"selectionData",initialState:{sourceConfig:null,goalConfig:null},reducers:{selectionSource:Tn,selectionGoal:Mn}}),qn=Fn.actions,Ln=Fn,Un=qn.selectionSource,Bn=function(){return Un(null)},Wn=qn.selectionGoal,zn=function(){return Wn(null)},Qn=function(e){return function(t,n){var r=n(),a=kn(r);a?(Rn(e,a,t,r),t(zn())):t(Un(e))}},Vn=function(e){var t=Pn(e);return!!t&&Qn(t)},Hn=function(e){var t=function(e){var t=An();return!!t&&{contentStr:t.text,contentOrigin:e}}(e);return!!t&&Qn(t)},Gn=function(e){return function(t,n){var r=n(),a=xn(r);a?(Rn(a,e,t,r),t(Bn())):t(Wn(e))}},_n=function(e,t){return Gn({cardID:e,cardField:t,updateType:"APPEND"})},Kn=function(e,t){return Gn({cardID:e,cardField:t,updateType:"REPLACE"})},Zn=n(311),Jn=n(293),Xn=n(143),$n=n.n(Xn),Yn=n(142),er=n.n(Yn),tr=function(){var e=Object(T.useState)(!1),t=Object(Cn.a)(e,2),n=t[0],r=t[1],a=Object(Ie.b)(),c=Object(Ie.c)(xn);!c&&n&&r(!1),c&&!n&&r(!0);var o=function(){r(!1),a(Bn())},i=function(e){!n||"Escape"!==e.key&&"Esc"!==e.key||o()};return Object(T.useEffect)((function(){return document.addEventListener("keydown",i),function(){document.removeEventListener("keydown",i)}})),M.a.createElement(er.a,{positionOffset:{x:"-50%",y:"0%"},axis:"x"},M.a.createElement(Zn.a,{style:{maxWidth:"400px",overflowX:"auto"},anchorOrigin:{vertical:"top",horizontal:"center"},open:n,onClose:function(e,t){"clickaway"===t?e.preventDefault():(r(!1),a(Bn()))},onContextMenu:function(e){e.preventDefault(),r(!1),a(Bn())},message:M.a.createElement(L.a,{container:!0,direction:"row",spacing:1},M.a.createElement(L.a,{item:!0},M.a.createElement(Jn.a,{variant:"outlined",color:"secondary",style:{padding:"4px",color:"white",backgroundColor:"#3f51b5",maxWidth:"400px",overflowX:"auto"},square:!0},M.a.createElement(On.a,{variant:"h4"},"Selection:")),M.a.createElement(Jn.a,{variant:"outlined",style:{padding:"4px",color:"black",backgroundColor:"white"},square:!0},M.a.createElement(On.a,{variant:"body1"},null===c||void 0===c?void 0:c.contentStr))),(null===c||void 0===c?void 0:c.contentOrigin)&&M.a.createElement(L.a,{item:!0},M.a.createElement(Jn.a,{variant:"outlined",color:"secondary",style:{padding:"4px",color:"black",backgroundColor:"white"},square:!0},M.a.createElement(On.a,{variant:"h4"},"Origin:")),M.a.createElement(Jn.a,{variant:"outlined",style:{padding:"4px",color:"white",backgroundColor:"#3f51b5"},square:!0},M.a.createElement(On.a,{variant:"body1"},"Page ",c.contentOrigin.page)))),action:M.a.createElement(Se.a,{size:"small","aria-label":"close",color:"inherit",onClick:o},M.a.createElement($n.a,{fontSize:"small"}))}))},nr=function(e){var t=e.children,n=e.page,r=Object(Ie.b)();return M.a.createElement("span",{onMouseUp:function(){var e=Vn(n);e&&r(e)},onMouseDown:function(e){var t;0===e.button&&(null===(t=window.getSelection())||void 0===t||t.empty())}},t)},rr=function(e){var t=e.children,n=e.fieldOrigin,r=Object(Ie.b)();return M.a.createElement("span",{onMouseUp:function(){var e=Hn(n);e&&r(e)}},t)},ar=n(145),cr=n.n(ar),or=n(144),ir=n.n(or),lr=function(e){var t=e.cardField,n=e.cardID,r=Object(Ie.b)(),a=Object(Ie.c)(xn),c=Object(Ie.c)(kn),o=Object(T.useState)(!1),i=Object(Cn.a)(o,2),l=i[0],u=i[1],d=!!c&&!!c.cardID&&c.cardID===n&&c.cardField===t&&"APPEND"===c.updateType;return d?l||u(!0):l&&u(!1),M.a.createElement(we.a,{title:d?ut.constants.CardIsAppendGoalTooltip:a?ut.constants.AppendToCardTooltip:ut.constants.ChoiceCardAsAppendGoal,enterDelay:ut.constants.defaultEnterDelay,enterNextDelay:ut.constants.defaultEnterNextDelay},M.a.createElement(Se.a,{type:"button",onClick:function(){l||c?d&&r(zn()):r(_n(n,t))}},l?M.a.createElement(ir.a,{fontSize:"small"}):M.a.createElement(cr.a,{fontSize:"small"})))},ur=n(168),dr=n(313),sr=function(){var e=Object(T.useState)(void 0),t=Object(Cn.a)(e,2),n=t[0],r=t[1],a=Object(T.useRef)(null),c=Object(T.useCallback)((function(e){!function(e,t){var n,r,a=t.target;return!!(null===(n=e.current)||void 0===n||null===(r=n.querySelector("div.MuiPaper-root"))||void 0===r?void 0:r.contains(a))}(a,e)&&r(void 0)}),[a,r]);Object(T.useEffect)((function(){return document.addEventListener("mousedown",c),function(){document.removeEventListener("mousedown",c)}}),[c]);var o=Object(Ie.c)(Nn),i=Object(T.useCallback)((function(e){o&&(e.preventDefault(),r({left:e.x,top:e.y}))}),[o,r]);Object(T.useEffect)((function(){return document.addEventListener("contextmenu",i),function(){document.removeEventListener("contextmenu",i)}}),[i]);var l=!!n,u=Object(Ie.b)();return M.a.createElement(ur.a,{ref:a,keepMounted:!0,open:l,anchorReference:"anchorPosition",anchorPosition:n},M.a.createElement(dr.a,{onClick:function(){u(Gn({cardField:"note",updateType:"REPLACE"})),r(void 0)}},"New: Note"),M.a.createElement(hn.a,null),M.a.createElement(dr.a,{onClick:function(){u(Gn({cardField:"q",updateType:"REPLACE"})),r(void 0)}},"New: Q (Q-A)"),M.a.createElement(dr.a,{onClick:function(){u(Gn({cardField:"a",updateType:"REPLACE"})),r(void 0)}},"New: A (Q-A)"))},mr=n(146),fr=n.n(mr),pr=n(147),vr=n.n(pr),gr=function(e){var t=e.cardField,n=e.cardID,r=Object(Ie.b)(),a=Object(Ie.c)(xn),c=Object(Ie.c)(kn),o=Object(T.useState)(!1),i=Object(Cn.a)(o,2),l=i[0],u=i[1],d=!!c&&!!c.cardID&&c.cardID===n&&c.cardField===t&&"REPLACE"===c.updateType;return d?l||u(!0):l&&u(!1),M.a.createElement(we.a,{title:d?ut.constants.CardIsReplaceGoalTooltip:a?ut.constants.ReplaceCardTooltip:ut.constants.ChoiceCardAsReplaceGoal,enterDelay:ut.constants.defaultEnterDelay,enterNextDelay:ut.constants.defaultEnterNextDelay},M.a.createElement(Se.a,{type:"button",onClick:function(){l||c?d&&r(zn()):r(Kn(n,t))}},l?M.a.createElement(fr.a,{fontSize:"small"}):M.a.createElement(vr.a,{fontSize:"small"})))},br=Ln.reducer,Er={actions:E,name:Ln.name,components:O,reducer:br,selectors:g,services:h},Or=function(e){var t=e.storeValue,n=void 0===t?"":t,r=e.saveChanges,a=e.fieldOrigin,c=e.style,o=Object(Sn.a)(e,["storeValue","saveChanges","fieldOrigin","style"]),i=Object(T.useState)({storeValue:n,mutableValue:n}),l=Object(Cn.a)(i,2),u=l[0],d=l[1];return u.storeValue!==n&&d({storeValue:n,mutableValue:n}),M.a.createElement(Er.components.CardFieldMouseUp,{fieldOrigin:a&&void 0!==a.spanIndexStart?a:void 0},M.a.createElement(In.a,Object.assign({InputProps:{disableUnderline:!0,style:{minWidth:"400px"}},multiline:!0,variant:"filled",value:u.mutableValue,onChange:function(e){var t=e.target.value;d(Object(Q.a)(Object(Q.a)({},u),{},{mutableValue:t}))},onBlur:function(e){r(e.target.value)},style:c},o)))},hr=n(148),Dr=n.n(hr),jr=function(e){var t=e.cardOrigin,n=Object(Ie.b)();return M.a.createElement(we.a,{title:ut.constants.jumpToOriginTooltip,enterDelay:ut.constants.defaultEnterDelay,enterNextDelay:ut.constants.defaultEnterNextDelay},M.a.createElement(Se.a,{type:"button",onClick:function(){n(gn.riverOriginRequest(t))}},M.a.createElement(Dr.a,{fontSize:"small"})))},yr=n(90),Cr=function(e){var t=e.config,n=e.cardField,r=t.origin?kt.model.permutation.toFieldValue(n,t.origin):null,a=void 0!==(null===r||void 0===r?void 0:r.page);return M.a.createElement(yr.a,{variant:"outlined"},M.a.createElement(L.a,{container:!0,direction:"row"},M.a.createElement(L.a,{item:!0},M.a.createElement(Er.components.AppendButton,{cardID:t.cardID,cardField:n})),M.a.createElement(L.a,{item:!0},M.a.createElement(Er.components.ReplaceButton,{cardID:t.cardID,cardField:n})),M.a.createElement(L.a,{item:!0},a&&M.a.createElement(jr,{cardOrigin:r}))))},Sr=function(e){var t,n,r=e.config,a=Object(Ie.b)();return M.a.createElement(Jn.a,{variant:"elevation",elevation:5,style:{padding:"3px"}},M.a.createElement(L.a,{container:!0,direction:"row",justify:"space-between"},M.a.createElement(L.a,{item:!0},M.a.createElement(L.a,{container:!0,direction:"column",spacing:1},M.a.createElement(L.a,{item:!0},M.a.createElement(L.a,{container:!0,direction:"row",spacing:1},M.a.createElement(L.a,{item:!0},M.a.createElement(Or,{saveChanges:function(e){a(kt.actions.cardFieldReplace({cardField:"q",cardConfig:r,newValue:e}))},storeValue:r.content.q,label:ut.constants.questionText,variant:"filled",style:{backgroundColor:"#FFBF69"},InputLabelProps:{style:{color:"#000000"}},fieldOrigin:null===(t=r.origin)||void 0===t?void 0:t.q})),M.a.createElement(L.a,{item:!0},M.a.createElement(Cr,{cardField:"q",config:r})))),M.a.createElement(L.a,{item:!0},M.a.createElement(L.a,{container:!0,direction:"row",spacing:1},M.a.createElement(L.a,{item:!0},M.a.createElement(Or,{saveChanges:function(e){a(kt.actions.cardFieldReplace({cardField:"a",cardConfig:r,newValue:e}))},storeValue:r.content.a,label:ut.constants.answerText,style:{backgroundColor:"#2EC4B6"},InputLabelProps:{style:{color:"#000000"}},fieldOrigin:null===(n=r.origin)||void 0===n?void 0:n.a})),M.a.createElement(L.a,{item:!0},M.a.createElement(Cr,{cardField:"a",config:r})))))),M.a.createElement(L.a,{item:!0},M.a.createElement(kt.components.DeleteCardButton,{cardID:r.cardID}))))},Ir=function(e){var t=e.config,n=Object(Ie.b)();return M.a.createElement(Jn.a,{variant:"elevation",elevation:5,style:{padding:"3px"}},M.a.createElement(L.a,{container:!0,direction:"row",justify:"space-between"},M.a.createElement(L.a,{item:!0},M.a.createElement(L.a,{container:!0,direction:"row",spacing:1},M.a.createElement(L.a,{item:!0},M.a.createElement(Or,{saveChanges:function(e){n(kt.actions.cardReplace(Object(Q.a)(Object(Q.a)({},t),{},{content:e})))},storeValue:t.content,label:ut.constants.noteText,variant:"filled",style:{backgroundColor:"#CBF3F0"},InputLabelProps:{style:{color:"#000000"}},fieldOrigin:t.origin})),M.a.createElement(L.a,{item:!0},M.a.createElement(Cr,{cardField:"note",config:t})))),M.a.createElement(L.a,{item:!0},M.a.createElement(kt.components.DeleteCardButton,{cardID:t.cardID}))))},wr=function(e){var t=e.config;switch(t.type){case"Note":return M.a.createElement(Ir,{config:t});case"Q-A":return M.a.createElement(Sr,{config:t})}},kr=function(){return M.a.createElement(L.a,{item:!0},M.a.createElement(hn.a,null))},xr=function(e){return"Q-A"===e.type},Nr=function(e){return"Note"===e.type},Rr=function(e,t,n){if("NONE"===t)return[];var r=[];return"ALL"!==t&&("QAS"===t?r.push(xr):"NOTES"===t&&r.push(Nr)),""!==n&&r.push(function(e){return function(t){switch(t.type){case"Note":return kt.model.content.noteContentContainsStringOrEmpty(t,e);case"Q-A":return kt.model.content.qaContentContainsStringOrEmpty(t,e)}}}(n)),r.length>0?e.filter(function(e){return function(t){return e.reduce((function(e,n){return e||n(t)}),!1)}}(r)):e},Ar=n(149),Pr=n.n(Ar),Tr=function(){var e=Object(Ie.b)();return M.a.createElement(ut.components.UnhideCardsTooltip,null,M.a.createElement(Se.a,{type:"button",onClick:function(){e(gn.riverUnhide())}},M.a.createElement(Pr.a,null)))},Mr=function(e){var t=e.riverID,n=e.materialHeight,r=Object(Ie.c)(kt.selectors.getCards),a=Object(Ie.c)(Ut)[t],c=a?a.cardIDs.map((function(e){return r[e]})):[],o=Object(Ie.c)(Jt),i=Object(Ie.c)(Xt),l=Rr(c,o,i),u=function(e){var t=cn();return e.reduce((function(e,n,r,a){return e.push(M.a.createElement(L.a,{item:!0,key:t()},M.a.createElement(wr,{config:n,key:t()}))),r<a.length-1&&e.push(M.a.createElement(kr,{key:t()})),e}),[])}(l),d=c.length!==l.length;return M.a.createElement(Dn.a,{expanded:!0,defaultExpanded:!0,style:{overflow:"auto",height:n},elevation:5},M.a.createElement(jn.a,null,M.a.createElement(On.a,{variant:"h6",align:"center",style:{MozUserSelect:"none",WebkitUserSelect:"none",msUserSelect:"none"}},t)),M.a.createElement(yn.a,null,M.a.createElement(L.a,{container:!0,direction:"column",spacing:2,justify:"center",alignItems:"stretch"},M.a.createElement(L.a,{item:!0},M.a.createElement(L.a,{container:!0,direction:"row"},M.a.createElement(L.a,{item:!0},M.a.createElement(kt.components.AddQAButton,null)),M.a.createElement(L.a,{item:!0},M.a.createElement(kt.components.AddNoteButton,null)),M.a.createElement(L.a,{item:!0},d&&M.a.createElement(hn.a,{orientation:"vertical"})),M.a.createElement(L.a,{item:!0},d&&M.a.createElement(Tr,null))),M.a.createElement(hn.a,{style:{marginTop:"4px"}})),M.a.createElement(L.a,{item:!0},M.a.createElement(L.a,{container:!0,direction:"column",spacing:2,justify:"center",alignItems:"stretch"},u)))))},Fr=function(e){var t=e.children,n=e.riverID,r=Object(Ie.b)(),a=Object(Ie.c)(Vt);return M.a.createElement("span",{onMouseEnter:function(){a!==n&&r(gn.riverActiveID(n))}},t)},qr=n(297),Lr=function(){var e=Object(Ie.b)(),t=Object(Ie.c)(Kt);return M.a.createElement(qr.a,{startIcon:M.a.createElement(Rt.a,{label:"River",control:M.a.createElement(nn,{checked:"SHOW"===t})}),variant:"contained",color:"primary",onClick:function(){e(gn.riverShowState("SHOW"===t?"HIDE":"SHOW"))}})},Ur=bn.actions,Br={constants:f,components:D,reducer:bn.reducer,name:bn.name,selectors:v,actions:Ur,model:p,services:j},Wr="pdfData",zr=.63,Qr=function(e){return e[Wr]},Vr=Object(z.a)(Qr,(function(e){return e.pdf})),Hr=Object(z.a)(Qr,(function(e){return e.pdfName})),Gr=Object(z.a)(Qr,(function(e){return e.totalPages})),_r=Object(z.a)(Qr,(function(e){return e.currentPage})),Kr=Object(z.a)(Qr,(function(e){return e.scrollToPage})),Zr=Object(z.a)(Gr,_r,(function(e,t){return{currentPage:t,totalPages:e}})),Jr=Object(z.a)(Qr,(function(e){return e.pdfShowStatus})),Xr=Object(z.a)(Qr,(function(e){return e.spanOrigin})),$r=Object(z.a)(Qr,(function(e){return e.documentSearch})),Yr={pdfShowStatus:"SHOW",totalPages:1e3,currentPage:1,scrollToPage:null,spanOrigin:null,documentSearch:""},ea=on("totalPages"),ta=on("pdfShowStatus"),na=on("spanOrigin"),ra=on("documentSearch"),aa=function(e,t){return e===t+1?1:e},ca=function(e,t){return 0===e?t:e},oa=Object(dt.a)({name:Wr,initialState:Yr,reducers:{pdfUpload:function(e,t){var n=t.payload;return Object(Q.a)(Object(Q.a)({},e),{},{pdf:n,pdfName:n.name})},totalPages:ea,pdfShowStatus:ta,spanOrigin:na,documentSearch:ra,pageUpdate:function(e,t){var n=t.payload;return Object(Q.a)(Object(Q.a)({},e),{},{currentPage:n.page,scrollToPage:n.shouldScroll?n.page:null})},nextPage:function(e){var t=aa(e.currentPage+1,e.totalPages);return Object(Q.a)(Object(Q.a)({},e),{},{currentPage:t,scrollToPage:t})},previousPage:function(e){var t=ca(e.currentPage-1,e.totalPages);return Object(Q.a)(Object(Q.a)({},e),{},{currentPage:t,scrollToPage:t})},existingDocumentPayload:function(e,t){var n=t.payload;return Object(Q.a)(Object(Q.a)({},Yr),{},{pdf:void 0},n)}}}),ia=oa.actions,la=oa,ua=function(){var e=Object(T.useState)(!1),t=Object(Cn.a)(e,2),n=t[0],r=t[1],a=Object(Ie.c)(Xr),c=Object(Ie.b)();!a&&n&&r(!1),a&&!n&&r(!0);var o=function(){r(!1),c(ia.spanOrigin(null))},i=function(e){!n||"Escape"!==e.key&&"Esc"!==e.key||o()};return Object(T.useEffect)((function(){return document.addEventListener("keydown",i),function(){document.removeEventListener("keydown",i)}})),M.a.createElement(Zn.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:n,onClose:function(e,t){"clickaway"===t?e.preventDefault():(r(!1),c(ia.spanOrigin(null)))},message:"Origin is marked",action:M.a.createElement(qr.a,{color:"secondary",size:"small",onClick:o},"UNMARK")})},da=/(\D)/,sa=function(e){var t=e.totalPages,n=Object(Ie.b)(),r=Object(Ie.c)(_r),a=Object(T.useState)({error:!1,value:null===r||void 0===r?void 0:r.toString(),userInput:null===r||void 0===r?void 0:r.toString()}),c=Object(Cn.a)(a,2),o=c[0],i=c[1];return o.value!==r.toString()&&i({error:!1,value:r.toString(),userInput:r.toString()}),M.a.createElement(In.a,{inputProps:{style:{padding:"0px",fontSize:"1.25rem",fontFamily:'"Roboto", "Helvetica", "Arial", sansSerif',fontWeight:500,lineHeight:1.6,letterSpacing:"0.0075em"}},type:"text",variant:"filled",value:o.userInput,onKeyDown:function(e){if("Enter"===e.key){e.preventDefault();var t=e.target.value;o.error||n(ia.pageUpdate({page:parseInt(t),shouldScroll:!0}))}},onChange:function(e){var n=e.target.value;!function(e,t){if(""===e||null!==e.trim().match(da))return!1;var n=parseInt(e);return!(n<1||t<n)}(n,t)?i(Object(Q.a)(Object(Q.a)({},o),{},{error:!0,userInput:n})):i(Object(Q.a)(Object(Q.a)({},o),{},{error:!1,userInput:n}))},error:o.error})},ma=function(e){var t=e.totalPages;return M.a.createElement(On.a,{variant:"h6"},"of ",t)},fa=function(){var e=Object(Ie.c)(Gr);return M.a.createElement(Jn.a,{variant:"outlined"},M.a.createElement(L.a,{item:!0},M.a.createElement(L.a,{container:!0,direction:"row",alignItems:"center",justify:"space-between"},M.a.createElement(L.a,{item:!0,style:{width:"37%"}},M.a.createElement(sa,{totalPages:e})),M.a.createElement(L.a,{item:!0,style:{width:"61%"}},M.a.createElement(ma,{totalPages:e})))))},pa={ArrowLeft:ia.previousPage(),ArrowRight:ia.nextPage()},va=(P=pa,function(e,t){var n=P[e.key];n&&(e.preventDefault(),t(n))}),ga=function(e){var t=e.children,n=Object(Ie.b)(),r=Object(T.useRef)(null);return M.a.createElement("span",{ref:r,onKeyDown:function(e){va(e,n)},tabIndex:0},t)},ba=(n(194),n(195),n(66));ba.c.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(ba.c.version,"/pdf.worker.js");var Ea={cMapUrl:"cmaps/",cMapPacked:!0},Oa=function(e){var t=e.ChildComponent,n=Object(Ie.c)(Vr),r=Object(T.useState)(),a=Object(Cn.a)(r,2),c=a[0],o=a[1],i=Object(T.useRef)(),l=Object(Ie.b)(),u=null===n||void 0===n?void 0:n.name,d=Object(T.useRef)(u);return d.current!==u&&(d.current=u),M.a.createElement(ba.a,{loading:ut.constants.loadingMaterialText,noData:ut.constants.noMaterialText,options:Ea,file:n,renderMode:"canvas",onLoadSuccess:function(e){l(ia.totalPages(e.numPages)),n&&function(e,t,n,r){var a=Array.from({length:e.numPages},(function(e,t){return t+1})).map((function(t){return e.getPage(t)}));Promise.all(a).then((function(e){if(t===n.current){var a,c=new Map,o=Object(At.a)(e);try{for(o.s();!(a=o.n()).done;){var i=a.value,l=1*i.view[2],u=1*i.view[3];c.set(i._pageIndex+1,[l,u])}}catch(d){o.e(d)}finally{o.f()}r(c)}}))}(e,u,d,o),i.current=e},onItemClick:function(e){var t=e.pageNumber;l(ia.pageUpdate({page:parseInt(t),shouldScroll:!0}))}},c&&d.current===u&&M.a.createElement(t,{pdfProxyRef:i,cachedPageDimensions:c}))},ha=function(e){var t=e.page,n=e.pageRef,r=Object(Ie.c)(Xr),a=Object(T.useRef)(0),c=Object(Ie.b)(),o=Object(T.useCallback)((function(){var e=setInterval((function(){var t;if(10===a.current)return a.current=0,clearInterval(e),console.log("invalid origin clicked",r),void c(ia.spanOrigin(null));var o=null===(t=n.current)||void 0===t?void 0:t.children.item(1);if(o){var i=o.children.item(r.spanIndexStart);if(i)return i.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"}),a.current=0,void clearInterval(e)}a.current=a.current+1}),10)}),[c,a,r,n]);return Object(T.useEffect)((function(){if(r&&r.page===t&&n.current){var e=n.current.children.item(1);if(e){var c=e.children.item(r.spanIndexStart);c?(c.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"}),a.current=0):o()}else o()}}),[c,t,n,r,o]),null},Da=function(e){return function(t){return function(e,t){var n=e.itemIndex;return n>=t.spanIndexStart&&n<=t.spanIndexEnd?M.a.createElement("mark",{style:{backgroundColor:"red"}},e.str):e.str}(t,e)}},ja={backgroundColor:"blue"};function ya(e){return function(t){return function(e,t){var n=e.length,r=t.length;if(""===t||""===e||r>n)return e;var a=e.indexOf(t);if(-1===a)return e;var c=M.a.createElement("mark",{style:ja},t),o=a>0&&e.slice(0,a),i=[];o&&i.push(o),i.push(c);var l=e.indexOf(t,a+r);if(-1===l){var u=a+r,d=u<n&&e.slice(u);return d&&i.push(d),i}var s=a+r,m=s!==l&&e.slice(s,l);m&&i.push(m),i.push(c);var f=e.indexOf(t,l+r);if(-1===f){var p=l+r;return p<n&&e.slice(p)&&i.push(m),i}var v=l+r,g=v<n&&e.slice(v,f);if(g&&i.push(g),i.push(c),f+r===n)return i;var b=e.slice(f+r);if(b===t)return i.push(c),i;var E=b.split(t);if(E.length<=1)return i.push(b),i;for(var O=0;O<E.length;O++){var h=E[O];0!==O||""!==h?O!==E.length-1||""===h?(""!==h&&i.push(h),i.push(c)):i.push(h):i.push(c)}return i}(t.str,e)}}var Ca,Sa=function(e){var t=e.pageNumber,n=e.materialWidth,r=Object(Ie.c)($r),a=Object(Ie.c)(Xr),c=a?Da(a):void 0,o=function(e,t){return e?t?function(n){return t(Object(Q.a)(Object(Q.a)({},n),{},{str:e(n)}))}:e:t}(""!==r?ya(r):void 0,c),i=Object(T.useRef)(null);return M.a.createElement("div",{style:{overflow:"auto"}},M.a.createElement(Er.components.MaterialMouseUp,{page:t},M.a.createElement(ga,null,M.a.createElement(ba.b,{inputRef:function(e){i.current=e},pageNumber:t,width:n*zr,customTextRenderer:o,renderAnnotationLayer:!1}))),M.a.createElement(ha,{page:t,pageRef:i}))},Ia=function(){var e=Object(Ie.b)(),t=Object(Ie.c)(Jr);return M.a.createElement(qr.a,{startIcon:M.a.createElement(Rt.a,{label:"Material",control:M.a.createElement(nn,{checked:"SHOW"===t})}),variant:"contained",color:"primary",onClick:function(){e(ia.pdfShowStatus("SHOW"===t?"HIDE":"SHOW"))}})},wa=n(152),ka=n.n(wa),xa=n(151),Na=n.n(xa),Ra=function(){var e=Object(Ie.b)();return M.a.createElement(we.a,{title:ut.constants.previousPageTooltip,enterDelay:ut.constants.defaultEnterDelay,enterNextDelay:ut.constants.defaultEnterNextDelay},M.a.createElement(Se.a,{type:"button",onClick:function(){e(ia.previousPage())}},M.a.createElement(Na.a,null)))},Aa=function(){var e=Object(Ie.b)();return M.a.createElement(we.a,{title:ut.constants.nextPageTooltip,enterDelay:ut.constants.defaultEnterDelay,enterNextDelay:ut.constants.defaultEnterNextDelay},M.a.createElement(Se.a,{type:"button",onClick:function(){e(ia.nextPage())}},M.a.createElement(ka.a,null)))},Pa=function(){return M.a.createElement(Jn.a,{variant:"outlined"},M.a.createElement(L.a,{container:!0,direction:"row"},M.a.createElement(L.a,{item:!0},M.a.createElement(Ra,null)),M.a.createElement(L.a,{item:!0},M.a.createElement(hn.a,{orientation:"vertical"})),M.a.createElement(L.a,{item:!0},M.a.createElement(Aa,null))))},Ta=la.reducer,Ma={actions:la.actions,components:S,name:la.name,reducer:Ta,selectors:C,constants:y},Fa=function(e){return e.documentDB},qa=Object(z.a)(Fa,(function(e){return Object.keys(e)})),La=Object(z.a)(Fa,(function(e){return Object.values(e)})),Ua=Object(z.a)(Ma.selectors.getPDFName,Ma.selectors.getTotalPages,Ma.selectors.getCurrentPage,Br.selectors.getRiverMakeUps,kt.selectors.getCards,kt.selectors.getLastCardIDNumber,(function(e,t,n,r,a,c){return{name:e,totalPages:t,currentPage:n,riverMakeUps:r,cards:a,lastCardIDNumber:c}})),Ba=function(e,t){var n=t.payload;return Object(Q.a)(Object(Q.a)({},e),n.reduce((function(e,t){return e[t.name]=t,e}),{}))},Wa=Ba({},{payload:[{name:"0_Krokodile.pdf",totalPages:15,currentPage:1,riverMakeUps:{},cards:{},lastCardIDNumber:0},{name:"1_Fakten.pdf",totalPages:1,currentPage:1,riverMakeUps:{},cards:{},lastCardIDNumber:0},{name:"Atom.pdf",totalPages:1,currentPage:1,riverMakeUps:{"CardRiver 1":{riverID:"CardRiver 1",cardIDs:["1"]}},cards:{1:{type:"Q-A",content:{q:"Was ist DNS?",a:"DNS ist eine Nukleins\xe4ure, die sich aus einer Kette von vielen Nukleotiden zusammensetzt.\n\nAls Nukleotide werden unter anderem die Bausteine von Nukleins\xe4uren wie der DNS bezeichnet. Ein Nukleotid setzt sich aus einem Basen-, einem Zucker- und einem Phosphatanteil zusammen.\n\nNukleins\xe4uren sind aus einzelnen Bausteinen, den Nukleotiden, aufgebaute Makromolek\xfcle, die bei allen Organismen die genetische Information enthalten."},cardID:"1"}},lastCardIDNumber:2},{name:"3_Zapfen.pdf",totalPages:8,currentPage:1,riverMakeUps:{"CardRiver 2":{riverID:"CardRiver 2",cardIDs:["1"]}},cards:{1:{type:"Q-A",content:{q:"Warum wird der L-Zapfen als Rotrezeptor bezeichnet?",a:"Er \xfcbernimmt die Hauptleistung f\xfcr die Wahrnehmung von rotem Licht."},origin:{q:{spanIndexStart:93,spanIndexEnd:93,page:2},a:{spanIndexStart:94,spanIndexEnd:97,page:2}},cardID:"1"}},lastCardIDNumber:4},{name:"4_Platon.pdf",totalPages:45,currentPage:3,riverMakeUps:{"CardRiver 3":{riverID:"CardRiver 3",cardIDs:["1","3"]},"CardRiver 4":{riverID:"CardRiver 4",cardIDs:["5","7"]},"CardRiver 7":{riverID:"CardRiver 7",cardIDs:["9","11"]},"CardRiver 9":{riverID:"CardRiver 9",cardIDs:["13","15"]},"CardRiver 10":{riverID:"CardRiver 10",cardIDs:["17","19"]}},cards:{1:{type:"Q-A",content:{q:"Worauf st\xfctzte Ariston seinen Glauben, dass er der Nachkomme eines mythischen K\xf6nigs von Athen war?",a:"Sein Vorfahre Aristokles hatte bereits das h\xf6chste Staatsamt bekleidet."},origin:{q:{spanIndexStart:9,spanIndexEnd:10,page:3},a:{spanIndexStart:19,spanIndexEnd:19,page:3}},cardID:"1"},3:{type:"Note",content:"Wer ist Ariston?",cardID:"3"},5:{type:"Q-A",content:{q:"Was erhoffte sich Platon von Archytas?",a:"Von  Archytas  erhoffte  er  sich  vor  allem mathematische Erkenntnisse."},origin:{q:{spanIndexStart:47,spanIndexEnd:47,page:4},a:{spanIndexStart:50,spanIndexEnd:51,page:4}},cardID:"5"},7:{type:"Note",content:"Wer ist Archytas?",cardID:"7"},9:{type:"Q-A",content:{q:"Warum ist eine absolute Datierung der Werke Platons schwierig?",a:"Sie enthalten kaum Hinweise auf historische Ereignisse ihrer Abfassungszeit und die Handlung der Dialoge ist in der Regel in die Lebenszeit des Sokrates gesetzt, also vor dem Beginn von Platons schriftstellerischer T\xe4tigkeit."},origin:{q:{spanIndexStart:61,spanIndexEnd:61,page:7},a:{spanIndexStart:61,spanIndexEnd:64,page:7}},cardID:"9"},11:{type:"Note",content:"Dank was kann in manchen F\xe4llen zumindest der Zeitraum der Entstehung von Platons Werken eingegrenzt werden?",cardID:"11"},13:{type:"Q-A",content:{q:"Wer steht am meisten im Zentrum von Platons Dialogen?",a:"Der aus Platons Perspektive gezeichnete Sokrates, in dessen Gestalt sich historische und idealisierte Z\xfcge mischen."},origin:{q:{spanIndexStart:25,spanIndexEnd:25,page:9},a:{spanIndexStart:24,spanIndexEnd:24,page:9}},cardID:"13"},15:{type:"Note",content:"Was ist die Folge davon, dass Platon seine Dialoge meist aus der Perspektive von Sokrates schrieb?",cardID:"15"},17:{type:"Q-A",content:{q:"Was ist die Grundmethode, die Sokrates in Platons Dialogen anwendet?",a:"Die Widerlegung der urspr\xfcnglichen Ansichten seiner Gespr\xe4chspartner, die sich als naiv und unreflektiert erweisen."},origin:{q:{spanIndexStart:38,spanIndexEnd:38,page:10},a:{spanIndexStart:38,spanIndexEnd:44,page:10}},cardID:"17"},19:{type:"Note",content:"Was tritt durch die Befreiung von Scheinwissen durch Sokrates Widerlegungsmethode zutage?",cardID:"19"}},lastCardIDNumber:20},{name:"5_Nervenzelle.pdf",totalPages:12,currentPage:4,riverMakeUps:{"CardRiver 1":{riverID:"CardRiver 1",cardIDs:["1","3"]},"CardRiver 2":{riverID:"CardRiver 2",cardIDs:["5","7"]},"CardRiver 3":{riverID:"CardRiver 3",cardIDs:["9","11"]},"CardRiver 4":{riverID:"CardRiver 4",cardIDs:["13","15"]}},cards:{1:{type:"Q-A",content:{q:"Worauf ist eine Nervenzelle spezialisiert? (Seite 1)",a:""},cardID:"1"},3:{type:"Q-A",content:{q:"Wie viele Nervenzellen hat das Gehirn Sch\xe4tzungen zufolge? (Seite 1)",a:""},cardID:"3"},5:{type:"Q-A",content:{q:"Wie wird der K\xf6rper der Nervenzelle bezeichnet? (Seite 2)",a:""},cardID:"5"},7:{type:"Q-A",content:{q:"",a:""},cardID:"7"},9:{type:"Q-A",content:{q:"Wovon h\xe4ngt es ab ob ein Aktionspotential gebildet wird oder nicht? (Seite 3)",a:""},cardID:"9"},11:{type:"Q-A",content:{q:"Was sind Dendriten? (Seite 3)",a:""},cardID:"11"},13:{type:"Q-A",content:{q:"Wie wird im Falle einer Erregung der Nervenzelle sichergestellt, dass Aktionspotentiale am Axonh\xfcgel entstehen und \xfcber deren Axon weitergeleitet werden? (Seite 4)",a:""},cardID:"13"},15:{type:"Q-A",content:{q:"Was ist das Axon einer Nervenzelle? (Seite 4)",a:""},cardID:"15"}},lastCardIDNumber:16}],type:Ba.toString()}),za=Object(dt.a)({name:"documentDB",initialState:Wa,reducers:{storeInDocumentDB:function(e,t){var n=t.payload;return Object(Q.a)(Object(Q.a)({},e),{},Object(rn.a)({},n.name,n))},removeFromDocumentDB:function(e,t){var n=t.payload;return Object.fromEntries(Object.entries(e).filter((function(e){return e[0]!==n})))},updateDocumentDB:Ba}}),Qa=za.actions,Va=za,Ha=function(e,t){if(void 0!==Ma.selectors.getPDFName(t)){var n=Ua(t);e(Qa.storeInDocumentDB(n))}},Ga=n(222),_a=function(){return function(e,t){var n=t();Ha(e,n),n=t();var r=La(n),a=(new Date).toLocaleString();Ga(JSON.stringify(r),a+" ClayMemory.txt")}},Ka=n(153),Za=n.n(Ka),Ja=function(){var e=Object(Ie.b)();return M.a.createElement("span",{onClick:function(){e(_a())}},M.a.createElement(qr.a,{variant:"contained",color:"primary",disableElevation:!0,startIcon:M.a.createElement(Za.a,null)},ut.constants.downloadDatasetsText))},Xa=Va.reducer,$a=Va.actions,Ya=Va.name,ec={actions:Object(Q.a)(Object(Q.a)({},$a),{},{downloadDBData:_a,refreshDB:Ha}),name:Ya,reducer:Xa,selectors:I,components:w},tc=function(e){e(Br.actions.allRiversReset()),e(kt.actions.allCardsReset()),e(U.ActionCreators.clearHistory())},nc=function(e,t,n){e(kt.actions.allCardsReplace({cards:t.cards,lastCardIDNumber:t.lastCardIDNumber})),e(Br.actions.allRiversReplace(t.riverMakeUps)),void 0!==n&&t.name!==n&&e(Ma.actions.existingDocumentPayload({pdfName:t.name,currentPage:t.currentPage,totalPages:t.totalPages})),e(U.ActionCreators.clearHistory())},rc=function(e){return function(t,n){var r=e.name,a=n(),c=Ma.selectors.getPDFName(a),o=ec.selectors.getAll(a);if(ec.actions.refreshDB(t,a),t(Ma.actions.pdfUpload(e)),r!==c){var i=o[r];i?nc(t,i):tc(t)}}},ac=function(e){return function(t,n){var r=n(),a=Ma.selectors.getPDFName(r),c=Ma.selectors.getPDF(r),o=ec.selectors.getAll(r);ec.actions.refreshDB(t,r);var i=o[e];nc(t,i,c||a?a:"")}},cc=function(){return function(e,t){tc(e);var n=t(),r=Ma.selectors.getPDFName(n);e(ec.actions.removeFromDocumentDB(r))}},oc=function(e){return function(t,n){var r=n(),a=Ma.selectors.getPDFName(r);t(a&&a===e?cc():ec.actions.removeFromDocumentDB(e))}},ic=n(154);!function(e){e[e.RiverMaterial=0]="RiverMaterial",e[e.RiverExplorer=1]="RiverExplorer",e[e.CardExplorer=2]="CardExplorer"}(Ca||(Ca={}));var lc={windowMeasurements:null,topOffset:0,currentView:Ca.RiverMaterial},uc=on("topOffset"),dc=on("windowMeasurements"),sc=on("currentView"),mc=Object(dt.a)({name:"displayData",initialState:lc,reducers:{topOffset:uc,windowMeasurements:dc,currentView:sc}}),fc=mc.actions,pc=mc,vc=function(){var e=Object(Ie.b)(),t=Object(ic.debounce)(50,(function(){var t=document.documentElement,n=t.clientWidth,r=t.clientHeight;e(fc.windowMeasurements({width:n,height:r}))}));return Object(T.useLayoutEffect)((function(){t()}),[t]),Object(T.useEffect)((function(){return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}})),null},gc=function(e){return e.displayData},bc=Object(z.a)(gc,(function(e){return e.windowMeasurements})),Ec=Object(z.a)(gc,(function(e){return e.topOffset})),Oc=Object(z.a)(gc,(function(e){return e.currentView})),hc=n(169),Dc=function(e){var t=e.riverID,n=e.materialHeight,r=e.materialWidth;return M.a.createElement("div",{style:{maxWidth:.35*r}},M.a.createElement(Br.components.CardRiver,{riverID:t,materialHeight:n}))},jc=function(e){var t,n=e.index,r=e.data,a=e.style,c=n+1,o=Br.model.pageNumberToRiverMakeUpID(c),i=r.materialHeights,l=Object(Ie.c)(Br.selectors.getRiverShowState),u=Object(Ie.c)(Ma.selectors.getPDFShowStatus),d=null===(t=Object(Ie.c)(bc))||void 0===t?void 0:t.width;return M.a.createElement("div",{style:Object(Q.a)({},a)},M.a.createElement(Br.components.SwitchActiveRiver,{riverID:o},M.a.createElement(L.a,{container:!0,justify:"space-between",direction:"row",alignItems:"flex-start"},M.a.createElement(L.a,{item:!0,hidden:"HIDE"===l},M.a.createElement(Dc,{riverID:o,materialHeight:i.get(c),materialWidth:d})),M.a.createElement(L.a,{item:!0,hidden:"HIDE"===u},M.a.createElement(Ma.components.PDFPage,{pageNumber:c,materialWidth:d})))),M.a.createElement(hn.a,{style:{marginTop:10}}))},yc=function(e){var t=e.listRef,n=Object(Ie.c)(Oc),r=Object(Ie.c)(Ma.selectors.getScrollToPage),a=Object(Ie.c)(Ma.selectors.getCurrentPage),c=Object(Ie.c)(Br.selectors.getOriginRequest);Object(T.useEffect)((function(){var e;null===(e=t.current)||void 0===e||e.scrollToItem(a-1,"start")}),[]);var o=Object(Ie.b)();return Object(T.useEffect)((function(){var e,a;if((c||r)&&n!==Ca.RiverMaterial&&o(fc.currentView(Ca.RiverMaterial)),c)return null===(e=t.current)||void 0===e||e.scrollToItem(c.page-1,"auto"),o(Ma.actions.spanOrigin(c)),o(Ma.actions.pageUpdate({page:c.page,shouldScroll:!1})),void o(Br.actions.riverOriginRequest(null));r&&(null===(a=t.current)||void 0===a||a.scrollToItem(r-1,"start"),o(Ma.actions.pageUpdate({page:r,shouldScroll:!1})))}),[o,t,r,c,n]),null},Cc=function(e){var t=e.listRef,n=e.materialHeights,r=Object(T.useRef)(n);return Object(T.useEffect)((function(){var e;n!==r.current&&(null===(e=t.current)||void 0===e||e.resetAfterIndex(0),r.current=n)})),null},Sc=function(e){var t=e.pdfProxyRef,n=e.cachedPageDimensions,r=Object(T.useRef)(),a=Object(Ie.c)(bc),c=a?Array.from(n.keys()).reduce((function(e,t){return e.set(t,function(e,t,n){var r=t.get(e),a=n*Ma.constants.MaterialMultiplier/r[0];return r[1]*a+20}(t,n,a.width)),e}),new Map):void 0,o=Object(Ie.b)(),i=Object(Ie.c)(Ec);return M.a.createElement(T.Fragment,null,a&&c&&M.a.createElement(hc.a,{height:a.height-i,itemCount:t.current.numPages,itemSize:function(e){return c.get(e+1)+20},itemData:{materialHeights:c},ref:r,width:"100%",onItemsRendered:function(e){o(Ma.actions.pageUpdate({page:e.visibleStopIndex+1,shouldScroll:!1}))}},jc),c&&M.a.createElement(Cc,{listRef:r,materialHeights:c}),M.a.createElement(yc,{listRef:r}))},Ic=function(e){var t=e.riverID,n=Object(Ie.c)(bc),r=Object(Ie.c)(Ec);return n&&r?M.a.createElement("div",{style:{marginBottom:"8px",marginTop:"4px"}},M.a.createElement(Br.components.CardRiver,{riverID:t,materialHeight:(null===n||void 0===n?void 0:n.height)-r-10})):null},wc=function(){var e=Object(Ie.c)(Wt),t=cn();return M.a.createElement(L.a,{container:!0,justify:"space-evenly",alignItems:"center",spacing:2,style:{width:"100%",height:"100%"}},e.map((function(e){return M.a.createElement(L.a,{item:!0,xs:4,key:t()},M.a.createElement(Br.components.SwitchActiveRiver,{riverID:e},M.a.createElement(Ic,{riverID:e})))})))},kc=function(){var e=Object(Ie.c)(Oc);return M.a.createElement(T.Fragment,null,M.a.createElement("div",{hidden:e!==Ca.RiverMaterial,style:{width:"100%",height:"100%"}},M.a.createElement(Ma.components.PDFDocument,{ChildComponent:Sc}),M.a.createElement(Ma.components.OriginMarkedSnackbar,null)),M.a.createElement("div",{hidden:e!==Ca.RiverExplorer,style:{width:"100%",height:"100%"}},M.a.createElement(wc,null)),M.a.createElement(Er.components.ContextMenu,null),M.a.createElement(Er.components.SelectionSnackbar,null))},xc=n(306),Nc=n(298),Rc=function(){var e=Object(Ie.c)(Oc),t=Object(Ie.b)();return M.a.createElement(Jn.a,null,M.a.createElement(xc.a,{value:e,onChange:function(e,n){t(fc.currentView(n))}},M.a.createElement(Nc.a,{label:"River-Material"}),M.a.createElement(Nc.a,{label:"River Explorer"})))},Ac=pc.reducer,Pc={actions:pc.actions,components:N,name:pc.name,reducer:Ac,selectors:x},Tc=n(303),Mc=n(304),Fc=n(159),qc=n.n(Fc),Lc=n(312),Uc=n(299),Bc=n(300),Wc=n(301),zc=n(302),Qc=n(155),Vc=n.n(Qc),Hc=function(e){var t=e.document,n=e.handleClose,r=e.open,a=Object(Ie.b)();return M.a.createElement(Lc.a,{open:r,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},M.a.createElement(Uc.a,{id:"alert-dialog-title"},"Delete "+t+" and all associated card data?"),M.a.createElement(Bc.a,null,M.a.createElement(Wc.a,{id:"alert-dialog-description"},"This change can not be undone.")),M.a.createElement(zc.a,null,M.a.createElement(qr.a,{onClick:n,color:"primary"},"Abort"),M.a.createElement(qr.a,{onClick:function(){a(oc(t)),n()},color:"primary",autoFocus:!0},"Delete document and associated card data")))},Gc=function(e){var t=e.document,n=Object(T.useState)(!1),r=Object(Cn.a)(n,2),a=r[0],c=r[1];return M.a.createElement("div",null,M.a.createElement(we.a,{title:ut.constants.deleteDocumentTooltip,enterDelay:ut.constants.defaultEnterDelay,enterNextDelay:ut.constants.defaultEnterNextDelay},M.a.createElement(Se.a,{type:"button",onClick:function(){c(!0)}},M.a.createElement(Vc.a,{fontSize:"small"}))),M.a.createElement(Hc,{document:t,open:a,handleClose:function(){c(!1)}}))},_c=n(156),Kc=n.n(_c),Zc=function(e){var t=e.handleClose,n=e.label,r=Object(T.useRef)(null),a=Object(T.useState)(),c=Object(Cn.a)(a,2),o=c[0],i=c[1];return M.a.createElement(T.Fragment,null,M.a.createElement(dr.a,{onClick:function(){r.current.click()}},M.a.createElement(qr.a,{variant:"contained",color:"primary",disableElevation:!0,startIcon:M.a.createElement(Kc.a,null)},n)),M.a.createElement("input",{ref:r,style:{display:"none"},onChange:function(e){var t=e.target.files,n=t?t[0]:null;n&&i(n)},type:"file",accept:".txt"}),M.a.createElement(Jc,{handleClose:function(){t(),i(void 0)},open:!!o,file:o}))},Jc=function(e){var t=e.handleClose,n=e.open,r=e.file,a=Object(Ie.b)(),c=Object(Ie.c)(Ma.selectors.getPDFName);return M.a.createElement(Lc.a,{open:n,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},M.a.createElement(Uc.a,{id:"alert-dialog-title"},"Load the uploaded dataset?"),M.a.createElement(Bc.a,null,M.a.createElement(Wc.a,{id:"alert-dialog-description"},"This overwrites existing data of the uploaded document-datasets and can not be undone.")),M.a.createElement(zc.a,null,M.a.createElement(qr.a,{onClick:t,color:"primary"},"Abort"),M.a.createElement(qr.a,{onClick:function(){var e=new FileReader;e.readAsText(r),e.onload=function(){var n=JSON.parse(e.result),r=n.find((function(e){return e.name===c}));a(ec.actions.updateDocumentDB(n)),r&&nc(a,r),t()}},color:"primary",autoFocus:!0},"Load datasets and possibly overwrite existing data")))},Xc=n(157),$c=n.n(Xc),Yc=function(e){var t=e.handleClose,n=e.label,r=Object(Ie.b)(),a=Object(T.useRef)(null);return M.a.createElement(T.Fragment,null,M.a.createElement(dr.a,{onClick:function(){a.current.click()}},M.a.createElement(qr.a,{variant:"contained",color:"primary",disableElevation:!0,startIcon:M.a.createElement($c.a,null)},n)),M.a.createElement("input",{ref:a,style:{display:"none"},onChange:function(e){var n=e.target.files,a=n?n[0]:null;a&&r(rc(a)),t()},type:"file",accept:".pdf"}))},eo=n(158),to=n.n(eo),no=function(e){var t=e.document,n=Object(Ie.b)();return M.a.createElement(we.a,{title:ut.constants.loadSavedDocumentTooltip,enterDelay:ut.constants.defaultEnterDelay,enterNextDelay:ut.constants.defaultEnterNextDelay},M.a.createElement(Se.a,{type:"button",onClick:function(){n(ac(t))}},M.a.createElement(to.a,{fontSize:"small"})))},ro=function(e){var t=e.document;return M.a.createElement(L.a,{container:!0,direction:"row"},M.a.createElement(L.a,{item:!0},M.a.createElement(no,{document:t})),M.a.createElement(L.a,{item:!0},M.a.createElement(hn.a,{orientation:"vertical"})),M.a.createElement(L.a,{item:!0},M.a.createElement(Gc,{document:t})))},ao=function(e){var t=e.document;return M.a.createElement(L.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:1},M.a.createElement(L.a,{item:!0},t.replace(".pdf","")),M.a.createElement(L.a,{item:!0},M.a.createElement(Jn.a,{variant:"outlined"},M.a.createElement(ro,{document:t}))))},co=function(){var e=Object(Ie.c)(Ma.selectors.getPDFName),t=cn();return M.a.createElement("span",null,e&&[M.a.createElement(On.a,{key:t(),component:"span",variant:"h6"},ut.constants.activeDocumentText),M.a.createElement(L.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:1},M.a.createElement(L.a,{item:!0},e.replace(".pdf","")),M.a.createElement(L.a,{item:!0},M.a.createElement(Jn.a,{variant:"outlined"},M.a.createElement(Gc,{document:e})))),M.a.createElement(hn.a,{key:t(),style:{marginTop:"6px"}})])},oo=function(){var e=Object(Ie.c)(Ma.selectors.getPDFName),t=Object(Ie.c)(ec.selectors.getDocumentNames).filter((function(t){return t!==e})),n=cn();return M.a.createElement("span",null,t.length>0&&[M.a.createElement(On.a,{key:n(),component:"span",variant:"h6"},ut.constants.existingDataText),M.a.createElement(On.a,{key:n(),component:"span"},M.a.createElement("ul",{style:{listStyleType:"square"}},t.map((function(e){return e?M.a.createElement("li",{key:n()},M.a.createElement(ao,{document:e,key:n()})):null})))),M.a.createElement(hn.a,{key:n(),style:{marginTop:"6px"}})])},io=function(){var e=M.a.useState(null),t=Object(Cn.a)(e,2),n=t[0],r=t[1],a=function(){r(null)};return M.a.createElement("div",null,M.a.createElement(Se.a,{type:"button",onClick:function(e){r(e.currentTarget)}},M.a.createElement(qc.a,null)),M.a.createElement(ur.a,{id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:a,MenuListProps:{style:{paddingLeft:"8px",paddingRight:"8px"}}},M.a.createElement(co,null),M.a.createElement(oo,null),M.a.createElement(Yc,{handleClose:a,label:"Load document"}),M.a.createElement(hn.a,null),M.a.createElement(dr.a,{onClick:function(){a()}},M.a.createElement(ec.components.DownloadDBDataButton,null)),M.a.createElement(hn.a,null),M.a.createElement(Zc,{handleClose:a,label:ut.constants.uploadDatasetsText})))},lo=n(160),uo=n.n(lo),so=function(){var e=Object(Ie.b)(),t=Object(Ie.c)(Br.selectors.getRiverContentFilter),n=Object(T.useState)(t),r=Object(Cn.a)(n,2),a=r[0],c=r[1];Object(T.useEffect)((function(){a!==t&&c(t)}),[t,a,c]);var o=Object(T.useState)("cards"),i=Object(Cn.a)(o,2),l=i[0],u=(i[1],function(){e(Br.actions.riverContentFilter(""))}),d=function(){e(Ma.actions.documentSearch(""))},s="cards"===l?function(t){""===t&&e(Br.actions.riverContentFilter("")),c(t)}:function(t){""===t&&e(Ma.actions.documentSearch("")),c(t)},m="cards"===l?u:d,f="cards"===l?function(){return e(Br.actions.riverContentFilter(a))}:function(){return e(Ma.actions.documentSearch(a))};return M.a.createElement(L.a,{container:!0,direction:"row",alignItems:"center",spacing:1},M.a.createElement(L.a,{item:!0},M.a.createElement(uo.a,{value:a,placeholder:"cards"===l?"Filter cards":"Search document",onChange:s,onCancelSearch:m,onRequestSearch:f,cancelOnEscape:!0})))},mo=n(161),fo=n.n(mo),po=n(162),vo=n.n(po),go=function(){var e=Object(Ie.b)(),t=Object(Ie.c)(kt.selectors.hasPast);return M.a.createElement(we.a,{title:ut.constants.undoTooltip,enterDelay:ut.constants.defaultEnterDelay,enterNextDelay:ut.constants.defaultEnterNextDelay},M.a.createElement("span",null,M.a.createElement(Se.a,{type:"button",onClick:function(){e(U.ActionCreators.undo())},disabled:!t},M.a.createElement(fo.a,null))))},bo=function(){var e=Object(Ie.b)(),t=Object(Ie.c)(kt.selectors.hasFuture);return M.a.createElement(we.a,{title:ut.constants.redoTooltip,enterDelay:ut.constants.defaultEnterDelay,enterNextDelay:ut.constants.defaultEnterNextDelay},M.a.createElement("span",null,M.a.createElement(Se.a,{type:"button",onClick:function(){e(U.ActionCreators.redo())},disabled:!t},M.a.createElement(vo.a,null))))},Eo=function(){return M.a.createElement(Jn.a,{variant:"outlined"},M.a.createElement(L.a,{container:!0,direction:"row"},M.a.createElement(L.a,{item:!0},M.a.createElement(go,null)),M.a.createElement(L.a,{item:!0},M.a.createElement(hn.a,{orientation:"vertical"})),M.a.createElement(L.a,{item:!0},M.a.createElement(bo,null))))},Oo=n(163),ho=n.n(Oo),Do=function(){var e=M.a.useState(null),t=Object(Cn.a)(e,2),n=t[0],r=t[1];return M.a.createElement("div",null,M.a.createElement(Se.a,{type:"button",onClick:function(e){r(e.currentTarget)}},M.a.createElement(ho.a,null)),M.a.createElement(ur.a,{anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:function(){r(null)},MenuListProps:{style:{paddingLeft:"8px",paddingRight:"8px"}}},M.a.createElement(On.a,{variant:"h6"},"Show:"),M.a.createElement(L.a,{container:!0,direction:"row",justify:"space-between",spacing:1},M.a.createElement(L.a,{item:!0},M.a.createElement(Jn.a,{variant:"outlined",style:{paddingLeft:"4px",paddingRight:"4px"}},M.a.createElement(Br.components.RiverContentFormGroup,null))),M.a.createElement(L.a,{item:!0},M.a.createElement(Jn.a,{variant:"outlined",style:{padding:"4px"}},M.a.createElement(L.a,{container:!0,direction:"column",spacing:1},M.a.createElement(L.a,{item:!0},M.a.createElement(Br.components.ShowRiverCheckbox,null)),M.a.createElement(L.a,{item:!0},M.a.createElement(Ma.components.ShowMaterialCheckbox,null))))))))},jo=function(){var e=Object(Ie.c)(Ma.selectors.getPDFName),t=Object(Ie.c)(Pc.selectors.getTopOffset),n=Object(T.useRef)(null),r=Object(Ie.b)();return Object(T.useLayoutEffect)((function(){if(n.current){var e=n.current.getBoundingClientRect().bottom;e!==t&&r(Pc.actions.topOffset(e))}}),[n,r,t]),M.a.createElement(Ma.components.PageKeyboardControl,null,M.a.createElement(Tc.a,{ref:n,position:"sticky"},M.a.createElement(Mc.a,{variant:"regular",disableGutters:!0},M.a.createElement(L.a,{container:!0,direction:"row",alignItems:"center",justify:"space-between"},M.a.createElement(L.a,{item:!0,xs:6},M.a.createElement(L.a,{container:!0,direction:"row",alignItems:"center",spacing:1,style:{paddingLeft:"4px"}},M.a.createElement(L.a,{item:!0,style:{maxWidth:"15%"}},M.a.createElement(Ma.components.PageChooser,null)),M.a.createElement(L.a,{item:!0},M.a.createElement(Ma.components.PageNavigation,null)),M.a.createElement(L.a,{item:!0},M.a.createElement(Eo,null)),M.a.createElement(L.a,{item:!0},M.a.createElement(Pc.components.ViewTabs,null)))),M.a.createElement(L.a,{item:!0,xs:2},M.a.createElement(L.a,{container:!0,justify:"center"},M.a.createElement(L.a,{item:!0,style:{overflowX:"auto"}},M.a.createElement(On.a,{variant:"subtitle1"},null===e||void 0===e?void 0:e.replace(".pdf",""))))),M.a.createElement(L.a,{item:!0,xs:4},M.a.createElement(L.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center"},M.a.createElement(L.a,{item:!0},M.a.createElement(so,null)),M.a.createElement(L.a,{item:!0},M.a.createElement(Do,null)),M.a.createElement(L.a,{item:!0},M.a.createElement(io,null))))))))},yo={actions:k,components:R};function Co(){return M.a.createElement("div",null,M.a.createElement(Pc.components.HTMLElementMeasurer,null),M.a.createElement(L.a,{container:!0,justify:"center",direction:"column",alignItems:"stretch",style:{height:"100%",width:"100%"}},M.a.createElement(L.a,{item:!0},M.a.createElement(yo.components.ControlBar,null)),M.a.createElement(L.a,{item:!0},M.a.createElement(Pc.components.Display,null))))}var So,Io=n(24),wo=n(72),ko=n(74),xo=n(164),No=n.n(xo),Ro=Object(ko.a)((function(e){return e}),(function(e){return t=e,Object(Q.a)(Object(Q.a)({},t),{},{pdf:null});var t}),{whitelist:[Ma.name]}),Ao={key:"root",storage:No.a,transforms:[Ro]},Po=n(165),To=[kt.actions.cardPush.type,kt.actions.cardRemove.type,kt.actions.cardReplace.type,kt.actions.cardFieldReplace.type],Mo=Object(Io.combineReducers)((So={},Object(rn.a)(So,ec.name,ec.reducer),Object(rn.a)(So,Er.name,Er.reducer),Object(rn.a)(So,Br.constants.NAME,B()(Br.reducer,{filter:Object(U.includeAction)(To)})),Object(rn.a)(So,kt.name,B()(kt.reducer,{filter:Object(U.includeAction)(To)})),Object(rn.a)(So,Ma.name,Ma.reducer),Object(rn.a)(So,Pc.name,Pc.reducer),So)),Fo=Object(ko.b)(Ao,Mo),qo=Object(Po.composeWithDevTools)({})(Object(Io.applyMiddleware)(wo.a)),Lo=Object(Io.createStore)(Fo,qo),Uo=Object(ko.c)(Lo),Bo=n(166);n(253),q.a.render(M.a.createElement(M.a.StrictMode,null,M.a.createElement(Ie.a,{store:Lo},M.a.createElement(Bo.a,{loading:null,persistor:Uo},M.a.createElement(Co,null)))),document.getElementById("root"))}},[[180,1,2]]]);
//# sourceMappingURL=main.55c1f0f3.chunk.js.map