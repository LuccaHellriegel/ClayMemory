(this.webpackJsonpclaymemory=this.webpackJsonpclaymemory||[]).push([[0],{173:function(e,t,n){e.exports=n(245)},182:function(e,t,n){},205:function(e,t){},206:function(e,t){},207:function(e,t){},208:function(e,t){},209:function(e,t){},245:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"NAME",(function(){return K}));var a={};n.r(a),n.d(a,"PDF_UPLOADED",(function(){return X})),n.d(a,"MATERIAL_LOADED",(function(){return Y})),n.d(a,"DISPLAY_STATUS",(function(){return J})),n.d(a,"PAGE_UPDATE",(function(){return $})),n.d(a,"SPAN_ORIGIN",(function(){return Z})),n.d(a,"DOCUMENT_SEARCH",(function(){return ee})),n.d(a,"WINDOW_LAYOUT",(function(){return te})),n.d(a,"TOP_OFFSET",(function(){return ne})),n.d(a,"VIEW_CHANGE",(function(){return re})),n.d(a,"LOAD_EXISTING_DOCUMENT",(function(){return ae}));var c={};n.r(c),n.d(c,"getAll",(function(){return le})),n.d(c,"getPDF",(function(){return de})),n.d(c,"getWindowMeasurements",(function(){return se})),n.d(c,"getPDFName",(function(){return fe})),n.d(c,"getTotalPages",(function(){return me})),n.d(c,"getCurrentPage",(function(){return pe})),n.d(c,"getScrollToPage",(function(){return ve})),n.d(c,"getPageControlData",(function(){return Ee})),n.d(c,"getDisplayStatus",(function(){return be})),n.d(c,"displayStatusIsShow",(function(){return Oe})),n.d(c,"getSpanOrigin",(function(){return ge})),n.d(c,"getDocumentSearch",(function(){return ye})),n.d(c,"getTopOffset",(function(){return je})),n.d(c,"getCurrentView",(function(){return De}));var o={};n.r(o),n.d(o,"widthPixels",(function(){return he})),n.d(o,"pdfUpload",(function(){return Se})),n.d(o,"materialLoaded",(function(){return Ae})),n.d(o,"setPage",(function(){return Te})),n.d(o,"movePage",(function(){return Re})),n.d(o,"nextPage",(function(){return Ie})),n.d(o,"previousPage",(function(){return Ne})),n.d(o,"pageControlDispatcher",(function(){return ke})),n.d(o,"toggleDisplayState",(function(){return xe})),n.d(o,"setSpanOrigin",(function(){return Me})),n.d(o,"resetSpanOrigin",(function(){return Pe})),n.d(o,"setDocumentSearch",(function(){return _e})),n.d(o,"resetDocumentSearch",(function(){return Le})),n.d(o,"setTopOffset",(function(){return Ue})),n.d(o,"setView",(function(){return Fe})),n.d(o,"loadExistingDocument",(function(){return He}));var i={};n.r(i),n.d(i,"switchToActiveRiverTooltip",(function(){return Ye})),n.d(i,"switchToSummaryRiverTooltip",(function(){return Je})),n.d(i,"undoTooltip",(function(){return $e})),n.d(i,"redoTooltip",(function(){return Ze})),n.d(i,"nextPageTooltip",(function(){return et})),n.d(i,"previousPageTooltip",(function(){return tt})),n.d(i,"deleteCardTooltip",(function(){return nt})),n.d(i,"jumpToOriginTooltip",(function(){return rt})),n.d(i,"ChoiceCardAsAppendGoal",(function(){return at})),n.d(i,"AppendToCardTooltip",(function(){return ct})),n.d(i,"CardIsAppendGoalTooltip",(function(){return ot})),n.d(i,"ChoiceCardAsReplaceGoal",(function(){return it})),n.d(i,"ReplaceCardTooltip",(function(){return ut})),n.d(i,"CardIsReplaceGoalTooltip",(function(){return lt})),n.d(i,"newQACardTooltip",(function(){return dt})),n.d(i,"newNoteCardTooltip",(function(){return st})),n.d(i,"deleteDocumentTooltip",(function(){return ft})),n.d(i,"loadSavedDocumentTooltip",(function(){return mt})),n.d(i,"noMaterialText",(function(){return pt})),n.d(i,"loadingMaterialText",(function(){return vt})),n.d(i,"activeDocumentText",(function(){return Et})),n.d(i,"existingDataText",(function(){return bt})),n.d(i,"loadMaterialText",(function(){return Ot})),n.d(i,"downloadDatasetsText",(function(){return gt})),n.d(i,"uploadDatasetsText",(function(){return yt})),n.d(i,"noteText",(function(){return jt})),n.d(i,"questionText",(function(){return Dt})),n.d(i,"answerText",(function(){return Ct})),n.d(i,"defaultEnterDelay",(function(){return ht})),n.d(i,"defaultEnterNextDelay",(function(){return St}));var u={};n.r(u),n.d(u,"NewNoteCardTooltip",(function(){return At})),n.d(u,"AddQAButtonTooltip",(function(){return Tt})),n.d(u,"DeleteCardButtonTooltip",(function(){return Rt}));var l={};n.r(l),n.d(l,"NAME",(function(){return Yt}));var d={};n.r(d),n.d(d,"pageNumberToRiverMakeUpID",(function(){return Zt})),n.d(d,"riverMakeUpIDToPageNumber",(function(){return en})),n.d(d,"emptyCardRiver",(function(){return tn})),n.d(d,"updateStateWithMakeUps",(function(){return nn})),n.d(d,"removeCardFromRivers",(function(){return rn}));var s={};n.r(s),n.d(s,"NAME",(function(){return an}));var f={};n.r(f),n.d(f,"CARD_REPLACE",(function(){return cn})),n.d(f,"CARD_PUSH",(function(){return on})),n.d(f,"CARD_REMOVE",(function(){return un})),n.d(f,"CARDS_REPLACE",(function(){return ln})),n.d(f,"CARDS_RESET",(function(){return dn}));var m={};n.r(m),n.d(m,"toFieldValue",(function(){return fn})),n.d(m,"createReplace",(function(){return pn})),n.d(m,"changeCardObject",(function(){return vn}));var p={};n.r(p),n.d(p,"emptyContent",(function(){return On})),n.d(p,"noteContentIsEmpty",(function(){return gn})),n.d(p,"qaContentIsNotFull",(function(){return yn})),n.d(p,"strToCardContent",(function(){return Cn})),n.d(p,"strToNewCardContent",(function(){return hn})),n.d(p,"noteContentContainsStringOrEmpty",(function(){return Sn})),n.d(p,"qaContentContainsStringOrEmpty",(function(){return An}));var v={};n.r(v),n.d(v,"cardIDToNumber",(function(){return Tn})),n.d(v,"nextCardID",(function(){return Rn})),n.d(v,"cardIsNotFull",(function(){return Nn})),n.d(v,"strToCardConfig",(function(){return wn})),n.d(v,"cardFieldToType",(function(){return xn}));var E={};n.r(E),n.d(E,"getAll",(function(){return Mn})),n.d(E,"getLastCardIDNumber",(function(){return Pn})),n.d(E,"getCards",(function(){return _n})),n.d(E,"getCardByID",(function(){return Ln}));var b={};n.r(b),n.d(b,"cardPush",(function(){return Fn})),n.d(b,"emptyNoteCard",(function(){return Hn})),n.d(b,"emptyQACard",(function(){return Vn})),n.d(b,"cardReplace",(function(){return Bn})),n.d(b,"replaceCardFieldContent",(function(){return qn})),n.d(b,"removeCard",(function(){return Gn})),n.d(b,"resetCards",(function(){return Wn})),n.d(b,"replaceCards",(function(){return Qn}));var O={};n.r(O),n.d(O,"AddNoteButton",(function(){return Xn})),n.d(O,"AddQAButton",(function(){return $n})),n.d(O,"DeleteCardButton",(function(){return tr}));var g={};n.r(g),n.d(g,"emptyOrigin",(function(){return ar})),n.d(g,"singleOriginToCardOrigin",(function(){return cr}));var y={};n.r(y),n.d(y,"config",(function(){return v})),n.d(y,"origin",(function(){return g})),n.d(y,"permutation",(function(){return m})),n.d(y,"content",(function(){return p}));var j={};n.r(j),n.d(j,"NAME",(function(){return ur}));var D={};n.r(D),n.d(D,"ARCHIVE_CURRENT_DATA",(function(){return lr})),n.d(D,"LOAD_DOCUMENT_DATA_SETS",(function(){return dr})),n.d(D,"DELETE_DOCUMENT_DATA_SET",(function(){return sr}));var C={};n.r(C),n.d(C,"archiveDBData",(function(){return fr})),n.d(C,"loadDocumentDataSets",(function(){return mr})),n.d(C,"deleteDocumentDataSet",(function(){return pr}));var h={};n.r(h),n.d(h,"getAll",(function(){return jr})),n.d(h,"getDocumentNames",(function(){return Dr})),n.d(h,"getDocumentDataSets",(function(){return Cr}));var S={};n.r(S),n.d(S,"getAll",(function(){return Tr})),n.d(S,"getRiverMakeUps",(function(){return Rr})),n.d(S,"getNonEmptyRiverIDs",(function(){return Ir})),n.d(S,"getNonEmptyRiverIDsSorted",(function(){return Nr})),n.d(S,"getNonEmptyRiverMakeUpsSorted",(function(){return wr})),n.d(S,"getNonEmptyRiverCardsSorted",(function(){return kr})),n.d(S,"getActiveRiverMakeUpID",(function(){return xr})),n.d(S,"getActiveRiverMakeUp",(function(){return Mr})),n.d(S,"getActiveRiverCardIDs",(function(){return Pr})),n.d(S,"getActiveRiverCards",(function(){return _r})),n.d(S,"getRiverShowState",(function(){return Lr})),n.d(S,"riverShowStateIsShow",(function(){return Ur})),n.d(S,"getRiverContentState",(function(){return Fr})),n.d(S,"getRiverContentFilter",(function(){return Hr})),n.d(S,"getOriginRequest",(function(){return Vr}));var A={};n.r(A),n.d(A,"toggleRiverShowState",(function(){return Xr})),n.d(A,"setRiverContentState",(function(){return Yr})),n.d(A,"setActiveRiver",(function(){return Jr})),n.d(A,"trySetActiveRiver",(function(){return $r})),n.d(A,"setContentFilter",(function(){return Zr})),n.d(A,"resetContentFilter",(function(){return ea})),n.d(A,"setOriginRequest",(function(){return ta})),n.d(A,"resetOriginRequest",(function(){return na})),n.d(A,"resetRivers",(function(){return ra})),n.d(A,"replaceRivers",(function(){return aa}));var T={};n.r(T),n.d(T,"NAME",(function(){return pa}));var R={};n.r(R),n.d(R,"SELECTION_SOURCE",(function(){return va})),n.d(R,"SELECTION_GOAL",(function(){return Ea}));var I={};n.r(I),n.d(I,"getAll",(function(){return ba})),n.d(I,"getGoalConfig",(function(){return Oa})),n.d(I,"getSourceConfig",(function(){return ga})),n.d(I,"sourceConfigExists",(function(){return ya}));var N={};n.r(N),n.d(N,"selectionToCard",(function(){return ja}));var w={};n.r(w),n.d(w,"resetSelectionSource",(function(){return ha})),n.d(w,"resetSelectionGoal",(function(){return Sa})),n.d(w,"addSelectionSource",(function(){return Aa})),n.d(w,"addMaterialSelectionSource",(function(){return Ta})),n.d(w,"addCardSelectionSource",(function(){return Ra})),n.d(w,"addSelectionGoal",(function(){return Ia})),n.d(w,"addCardAppendSelectionGoal",(function(){return Na})),n.d(w,"addCardReplaceSelectionGoal",(function(){return wa}));var k={};n.r(k),n.d(k,"SelectionSnackbar",(function(){return _a})),n.d(k,"MaterialMouseUp",(function(){return La})),n.d(k,"CardFieldMouseUp",(function(){return Ua})),n.d(k,"AppendButton",(function(){return qa})),n.d(k,"ContextMenu",(function(){return Qa})),n.d(k,"ReplaceButton",(function(){return Ja}));var x={};n.r(x),n.d(x,"getSelectionWorkaround",(function(){return Da})),n.d(x,"use_selection",(function(){return N}));var M={};n.r(M),n.d(M,"RiverContentFormGroup",(function(){return la})),n.d(M,"CardRiver",(function(){return fc})),n.d(M,"SwitchActiveRiver",(function(){return mc})),n.d(M,"ClayCard",(function(){return ic}));var P={};n.r(P),n.d(P,"filterCardConfigs",(function(){return sc}));var _={};n.r(_),n.d(_,"PageChooser",(function(){return Ht})),n.d(_,"PageNavigation",(function(){return kt})),n.d(_,"PageKeyboardControl",(function(){return Vt})),n.d(_,"HTMLElementMeasurer",(function(){return qt})),n.d(_,"Display",(function(){return Mc})),n.d(_,"ViewTabs",(function(){return Lc}));var L={};n.r(L),n.d(L,"NAME",(function(){return Bc}));var U={};n.r(U),n.d(U,"collectCurrentDBData",(function(){return qc})),n.d(U,"getAll",(function(){return Gc})),n.d(U,"getLastUndoableActionComb",(function(){return Wc})),n.d(U,"getLastRedoableActionComb",(function(){return Qc}));var F={};n.r(F),n.d(F,"archiveCurrentDBData",(function(){return Yc})),n.d(F,"downloadDBData",(function(){return $c})),n.d(F,"undoActionHistory",(function(){return Zc})),n.d(F,"redoActionHistory",(function(){return eo})),n.d(F,"removeActionHistory",(function(){return to})),n.d(F,"resetActiveAppState",(function(){return no})),n.d(F,"replaceActiveAppState",(function(){return ro})),n.d(F,"loadPDF",(function(){return ao})),n.d(F,"loadSavedDocument",(function(){return co})),n.d(F,"deleteDocument",(function(){return oo}));var H={};n.r(H),n.d(H,"ControlBar",(function(){return Jo}));var V={};n.r(V),n.d(V,"selectionActions",(function(){return $o})),n.d(V,"riverActions",(function(){return Zo})),n.d(V,"cardActions",(function(){return ei})),n.d(V,"dbActions",(function(){return ti})),n.d(V,"undoableActions",(function(){return ni})),n.d(V,"undoRedoActionShield",(function(){return ri})),n.d(V,"selectionShield",(function(){return ai})),n.d(V,"cardsShield",(function(){return ci})),n.d(V,"riverShield",(function(){return oi})),n.d(V,"dbShield",(function(){return ii}));var B,q=n(0),G=n.n(q),W=n(16),Q=n.n(W),z=n(282),K="displayData",X=K+"/PDF_UPLOADED",Y=K+"/MATERIAL_LOADED",J=K+"/DISPLAY_STATUS",$=K+"/PAGE_UPDATE",Z=K+"/SPAN_ORIGIN",ee=K+"/DOCUMENT_SEARCH",te=K+"/WINDOW_LAYOUT",ne=K+"/TOP_OFFSET",re=K+"/VIEW_CHANGE",ae=K+"/LOAD_EXISTING_DOCUMENT";!function(e){e[e.RiverMaterial=0]="RiverMaterial",e[e.RiverExplorer=1]="RiverExplorer",e[e.CardExplorer=2]="CardExplorer"}(B||(B={}));var ce,oe=function(e,t){return e===t+1?1:e},ie=function(e,t){return 0===e?t:e},ue=n(10),le=function(e){return e[K]},de=Object(ue.a)(le,(function(e){return e.pdf})),se=Object(ue.a)(le,(function(e){return e.windowMeasurements})),fe=Object(ue.a)(le,(function(e){return e.pdfName})),me=Object(ue.a)(le,(function(e){return e.totalPages})),pe=Object(ue.a)(le,(function(e){return e.currentPage})),ve=Object(ue.a)(le,(function(e){return e.scrollToPage})),Ee=Object(ue.a)(me,pe,(function(e,t){return{currentPage:t,totalPages:e}})),be=Object(ue.a)(le,(function(e){return e.displayStatus})),Oe=Object(ue.a)(be,(function(e){return"SHOW"===e})),ge=Object(ue.a)(le,(function(e){return e.spanOrigin})),ye=Object(ue.a)(le,(function(e){return e.documentSearch})),je=Object(ue.a)(le,(function(e){return e.topOffset})),De=Object(ue.a)(le,(function(e){return e.currentView})),Ce=function(){var e=0;return function(){var t=e;return e++,t}},he=function(e){return{type:te,payload:e}},Se=function(e){return{type:X,payload:e}},Ae=function(e){return{type:Y,payload:e}},Te=function(e,t){return{type:$,payload:{page:e,shouldScroll:t}}},Re=function(e){return function(t,n){var r=Ee(n()),a=r.currentPage,c=r.totalPages;switch(e){case"NEXT":t(Te(oe(a+1,c),!0));break;case"PREVIOUS":t(Te(ie(a-1,c),!0))}}},Ie=function(){return Re("NEXT")},Ne=function(){return Re("PREVIOUS")},we={ArrowLeft:Ne(),ArrowRight:Ie()},ke=(ce=we,function(e,t){var n=ce[e.key];n&&(e.preventDefault(),t(n))}),xe=function(){return function(e,t){var n="SHOW"===be(t())?"HIDE":"SHOW";e({type:J,payload:n})}},Me=function(e){return{type:Z,payload:e}},Pe=function(){return Me(null)},_e=function(e){return{type:ee,payload:e}},Le=function(){return _e("")},Ue=function(e){return{type:ne,payload:e}},Fe=function(e){return{type:re,payload:e}},He=function(e){return{type:ae,payload:e}},Ve=n(5),Be=n(301),qe=n(108),Ge=n(281),We=n(283),Qe=n(136),ze=n.n(Qe),Ke=n(135),Xe=n.n(Ke),Ye="Switch to the Active-River view",Je="Switch to the Summary-River view",$e="Undo last action",Ze="Redo last action",et="Next page",tt="Previous page",nt="Delete this card",rt="Jump to the origin of the card content",at="Mark this card field as the goal of the next selection",ct="Add the current selection to this card field",ot="The next selection will be added to this card field (click to unselect)",it="Mark this card field to be replaced by the next selection",ut="Replace this card field with the current selection",lt="The next selection will replace this card field (click to unselect)",dt="Create new QA-card",st="Create new Note-card",ft="Delete this document and all its corresponding cards",mt="Load the card data of this document",pt="No PDF file specified.",vt="Loading PDF\u2026",Et="Active Document:",bt="Inactive documents with existing data:",Ot="Load document",gt="Download document datasets",yt="Upload document datasets",jt="Note",Dt="Question",Ct="Answer",ht=500,St=1e3,At=function(e){var t=e.children;return G.a.createElement(Be.a,{title:st,enterDelay:ht,enterNextDelay:St},t)},Tt=function(e){var t=e.children;return G.a.createElement(Be.a,{title:dt,enterDelay:ht,enterNextDelay:St},t)},Rt=function(e){var t=e.children;return G.a.createElement(Be.a,{title:nt,enterDelay:ht,enterNextDelay:St},t)},It={components:u,constants:i},Nt=function(){var e=Object(Ve.b)();return G.a.createElement(Be.a,{title:It.constants.previousPageTooltip,enterDelay:It.constants.defaultEnterDelay,enterNextDelay:It.constants.defaultEnterNextDelay},G.a.createElement(qe.a,{type:"button",onClick:function(){e(Ne())}},G.a.createElement(Xe.a,null)))},wt=function(){var e=Object(Ve.b)();return G.a.createElement(Be.a,{title:It.constants.nextPageTooltip,enterDelay:It.constants.defaultEnterDelay,enterNextDelay:It.constants.defaultEnterNextDelay},G.a.createElement(qe.a,{type:"button",onClick:function(){e(Ie())}},G.a.createElement(ze.a,null)))},kt=function(){return G.a.createElement(Ge.a,{variant:"outlined"},G.a.createElement(z.a,{container:!0,direction:"row"},G.a.createElement(z.a,{item:!0},G.a.createElement(Nt,null)),G.a.createElement(z.a,{item:!0},G.a.createElement(We.a,{orientation:"vertical"})),G.a.createElement(z.a,{item:!0},G.a.createElement(wt,null))))},xt=n(6),Mt=n(20),Pt=n(296),_t=n(111),Lt=/(\D)/,Ut=function(e){var t=e.totalPages,n=Object(Ve.b)(),r=Object(Ve.c)(pe),a=Object(q.useState)({error:!1,value:null===r||void 0===r?void 0:r.toString(),userInput:null===r||void 0===r?void 0:r.toString()}),c=Object(Mt.a)(a,2),o=c[0],i=c[1];return o.value!==r.toString()&&i({error:!1,value:r.toString(),userInput:r.toString()}),G.a.createElement(Pt.a,{inputProps:{style:{padding:"0px",fontSize:"1.25rem",fontFamily:'"Roboto", "Helvetica", "Arial", sansSerif',fontWeight:500,lineHeight:1.6,letterSpacing:"0.0075em"}},type:"text",variant:"filled",value:o.userInput,onKeyDown:function(e){if("Enter"===e.key){e.preventDefault();var t=e.target.value;o.error||n(Te(parseInt(t),!0))}},onChange:function(e){var n=e.target.value;!function(e,t){if(""===e||null!==e.trim().match(Lt))return!1;var n=parseInt(e);return!(n<1||t<n)}(n,t)?i(Object(xt.a)(Object(xt.a)({},o),{},{error:!0,userInput:n})):i(Object(xt.a)(Object(xt.a)({},o),{},{error:!1,userInput:n}))},error:o.error})},Ft=function(e){var t=e.totalPages;return G.a.createElement(_t.a,{variant:"h6"},"of ",t)},Ht=function(){var e=Object(Ve.c)(me);return G.a.createElement(Ge.a,{variant:"outlined"},G.a.createElement(z.a,{item:!0},G.a.createElement(z.a,{container:!0,direction:"row",alignItems:"center",justify:"space-between"},G.a.createElement(z.a,{item:!0,style:{width:"37%"}},G.a.createElement(Ut,{totalPages:e})),G.a.createElement(z.a,{item:!0,style:{width:"61%"}},G.a.createElement(Ft,{totalPages:e})))))},Vt=function(e){var t=e.children,n=Object(Ve.b)(),r=Object(q.useRef)(null);return G.a.createElement("span",{ref:r,onKeyDown:function(e){ke(e,n)},tabIndex:0},t)},Bt=n(137),qt=function(){var e=Object(Ve.b)(),t=Object(Bt.debounce)(50,(function(){var t=document.documentElement,n=t.clientWidth,r=t.clientHeight;e(he({width:n,height:r}))}));return Object(q.useLayoutEffect)((function(){t()}),[t]),Object(q.useEffect)((function(){return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}})),null},Gt=n(302),Wt=n(284),Qt=function(){var e=Object(q.useState)(!1),t=Object(Mt.a)(e,2),n=t[0],r=t[1],a=Object(Ve.c)(ge),c=Object(Ve.b)();!a&&n&&r(!1),a&&!n&&r(!0);var o=function(){r(!1),c(Pe())},i=function(e){!n||"Escape"!==e.key&&"Esc"!==e.key||o()};return Object(q.useEffect)((function(){return document.addEventListener("keydown",i),function(){document.removeEventListener("keydown",i)}})),G.a.createElement(Gt.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:n,onClose:function(e,t){"clickaway"===t?e.preventDefault():(r(!1),c(Pe()))},message:"Origin is marked",action:G.a.createElement(Wt.a,{color:"secondary",size:"small",onClick:o},"UNMARK")})},zt=(n(182),n(183),n(65)),Kt=n(50),Xt=n(162),Yt="cardRiverState",Jt=n(285),$t=n(286),Zt=function(e){return"CardRiver "+e},en=function(e){return parseInt(e.replace("CardRiver ",""))},tn=function(e){return{riverID:Zt(e),cardIDs:[]}},nn=function(e){for(var t=Object(xt.a)({},e),n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach((function(e){t.riverMakeUps[e.riverID]=e})),t},rn=function(e,t){var n=Object.fromEntries(Object.entries(e.riverMakeUps).map((function(e){return[e[0],Object(xt.a)(Object(xt.a)({},e[1]),{},{cardIDs:e[1].cardIDs.filter((function(e){return e!==t}))})]})).filter((function(e){return 0!==e[1].cardIDs.length})));return Object(xt.a)(Object(xt.a)({},e),{},{riverMakeUps:n})},an="cards",cn=an+"/CARD_REPLACE",on=an+"/CARD_PUSH",un=an+"/CARD_REMOVE",ln=an+"/CARDS_REPLACE",dn=an+"/CARDS_RESET",sn={note:function(e){return e},q:function(e){return e.q},a:function(e){return e.a}},fn=function(e,t){return sn[e](t)},mn={note:function(e,t){return t(e)},q:function(e,t){return Object(xt.a)(Object(xt.a)({},e),{},{q:t(e.q)})},a:function(e,t){return Object(xt.a)(Object(xt.a)({},e),{},{a:t(e.a)})}},pn=function(e){return function(t){return e}},vn=function(e){var t=fn(e.inputField,e.inputObject),n=e.createModify(t);return function(e,t,n){return mn[e](t,n)}(e.fieldToBeChanged,e.objectToBeChanged,n)},En=function(){return{q:"",a:""}},bn={q:En,a:En,note:function(){return""}},On=function(e){return bn[e]()},gn=function(e){return""===e},yn=function(e){return""===e.q||""===e.a},jn={APPEND:function(e){return function(t){return(t+" "+e).trim()}},REPLACE:pn},Dn=function(e){return jn[e]},Cn=function(e,t,n,r){var a={inputObject:e,inputField:"note",fieldToBeChanged:t,objectToBeChanged:r,createModify:Dn(n)};return vn(a)},hn=function(e,t){var n=On(t);return Cn(e,t,"REPLACE",n)},Sn=function(e,t){return""===e.content||e.content.includes(t)},An=function(e,t){return""===e.content.a||""===e.content.q||e.content.a.includes(t)||e.content.q.includes(t)},Tn=function(e){return parseInt(e)},Rn=function(e){return(e+1).toString()},In={Note:function(e){return gn(e.content)},"Q-A":function(e){return yn(e.content)}},Nn=function(e){return In[e.type](e)},wn=function(e,t,n,r){var a=Cn(e,t,n,r.content);return Object(xt.a)(Object(xt.a)({},r),{},{content:a})},kn={q:"Q-A",a:"Q-A",note:"Note"},xn=function(e){return kn[e]},Mn=function(e){return e[an].present},Pn=Object(ue.a)(Mn,(function(e){return e.lastCardIDNumber})),_n=Object(ue.a)(Mn,(function(e){return e.cards})),Ln=function(e,t){return _n(e)[t]},Un=n(93),Fn=function(e){return function(t,n){var r,a;t({type:on,payload:(r=e,a=n(),Object(xt.a)(Object(xt.a)({},r),{},{cardID:Rn(Pn(a))}))})}},Hn=function(){return Fn({type:"Note",content:""})},Vn=function(){return Fn({type:"Q-A",content:{q:"",a:""}})},Bn=function(e){return{type:cn,payload:e}},qn=function(e,t,n){return Bn(wn(n,e,"REPLACE",t))},Gn=function(e){return{type:un,payload:e}},Wn=Object(Un.a)(dn),Qn=function(e){return{type:ln,payload:e}},zn=n(139),Kn=n.n(zn),Xn=function(){var e=Object(Ve.b)();return G.a.createElement(It.components.NewNoteCardTooltip,null,G.a.createElement(qe.a,{type:"button",onClick:function(){e(Hn())}},G.a.createElement(Kn.a,null)))},Yn=n(140),Jn=n.n(Yn),$n=function(){var e=Object(Ve.b)();return G.a.createElement(It.components.AddQAButtonTooltip,null,G.a.createElement(qe.a,{type:"button",onClick:function(){e(Vn())}},G.a.createElement(Jn.a,null)))},Zn=n(141),er=n.n(Zn),tr=function(e){var t=e.cardID,n=Object(Ve.b)();return G.a.createElement(It.components.DeleteCardButtonTooltip,null,G.a.createElement(qe.a,{type:"button",onClick:function(){n(Gn(t))}},G.a.createElement(er.a,{fontSize:"small"})))},nr=function(){return{q:{},a:{}}},rr={q:nr,a:nr,note:function(){return""}},ar=function(e){return rr[e]()},cr=function(e,t,n){var r={inputObject:e,inputField:"note",fieldToBeChanged:t,objectToBeChanged:n||ar(t),createModify:pn};return vn(r)},or=function(e,t){var n=Object(xt.a)({},e.cards);return delete n[t],Object(xt.a)(Object(xt.a)({},e),{},{cards:n})},ir=function(e,t){var n=Object(xt.a)({},e);return n[t.cardID]=t,n},ur="documentDB",lr=ur+"/ARCHIVE_CURRENT_DATA",dr=ur+"/LOAD_DOCUMENT_DATA_SETS",sr=ur+"/DELETE_DOCUMENT_DATA_SET",fr=function(e){return{type:lr,payload:e}},mr=function(e,t){return{type:dr,payload:{dbData:e,newActiveDataSet:t}}},pr=function(e){return{type:sr,payload:e}},vr=n(35),Er=function(e,t){return Object(xt.a)(Object(xt.a)({},e),{},Object(vr.a)({},t.name,t))},br=function(e,t){return Object(xt.a)(Object(xt.a)({},e),t.reduce((function(e,t){return e[t.name]=t,e}),{}))},Or=function(e,t){return Object.fromEntries(Object.entries(e).filter((function(e){return e[0]!==t})))},gr={},yr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case lr:return Er(e,r);case dr:return br(e,r.dbData);case sr:return Or(e,r);default:return e}},jr=function(e){return e[ur].present},Dr=Object(ue.a)(jr,(function(e){return Object.keys(e)})),Cr=Object(ue.a)(jr,(function(e){return Object.values(e)})),hr={actions:C,actionTypes:D,constants:j,reducer:yr,selectors:h},Sr={cards:{},lastCardIDNumber:0},Ar={constants:s,actionTypes:f,actions:b,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case on:var a=Tn(r.cardID)+1;return Object(xt.a)(Object(xt.a)({},e),{},{cards:ir(e.cards,r),lastCardIDNumber:a});case cn:return Object(xt.a)(Object(xt.a)({},e),{},{cards:ir(e.cards,r)});case un:return or(e,r);case ln:return r;case dn:return Sr;case hr.actionTypes.LOAD_DOCUMENT_DATA_SETS:return r.newActiveDataSet?Object(xt.a)(Object(xt.a)({},Sr),{},{cards:r.cards,lastCardIDNumber:r.lastCardIDNumber}):e;default:return e}},selectors:E,components:O,model:y},Tr=function(e){return e[Yt].present},Rr=Object(ue.a)(Tr,(function(e){return e.riverMakeUps})),Ir=Object(ue.a)(Rr,(function(e){return Object.keys(e)})),Nr=Object(ue.a)(Ir,(function(e){return e.sort((function(e,t){return en(e)-en(t)}))})),wr=Object(ue.a)(Rr,(function(e){return Object.values(e).sort((function(e,t){return en(e.riverID)-en(t.riverID)}))})),kr=Object(ue.a)(wr,Ar.selectors.getCards,(function(e,t){var n,r=[],a=Object(Kt.a)(e);try{for(a.s();!(n=a.n()).done;){var c,o=n.value,i=Object(Kt.a)(o.cardIDs);try{for(i.s();!(c=i.n()).done;){var u=c.value;r.push(t[u])}}catch(l){i.e(l)}finally{i.f()}}}catch(l){a.e(l)}finally{a.f()}return r})),xr=Object(ue.a)(Tr,(function(e){return e.activeRiverMakeUpID})),Mr=Object(ue.a)(Rr,xr,(function(e,t){var n=e[t];return n||{cardIDs:[]}})),Pr=Object(ue.a)(Mr,(function(e){return e.cardIDs})),_r=Object(ue.a)(Pr,Ar.selectors.getCards,(function(e,t){return e.map((function(e){return t[e]}))})),Lr=Object(ue.a)(Tr,(function(e){return e.riverShowState})),Ur=Object(ue.a)(Lr,(function(e){return"SHOW"===e})),Fr=Object(ue.a)(Tr,(function(e){return e.riverContentState})),Hr=Object(ue.a)(Tr,(function(e){return e.contentFilter})),Vr=Object(ue.a)(Tr,(function(e){return e.requestedOrigin})),Br=Yt+"/RIVER_ACTIVE_ID",qr=Yt+"/RIVER_SHOW_STATE",Gr=Yt+"/RIVER_CONTENT_STATE",Wr=Yt+"/RIVER_CONTENT_FILTER",Qr=Yt+"/ORIGIN_REQUEST",zr=Yt+"/RIVER_RESET",Kr=Yt+"/RIVER_REPLACE",Xr=function(){return function(e,t){e({type:qr,payload:Ur(t())?"HIDE":"SHOW"})}},Yr=function(e){return{type:Gr,payload:e}},Jr=function(e){return{type:Br,payload:e}},$r=function(e){return function(t,n){xr(n())!==e&&t(Jr(e))}},Zr=function(e){return{type:Wr,payload:e}},ea=function(){return{type:Wr,payload:""}},ta=function(e){return{type:Qr,payload:e}},na=function(){return ta(null)},ra=Object(Un.a)(zr),aa=function(e){return{type:Kr,payload:e}},ca=n(8),oa=n(298),ia=n(94),ua=Object(ca.a)({root:{color:ia.a[400],"&$checked":{color:ia.a[600]}},checked:{}})((function(e){return G.a.createElement(oa.a,Object.assign({color:"default"},e))})),la=function(){var e=Object(Ve.c)(Fr),t=Object(Ve.b)(),n="ALL"===e||"QAS"===e,r="ALL"===e||"NOTES"===e,a=function(e){n||"QAS"!==e?r||"NOTES"!==e?n&&"QAS"===e?t(Yr(r?"NOTES":"NONE")):r&&"NOTES"===e&&t(Yr(n?"QAS":"NONE")):t(Yr(n?"ALL":"NOTES")):t(Yr(r?"ALL":"QAS"))};return G.a.createElement(Jt.a,null,G.a.createElement($t.a,{control:G.a.createElement(ua,{checked:n,onClick:function(){a("QAS")}}),label:"QAs"}),G.a.createElement($t.a,{control:G.a.createElement(ua,{checked:r,onClick:function(){a("NOTES")}}),label:"Notes"}))},da=n(300),sa=n(287),fa=n(288),ma=n(163),pa="selectionData",va=pa+"/SELECTION_SOURCE",Ea=pa+"/SELECTION_GOAL",ba=function(e){return e[pa].present},Oa=Object(ue.a)(ba,(function(e){return e.goalConfig})),ga=Object(ue.a)(ba,(function(e){return e.sourceConfig})),ya=Object(ue.a)(ga,(function(e){return!!e})),ja=function(e,t,n,r){if(function(e){return!!!e.cardID}(t)){var a=function(e,t){var n=e.contentOrigin,r=e.contentStr,a=t.cardField;return{type:Ar.model.config.cardFieldToType(a),content:Ar.model.content.strToNewCardContent(r,a),origin:n?Ar.model.origin.singleOriginToCardOrigin(n,a):void 0}}(e,t);n(Ar.actions.cardPush(a))}else{var c=function(e,t,n){var r=Ar.selectors.getCardByID(n,t.cardID),a=e.contentOrigin,c=e.contentStr,o=t.cardField;return Object(xt.a)(Object(xt.a)({},r),{},{content:Ar.model.content.strToCardContent(c,o,t.updateType,r.content),origin:a?Ar.model.origin.singleOriginToCardOrigin(a,o,r.origin):r.origin})}(e,t,r);n(Ar.actions.cardReplace(c))}},Da=function(){var e=window.getSelection();if(!e)return null;try{var t=document.activeElement;if(t&&t.value){var n=t.value.substring(t.selectionStart,t.selectionEnd);return""===n?null:{text:n,selection:e}}var r=e.toString();return""===r?null:{text:r,selection:e}}catch(a){return null}},Ca=function(e){var t=Da();return!!t&&function(e,t){var n,r,a=e.selection,c=null===(n=a.anchorNode)||void 0===n?void 0:n.parentNode,o=null===(r=a.focusNode)||void 0===r?void 0:r.parentNode;if(!c||!o)return!1;if("MARK"===c.nodeName&&!(c=c.parentNode))return!1;if("MARK"===o.nodeName&&!(o=o.parentNode))return!1;if("SPAN"!==c.nodeName||"SPAN"!==o.nodeName)return!1;var i=c.parentNode;if(!i||"DIV"!==i.nodeName)return!1;var u=Array.from(i.childNodes);if(0===u.length)return!1;var l=u.indexOf(c),d=u.indexOf(o);return-1!==l&&-1!==d&&{contentStr:e.text,contentOrigin:{spanIndexStart:l,spanIndexEnd:d,page:t}}}(t,e)},ha=function(){return{type:va,payload:null}},Sa=function(){return{type:Ea,payload:null}},Aa=function(e){return function(t,n){var r=n(),a=Oa(r);a?(ja(e,a,t,r),t(Sa())):t(function(e){return{type:va,payload:e}}(e))}},Ta=function(e){var t=Ca(e);return!!t&&Aa(t)},Ra=function(e){var t=function(e){var t=Da();return!!t&&{contentStr:t.text,contentOrigin:e}}(e);return!!t&&Aa(t)},Ia=function(e){return function(t,n){var r=n(),a=ga(r);a?(ja(a,e,t,r),t(ha())):t(function(e){return{type:Ea,payload:e}}(e))}},Na=function(e,t){return Ia({cardID:e,cardField:t,updateType:"APPEND"})},wa=function(e,t){return Ia({cardID:e,cardField:t,updateType:"REPLACE"})},ka={sourceConfig:null,goalConfig:null},xa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ka,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case va:return Object(xt.a)(Object(xt.a)({},e),{},{sourceConfig:r});case Ea:return Object(xt.a)(Object(xt.a)({},e),{},{goalConfig:r});default:return e}},Ma=n(142),Pa=n.n(Ma),_a=function(){var e=Object(q.useState)(!1),t=Object(Mt.a)(e,2),n=t[0],r=t[1],a=Object(Ve.b)(),c=Object(Ve.c)(ga);!c&&n&&r(!1),c&&!n&&r(!0);var o=function(){r(!1),a(ha())},i=function(e){!n||"Escape"!==e.key&&"Esc"!==e.key||o()};return Object(q.useEffect)((function(){return document.addEventListener("keydown",i),function(){document.removeEventListener("keydown",i)}})),G.a.createElement(Gt.a,{style:{maxWidth:"400px",overflowX:"auto"},anchorOrigin:{vertical:"top",horizontal:"center"},open:n,onClose:function(e,t){"clickaway"===t?e.preventDefault():(r(!1),a(ha()))},message:G.a.createElement(z.a,{container:!0,direction:"row",spacing:1},G.a.createElement(z.a,{item:!0},G.a.createElement(Ge.a,{variant:"outlined",color:"secondary",style:{padding:"4px",color:"white",backgroundColor:"#3f51b5",maxWidth:"400px",overflowX:"auto"},square:!0},G.a.createElement(_t.a,{variant:"h4"},"Selection:")),G.a.createElement(Ge.a,{variant:"outlined",style:{padding:"4px",color:"black",backgroundColor:"white"},square:!0},G.a.createElement(_t.a,{variant:"body1"},null===c||void 0===c?void 0:c.contentStr))),(null===c||void 0===c?void 0:c.contentOrigin)&&G.a.createElement(z.a,{item:!0},G.a.createElement(Ge.a,{variant:"outlined",color:"secondary",style:{padding:"4px",color:"black",backgroundColor:"white"},square:!0},G.a.createElement(_t.a,{variant:"h4"},"Origin:")),G.a.createElement(Ge.a,{variant:"outlined",style:{padding:"4px",color:"white",backgroundColor:"#3f51b5"},square:!0},G.a.createElement(_t.a,{variant:"body1"},"Page ",c.contentOrigin.page)))),action:G.a.createElement(qe.a,{size:"small","aria-label":"close",color:"inherit",onClick:o},G.a.createElement(Pa.a,{fontSize:"small"}))})},La=function(e){var t=e.children,n=e.page,r=Object(Ve.b)();return G.a.createElement("span",{onMouseUp:function(){var e=Ta(n);e&&r(e)},onMouseDown:function(e){var t;0===e.button&&(null===(t=window.getSelection())||void 0===t||t.empty())}},t)},Ua=function(e){var t=e.children,n=e.fieldOrigin,r=Object(Ve.b)();return G.a.createElement("span",{onMouseUp:function(){var e=Ra(n);e&&r(e)}},t)},Fa=n(144),Ha=n.n(Fa),Va=n(143),Ba=n.n(Va),qa=function(e){var t=e.cardField,n=e.cardID,r=Object(Ve.b)(),a=Object(Ve.c)(ga),c=Object(Ve.c)(Oa),o=Object(q.useState)(!1),i=Object(Mt.a)(o,2),u=i[0],l=i[1],d=!!c&&!!c.cardID&&c.cardID===n&&c.cardField===t&&"APPEND"===c.updateType;return d?u||l(!0):u&&l(!1),G.a.createElement(Be.a,{title:d?It.constants.CardIsAppendGoalTooltip:a?It.constants.AppendToCardTooltip:It.constants.ChoiceCardAsAppendGoal,enterDelay:It.constants.defaultEnterDelay,enterNextDelay:It.constants.defaultEnterNextDelay},G.a.createElement(qe.a,{type:"button",onClick:function(){u||c?d&&r(Sa()):r(Na(n,t))}},u?G.a.createElement(Ba.a,{fontSize:"small"}):G.a.createElement(Ha.a,{fontSize:"small"})))},Ga=n(161),Wa=n(304),Qa=function(){var e=Object(q.useState)(void 0),t=Object(Mt.a)(e,2),n=t[0],r=t[1],a=Object(q.useRef)(null),c=Object(q.useCallback)((function(e){!function(e,t){var n,r,a=t.target;return!!(null===(n=e.current)||void 0===n||null===(r=n.querySelector("div.MuiPaper-root"))||void 0===r?void 0:r.contains(a))}(a,e)&&r(void 0)}),[a,r]);Object(q.useEffect)((function(){return document.addEventListener("mousedown",c),function(){document.removeEventListener("mousedown",c)}}),[c]);var o=Object(Ve.c)(ya),i=Object(q.useCallback)((function(e){o&&(e.preventDefault(),r({left:e.x,top:e.y}))}),[o,r]);Object(q.useEffect)((function(){return document.addEventListener("contextmenu",i),function(){document.removeEventListener("contextmenu",i)}}),[i]);var u=!!n,l=Object(Ve.b)();return G.a.createElement(Ga.a,{ref:a,keepMounted:!0,open:u,anchorReference:"anchorPosition",anchorPosition:n},G.a.createElement(Wa.a,{onClick:function(){l(Ia({cardField:"note",updateType:"REPLACE"})),r(void 0)}},"New: Note"),G.a.createElement(We.a,null),G.a.createElement(Wa.a,{onClick:function(){l(Ia({cardField:"q",updateType:"REPLACE"})),r(void 0)}},"New: Q (Q-A)"),G.a.createElement(Wa.a,{onClick:function(){l(Ia({cardField:"a",updateType:"REPLACE"})),r(void 0)}},"New: A (Q-A)"))},za=n(145),Ka=n.n(za),Xa=n(146),Ya=n.n(Xa),Ja=function(e){var t=e.cardField,n=e.cardID,r=Object(Ve.b)(),a=Object(Ve.c)(ga),c=Object(Ve.c)(Oa),o=Object(q.useState)(!1),i=Object(Mt.a)(o,2),u=i[0],l=i[1],d=!!c&&!!c.cardID&&c.cardID===n&&c.cardField===t&&"REPLACE"===c.updateType;return d?u||l(!0):u&&l(!1),G.a.createElement(Be.a,{title:d?It.constants.CardIsReplaceGoalTooltip:a?It.constants.ReplaceCardTooltip:It.constants.ChoiceCardAsReplaceGoal,enterDelay:It.constants.defaultEnterDelay,enterNextDelay:It.constants.defaultEnterNextDelay},G.a.createElement(qe.a,{type:"button",onClick:function(){u||c?d&&r(Sa()):r(wa(n,t))}},u?G.a.createElement(Ka.a,{fontSize:"small"}):G.a.createElement(Ya.a,{fontSize:"small"})))},$a={actions:w,actionTypes:R,constants:T,components:k,reducer:xa,selectors:I,services:x},Za=function(e){var t=e.storeValue,n=void 0===t?"":t,r=e.saveChanges,a=e.fieldOrigin,c=e.style,o=Object(ma.a)(e,["storeValue","saveChanges","fieldOrigin","style"]),i=Object(q.useState)({storeValue:n,mutableValue:n}),u=Object(Mt.a)(i,2),l=u[0],d=u[1];return l.storeValue!==n&&d({storeValue:n,mutableValue:n}),G.a.createElement($a.components.CardFieldMouseUp,{fieldOrigin:a&&void 0!==a.spanIndexStart?a:void 0},G.a.createElement(Pt.a,Object.assign({InputProps:{disableUnderline:!0,style:{minWidth:"400px"}},multiline:!0,variant:"filled",value:l.mutableValue,onChange:function(e){var t=e.target.value;d(Object(xt.a)(Object(xt.a)({},l),{},{mutableValue:t}))},onBlur:function(e){r(e.target.value)},style:c},o)))},ec=n(147),tc=n.n(ec),nc=function(e){var t=e.cardOrigin,n=Object(Ve.b)();return G.a.createElement(Be.a,{title:It.constants.jumpToOriginTooltip,enterDelay:It.constants.defaultEnterDelay,enterNextDelay:It.constants.defaultEnterNextDelay},G.a.createElement(qe.a,{type:"button",onClick:function(){n(ta(t))}},G.a.createElement(tc.a,{fontSize:"small"})))},rc=n(89),ac=function(e){var t=e.config,n=e.cardField,r=t.origin?Ar.model.permutation.toFieldValue(n,t.origin):null,a=void 0!==(null===r||void 0===r?void 0:r.page);return G.a.createElement(rc.a,{variant:"outlined"},G.a.createElement(z.a,{container:!0,direction:"row"},G.a.createElement(z.a,{item:!0},G.a.createElement($a.components.AppendButton,{cardID:t.cardID,cardField:n})),G.a.createElement(z.a,{item:!0},G.a.createElement($a.components.ReplaceButton,{cardID:t.cardID,cardField:n})),G.a.createElement(z.a,{item:!0},a&&G.a.createElement(nc,{cardOrigin:r}))))},cc=function(e){var t,n,r=e.config,a=Object(Ve.b)();return G.a.createElement(Ge.a,{variant:"elevation",elevation:5,style:{padding:"3px"}},G.a.createElement(z.a,{container:!0,direction:"row",justify:"space-between"},G.a.createElement(z.a,{item:!0},G.a.createElement(z.a,{container:!0,direction:"column",spacing:1},G.a.createElement(z.a,{item:!0},G.a.createElement(z.a,{container:!0,direction:"row",spacing:1},G.a.createElement(z.a,{item:!0},G.a.createElement(Za,{saveChanges:function(e){a(Ar.actions.replaceCardFieldContent("q",r,e))},storeValue:r.content.q,label:It.constants.questionText,variant:"filled",style:{backgroundColor:"#FFBF69"},InputLabelProps:{style:{color:"#000000"}},fieldOrigin:null===(t=r.origin)||void 0===t?void 0:t.q})),G.a.createElement(z.a,{item:!0},G.a.createElement(ac,{cardField:"q",config:r})))),G.a.createElement(z.a,{item:!0},G.a.createElement(z.a,{container:!0,direction:"row",spacing:1},G.a.createElement(z.a,{item:!0},G.a.createElement(Za,{saveChanges:function(e){a(Ar.actions.replaceCardFieldContent("a",r,e))},storeValue:r.content.a,label:It.constants.answerText,style:{backgroundColor:"#2EC4B6"},InputLabelProps:{style:{color:"#000000"}},fieldOrigin:null===(n=r.origin)||void 0===n?void 0:n.a})),G.a.createElement(z.a,{item:!0},G.a.createElement(ac,{cardField:"a",config:r})))))),G.a.createElement(z.a,{item:!0},G.a.createElement(Ar.components.DeleteCardButton,{cardID:r.cardID}))))},oc=function(e){var t=e.config,n=Object(Ve.b)();return G.a.createElement(Ge.a,{variant:"elevation",elevation:5,style:{padding:"3px"}},G.a.createElement(z.a,{container:!0,direction:"row",justify:"space-between"},G.a.createElement(z.a,{item:!0},G.a.createElement(z.a,{container:!0,direction:"row",spacing:1},G.a.createElement(z.a,{item:!0},G.a.createElement(Za,{saveChanges:function(e){n(Ar.actions.cardReplace(Object(xt.a)(Object(xt.a)({},t),{},{content:e})))},storeValue:t.content,label:It.constants.noteText,variant:"filled",style:{backgroundColor:"#CBF3F0"},InputLabelProps:{style:{color:"#000000"}},fieldOrigin:t.origin})),G.a.createElement(z.a,{item:!0},G.a.createElement(ac,{cardField:"note",config:t})))),G.a.createElement(z.a,{item:!0},G.a.createElement(Ar.components.DeleteCardButton,{cardID:t.cardID}))))},ic=function(e){var t=e.config;switch(t.type){case"Note":return G.a.createElement(oc,{config:t});case"Q-A":return G.a.createElement(cc,{config:t})}},uc=function(){return G.a.createElement(z.a,{item:!0},G.a.createElement(We.a,null))},lc=function(e){return"Q-A"===e.type},dc=function(e){return"Note"===e.type},sc=function(e,t,n){if("NONE"===t)return[];var r=[];return"ALL"!==t&&("QAS"===t?r.push(lc):"NOTES"===t&&r.push(dc)),""!==n&&r.push(function(e){return function(t){switch(t.type){case"Note":return Ar.model.content.noteContentContainsStringOrEmpty(t,e);case"Q-A":return Ar.model.content.qaContentContainsStringOrEmpty(t,e)}}}(n)),r.length>0?e.filter(function(e){return function(t){return e.reduce((function(e,n){return e||n(t)}),!1)}}(r)):e},fc=function(e){var t=e.riverID,n=e.materialHeight,r=Object(Ve.c)(Ar.selectors.getCards),a=Object(Ve.c)(Rr)[t];console.log(r);var c=a?a.cardIDs.map((function(e){return r[e]})):[],o=Object(Ve.c)(Fr),i=Object(Ve.c)(Hr),u=function(e){var t=Ce();return e.reduce((function(e,n,r,a){return e.push(G.a.createElement(z.a,{item:!0,key:t()},G.a.createElement(ic,{config:n,key:t()}))),r<a.length-1&&e.push(G.a.createElement(uc,{key:t()})),e}),[])}(sc(c,o,i));return G.a.createElement(da.a,{expanded:!0,defaultExpanded:!0,style:{overflow:"auto",height:n},elevation:5},G.a.createElement(sa.a,null,G.a.createElement(_t.a,{variant:"h6",align:"center",style:{MozUserSelect:"none",WebkitUserSelect:"none",msUserSelect:"none"}},t)),G.a.createElement(fa.a,null,G.a.createElement(z.a,{container:!0,direction:"column",spacing:2,justify:"center",alignItems:"stretch"},G.a.createElement(z.a,{item:!0},G.a.createElement(Ar.components.AddQAButton,null),G.a.createElement(Ar.components.AddNoteButton,null),G.a.createElement(We.a,null)),G.a.createElement(z.a,{item:!0},G.a.createElement(z.a,{container:!0,direction:"column",spacing:2,justify:"center",alignItems:"stretch"},u)))))},mc=function(e){var t=e.children,n=e.riverID,r=Object(Ve.b)();return G.a.createElement("span",{onMouseEnter:function(){r($r(n))}},t)},pc=n(74),vc={requestedOrigin:null,riverMakeUps:Object(vr.a)({},Zt(1),{riverID:Zt(1),cardIDs:[]}),activeRiverMakeUpID:Zt(1),riverShowState:"SHOW",riverContentState:"ALL",contentFilter:""},Ec={constants:l,components:M,reducer:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vc,r=arguments.length>1?arguments[1]:void 0,a=r.type,c=r.payload;switch(a){case Br:return Object(xt.a)(Object(xt.a)({},n),{},{activeRiverMakeUpID:c});case qr:return Object(xt.a)(Object(xt.a)({},n),{},{riverShowState:c});case Gr:return Object(xt.a)(Object(xt.a)({},n),{},{riverContentState:c});case Wr:return Object(xt.a)(Object(xt.a)({},n),{},{contentFilter:c});case Qr:return Object(xt.a)(Object(xt.a)({},n),{},{requestedOrigin:c});case Ar.actionTypes.CARD_PUSH:return e=n.riverMakeUps[n.activeRiverMakeUpID]?Object(xt.a)(Object(xt.a)({},n.riverMakeUps[n.activeRiverMakeUpID]),{},{cardIDs:[].concat(Object(pc.a)(n.riverMakeUps[n.activeRiverMakeUpID].cardIDs),[c.cardID])}):{riverID:n.activeRiverMakeUpID,cardIDs:[c.cardID]},(t=Object(xt.a)({},n.riverMakeUps))[n.activeRiverMakeUpID]=e,Object(xt.a)(Object(xt.a)({},n),{},{riverMakeUps:t});case Ar.actionTypes.CARD_REMOVE:return rn(n,c);case zr:return vc;case Kr:return Object(xt.a)(Object(xt.a)({},vc),{},{riverMakeUps:c});case hr.actionTypes.LOAD_DOCUMENT_DATA_SETS:return c.newActiveDataSet?Object(xt.a)(Object(xt.a)({},vc),{},{riverMakeUps:c.newActiveDataSet.riverMakeUps}):n;default:return n}},selectors:S,actions:A,model:d,services:P},bc=function(e){var t=e.page,n=e.pageRef,r=Object(Ve.c)(ge),a=Object(q.useRef)(0),c=Object(Ve.b)(),o=Object(q.useCallback)((function(){var e=setInterval((function(){var t;if(10===a.current)return a.current=0,clearInterval(e),console.log("invalid origin clicked",r),void c(Pe());var o=null===(t=n.current)||void 0===t?void 0:t.children.item(1);if(o){var i=o.children.item(r.spanIndexStart);if(i)return i.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"}),a.current=0,void clearInterval(e)}a.current=a.current+1}),10)}),[c,a,r,n]);return Object(q.useEffect)((function(){if(r&&r.page===t&&n.current){var e=n.current.children.item(1);if(e){var c=e.children.item(r.spanIndexStart);c?(c.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"}),a.current=0):o()}else o()}}),[c,t,n,r,o]),null},Oc=function(e){return function(t){return function(e,t){var n=e.itemIndex;return n>=t.spanIndexStart&&n<=t.spanIndexEnd?G.a.createElement("mark",{style:{backgroundColor:"red"}},e.str):e.str}(t,e)}},gc={backgroundColor:"blue"};function yc(e){return function(t){return function(e,t){var n=e.length,r=t.length;if(""===t||""===e||r>n)return e;var a=e.indexOf(t);if(-1===a)return e;var c=G.a.createElement("mark",{style:gc},t),o=a>0&&e.slice(0,a),i=[];o&&i.push(o),i.push(c);var u=e.indexOf(t,a+r);if(-1===u){var l=a+r,d=l<n&&e.slice(l);return d&&i.push(d),i}var s=a+r,f=s!==u&&e.slice(s,u);f&&i.push(f),i.push(c);var m=e.indexOf(t,u+r);if(-1===m){var p=u+r;return p<n&&e.slice(p)&&i.push(f),i}var v=u+r,E=v<n&&e.slice(v,m);if(E&&i.push(E),i.push(c),m+r===n)return i;var b=e.slice(m+r);if(b===t)return i.push(c),i;var O=b.split(t);if(O.length<=1)return i.push(b),i;for(var g=0;g<O.length;g++){var y=O[g];0!==g||""!==y?g!==O.length-1||""===y?(""!==y&&i.push(y),i.push(c)):i.push(y):i.push(c)}return i}(t.str,e)}}var jc=function(e){var t,n=e.pageNumber,r=null===(t=Object(Ve.c)(se))||void 0===t?void 0:t.width,a=Object(Ve.c)(ye),c=Object(Ve.c)(ge),o=c?Oc(c):void 0,i=function(e,t){return e?t?function(n){return t(Object(xt.a)(Object(xt.a)({},n),{},{str:e(n)}))}:e:t}(""!==a?yc(a):void 0,o),u=Object(q.useRef)(null);return G.a.createElement("div",{style:{overflow:"auto"}},G.a.createElement($a.components.MaterialMouseUp,{page:n},G.a.createElement(Vt,null,G.a.createElement(zt.b,{inputRef:function(e){u.current=e},pageNumber:n,width:r*Sc,customTextRenderer:i,renderAnnotationLayer:!1}))),G.a.createElement(bc,{page:n,pageRef:u}))},Dc=function(e){var t,n=e.riverID,r=e.materialHeight,a=null===(t=Object(Ve.c)(se))||void 0===t?void 0:t.width;return G.a.createElement("div",{style:{maxWidth:a*Ac}},G.a.createElement(Ec.components.CardRiver,{riverID:n,materialHeight:r}))},Cc=function(e){var t=e.index,n=e.data,r=e.style,a=t+1,c=Ec.model.pageNumberToRiverMakeUpID(a),o=n.materialHeights,i=Object(Ve.c)(Ec.selectors.getRiverShowState),u=Object(Ve.c)(be);return G.a.createElement("div",{style:Object(xt.a)({},r)},G.a.createElement(Ec.components.SwitchActiveRiver,{riverID:c},G.a.createElement(z.a,{container:!0,justify:"space-between",direction:"row",alignItems:"flex-start"},G.a.createElement(z.a,{item:!0,hidden:"HIDE"===i},G.a.createElement(Dc,{riverID:c,materialHeight:o.get(a)})),G.a.createElement(z.a,{item:!0,hidden:"HIDE"===u},G.a.createElement(jc,{pageNumber:a})))),G.a.createElement(We.a,{style:{marginTop:Tc/2}}))},hc=function(e){var t=e.listRef,n=Object(Ve.c)(De),r=Object(Ve.c)(ve),a=Object(Ve.c)(pe),c=Object(Ve.c)(Ec.selectors.getOriginRequest);Object(q.useEffect)((function(){var e;null===(e=t.current)||void 0===e||e.scrollToItem(a-1,"start")}),[]);var o=Object(Ve.b)();return Object(q.useEffect)((function(){var e,a;if((c||r)&&n!==B.RiverMaterial&&o(Fe(B.RiverMaterial)),c)return null===(e=t.current)||void 0===e||e.scrollToItem(c.page-1,"auto"),o(Me(c)),o(Te(c.page,!1)),void o(Ec.actions.resetOriginRequest());r&&(null===(a=t.current)||void 0===a||a.scrollToItem(r-1,"start"),o(Te(r,!1)))}),[o,t,r,c,n]),null},Sc=.63,Ac=.35,Tc=20,Rc=function(e){var t=e.listRef,n=e.materialHeights,r=Object(q.useRef)(n);return Object(q.useEffect)((function(){var e;n!==r.current&&(null===(e=t.current)||void 0===e||e.resetAfterIndex(0),r.current=n)})),null},Ic=function(e){var t=e.pdfProxyRef,n=e.cachedPageDimensions,r=Object(q.useRef)(),a=Object(Ve.c)(se),c=a?Array.from(n.keys()).reduce((function(e,t){return e.set(t,function(e,t,n){var r=t.get(e),a=n*Sc/r[0];return r[1]*a+20}(t,n,a.width)),e}),new Map):void 0,o=Object(Ve.b)(),i=Object(Ve.c)(je);return G.a.createElement(q.Fragment,null,a&&c&&G.a.createElement(Xt.a,{height:a.height-i,itemCount:t.current.numPages,itemSize:function(e){return c.get(e+1)+Tc},itemData:{materialHeights:c},ref:r,width:"100%",onItemsRendered:function(e){o(Te(e.visibleStopIndex+1,!1))}},Cc),c&&G.a.createElement(Rc,{listRef:r,materialHeights:c}),G.a.createElement(hc,{listRef:r}))};zt.c.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(zt.c.version,"/pdf.worker.js");var Nc={cMapUrl:"cmaps/",cMapPacked:!0},wc=function(){var e=Object(Ve.c)(de),t=Object(q.useState)(),n=Object(Mt.a)(t,2),r=n[0],a=n[1],c=Object(q.useRef)(),o=Object(Ve.b)(),i=null===e||void 0===e?void 0:e.name,u=Object(q.useRef)(i);return u.current!==i&&(u.current=i),G.a.createElement(zt.a,{loading:It.constants.loadingMaterialText,noData:It.constants.noMaterialText,options:Nc,file:e,renderMode:"canvas",onLoadSuccess:function(t){o(Ae(t.numPages)),e&&function(e,t,n,r){var a=Array.from({length:e.numPages},(function(e,t){return t+1})).map((function(t){return e.getPage(t)}));Promise.all(a).then((function(e){if(t===n.current){var a,c=new Map,o=Object(Kt.a)(e);try{for(o.s();!(a=o.n()).done;){var i=a.value,u=1*i.view[2],l=1*i.view[3];c.set(i._pageIndex+1,[u,l])}}catch(d){o.e(d)}finally{o.f()}r(c)}}))}(t,i,u,a),c.current=t},onItemClick:function(e){var t=e.pageNumber;o(Te(parseInt(t),!0))}},r&&u.current===i&&G.a.createElement(Ic,{pdfProxyRef:c,cachedPageDimensions:r}))},kc=function(e){var t=e.riverID,n=Object(Ve.c)(se),r=Object(Ve.c)(je);return n&&r?G.a.createElement("div",{style:{marginBottom:"8px",marginTop:"4px"}},G.a.createElement(Ec.components.CardRiver,{riverID:t,materialHeight:(null===n||void 0===n?void 0:n.height)-r-10})):null},xc=function(){var e=Object(Ve.c)(Nr),t=Ce();return G.a.createElement(z.a,{container:!0,justify:"space-evenly",alignItems:"center",spacing:2,style:{width:"100%",height:"100%"}},e.map((function(e){return G.a.createElement(z.a,{item:!0,xs:4,key:t()},G.a.createElement(Ec.components.SwitchActiveRiver,{riverID:e},G.a.createElement(kc,{riverID:e})))})))},Mc=function(){var e=Object(Ve.c)(De);return G.a.createElement(q.Fragment,null,G.a.createElement("div",{hidden:e!==B.RiverMaterial,style:{width:"100%",height:"100%"}},G.a.createElement(wc,null),G.a.createElement(Qt,null)),G.a.createElement("div",{hidden:e!==B.RiverExplorer,style:{width:"100%",height:"100%"}},G.a.createElement(xc,null)))},Pc=n(297),_c=n(289),Lc=function(){var e=Object(Ve.c)(De),t=Object(Ve.b)();return G.a.createElement(Ge.a,null,G.a.createElement(Pc.a,{value:e,onChange:function(e,n){t(Fe(n))}},G.a.createElement(_c.a,{label:"River-Material"}),G.a.createElement(_c.a,{label:"River Explorer"})))},Uc={displayStatus:"SHOW",totalPages:1e3,currentPage:1,scrollToPage:null,windowMeasurements:null,spanOrigin:null,documentSearch:"",topOffset:0,currentView:B.RiverMaterial},Fc={actions:o,actionTypes:a,components:_,constants:r,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Uc,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case X:return Object(xt.a)(Object(xt.a)({},e),{},{pdf:r,pdfName:r.name});case Y:return Object(xt.a)(Object(xt.a)({},e),{},{totalPages:r});case $:return Object(xt.a)(Object(xt.a)({},e),{},{currentPage:r.page,scrollToPage:r.shouldScroll?r.page:null});case J:return Object(xt.a)(Object(xt.a)({},e),{},{displayStatus:r});case Z:return Object(xt.a)(Object(xt.a)({},e),{},{spanOrigin:r});case ee:return Object(xt.a)(Object(xt.a)({},e),{},{documentSearch:r});case ne:return Object(xt.a)(Object(xt.a)({},e),{},{topOffset:r});case te:return Object(xt.a)(Object(xt.a)({},e),{},{windowMeasurements:r});case re:return Object(xt.a)(Object(xt.a)({},e),{},{currentView:r});case ae:return Object(xt.a)(Object(xt.a)({},Uc),{},{pdf:void 0},r);default:return e}},selectors:c},Hc=n(32),Vc=n.n(Hc),Bc="controlData",qc=Object(ue.a)(Fc.selectors.getPDFName,Fc.selectors.getTotalPages,Fc.selectors.getCurrentPage,Ec.selectors.getRiverMakeUps,Ec.selectors.getActiveRiverMakeUpID,Ar.selectors.getCards,Ar.selectors.getLastCardIDNumber,(function(e,t,n,r,a,c,o){return{name:e,totalPages:t,currentPage:n,riverMakeUps:r,activeRiverMakeUpID:a,cards:c,lastCardIDNumber:o}})),Gc=function(e){return e[Bc]},Wc=Object(ue.a)(Gc,(function(e){return e.present})),Qc=Object(ue.a)(Gc,(function(e){return e.future.length>0?e.future[0]:null})),zc=Bc+"/REDO_ACTION_HISTORY",Kc=Bc+"/UNDO_ACTION_HISTORY",Xc=Bc+"/REMOVE_ACTION_HISTORY",Yc=function(){return function(e,t){var n=t();if(void 0!==Fc.selectors.getPDFName(n)){var r=qc(n);e(hr.actions.archiveDBData(r))}}},Jc=n(212),$c=function(){return function(e,t){e(Yc());var n=hr.selectors.getDocumentDataSets(t()),r=(new Date).toLocaleString();Jc(JSON.stringify(n),r+" ClayMemory.txt")}},Zc=function(e){return{type:Kc,payload:e}},eo=function(e){return{type:zc,payload:e}},to=function(e){e(Hc.ActionCreators.clearHistory()),e({type:Xc})},no=function(e){e(Ar.actions.resetCards()),e(Ec.actions.resetRivers())},ro=function(e,t,n){var r;e(Ar.actions.replaceCards({cards:t.cards,lastCardIDNumber:t.lastCardIDNumber})),e(Ec.actions.replaceRivers(t.riverMakeUps)),n&&t.name!==n&&e(Fc.actions.loadExistingDocument({pdfName:(r=t).name,currentPage:r.currentPage,totalPages:r.totalPages}))},ao=function(e){return function(t,n){var r=e.name,a=n(),c=Fc.selectors.getPDFName(a),o=hr.selectors.getAll(a);if(void 0!==c){var i=qc(a);t(hr.actions.archiveDBData(i))}if(t(Fc.actions.pdfUpload(e)),r!==c){var u=o[r];u?ro(t,u):no(t),to(t)}}},co=function(e){return function(t,n){var r=n(),a=Fc.selectors.getPDFName(r),c=hr.selectors.getAll(r);if(void 0!==a){var o=qc(r);t(hr.actions.archiveDBData(o))}var i=c[e];ro(t,i,a),to(t)}},oo=function(e){return function(t,n){var r=n(),a=Fc.selectors.getPDFName(r);a&&a===e&&(no(t),to(t)),t(hr.actions.deleteDocumentDataSet(e))}},io=n(294),uo=n(295),lo=n(152),so=n.n(lo),fo=n(153),mo=n.n(fo),po=n(303),vo=n(290),Eo=n(291),bo=n(292),Oo=n(293),go=n(148),yo=n.n(go),jo=function(e){var t=e.document,n=e.handleClose,r=e.open,a=Object(Ve.b)();return G.a.createElement(po.a,{open:r,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},G.a.createElement(vo.a,{id:"alert-dialog-title"},"Delete "+t+" and all associated card data?"),G.a.createElement(Eo.a,null,G.a.createElement(bo.a,{id:"alert-dialog-description"},"This change can not be undone.")),G.a.createElement(Oo.a,null,G.a.createElement(Wt.a,{onClick:n,color:"primary"},"Abort"),G.a.createElement(Wt.a,{onClick:function(){a(oo(t)),n()},color:"primary",autoFocus:!0},"Delete document and associated card data")))},Do=function(e){var t=e.document,n=Object(q.useState)(!1),r=Object(Mt.a)(n,2),a=r[0],c=r[1];return G.a.createElement("div",null,G.a.createElement(Be.a,{title:It.constants.deleteDocumentTooltip,enterDelay:It.constants.defaultEnterDelay,enterNextDelay:It.constants.defaultEnterNextDelay},G.a.createElement(qe.a,{type:"button",onClick:function(){c(!0)}},G.a.createElement(yo.a,{fontSize:"small"}))),G.a.createElement(jo,{document:t,open:a,handleClose:function(){c(!1)}}))},Co=n(149),ho=n.n(Co),So=function(e){var t=e.handleClose,n=e.label,r=Object(Ve.b)(),a=Object(Ve.c)(Fc.selectors.getPDFName),c=Object(q.useRef)(null);return G.a.createElement(q.Fragment,null,G.a.createElement(Wa.a,{onClick:function(){c.current.click()}},G.a.createElement(Wt.a,{variant:"contained",color:"primary",disableElevation:!0,startIcon:G.a.createElement(ho.a,null)},n)),G.a.createElement("input",{ref:c,style:{display:"none"},onChange:function(e){var n=e.target.files,c=n?n[0]:null;if(c){var o=new FileReader;o.readAsText(c),o.onload=function(){var e=JSON.parse(o.result),t=e.find((function(e){return e.name===a}));r(hr.actions.loadDocumentDataSets(e,t))}}t()},type:"file",accept:".txt"}))},Ao=n(150),To=n.n(Ao),Ro=function(e){var t=e.handleClose,n=e.label,r=Object(Ve.b)(),a=Object(q.useRef)(null);return G.a.createElement(q.Fragment,null,G.a.createElement(Wa.a,{onClick:function(){a.current.click()}},G.a.createElement(Wt.a,{variant:"contained",color:"primary",disableElevation:!0,startIcon:G.a.createElement(To.a,null)},n)),G.a.createElement("input",{ref:a,style:{display:"none"},onChange:function(e){var n=e.target.files,a=n?n[0]:null;a&&r(ao(a)),t()},type:"file",accept:".pdf"}))},Io=n(151),No=n.n(Io),wo=function(e){var t=e.document,n=Object(Ve.b)();return G.a.createElement(Be.a,{title:It.constants.loadSavedDocumentTooltip,enterDelay:It.constants.defaultEnterDelay,enterNextDelay:It.constants.defaultEnterNextDelay},G.a.createElement(qe.a,{type:"button",onClick:function(){n(co(t))}},G.a.createElement(No.a,{fontSize:"small"})))},ko=function(e){var t=e.document;return G.a.createElement(z.a,{container:!0,direction:"row"},G.a.createElement(z.a,{item:!0},G.a.createElement(wo,{document:t})),G.a.createElement(z.a,{item:!0},G.a.createElement(We.a,{orientation:"vertical"})),G.a.createElement(z.a,{item:!0},G.a.createElement(Do,{document:t})))},xo=function(e){var t=e.document;return G.a.createElement(z.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:1},G.a.createElement(z.a,{item:!0},t.replace(".pdf","")),G.a.createElement(z.a,{item:!0},G.a.createElement(Ge.a,{variant:"outlined"},G.a.createElement(ko,{document:t}))))},Mo=function(e){var t=e.document;return G.a.createElement(z.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:1},G.a.createElement(z.a,{item:!0},t.replace(".pdf","")),G.a.createElement(z.a,{item:!0},G.a.createElement(Ge.a,{variant:"outlined"},G.a.createElement(Do,{document:t}))))},Po=function(){var e=Object(Ve.c)(Fc.selectors.getPDFName),t=Object(Ve.c)(hr.selectors.getDocumentNames).filter((function(t){return t!==e})),n=G.a.useState(null),r=Object(Mt.a)(n,2),a=r[0],c=r[1],o=function(){c(null)},i=Object(Ve.b)(),u=Ce();return G.a.createElement("div",null,G.a.createElement(qe.a,{type:"button",onClick:function(e){c(e.currentTarget)}},G.a.createElement(so.a,null)),G.a.createElement(Ga.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:o,MenuListProps:{style:{paddingLeft:"8px",paddingRight:"8px"}}},e&&[G.a.createElement(_t.a,{key:u(),component:"span",variant:"h6"},It.constants.activeDocumentText),G.a.createElement(Mo,{key:u(),document:e}),G.a.createElement(We.a,{key:u(),style:{marginTop:"6px"}})],t.length>0&&[G.a.createElement(_t.a,{key:u(),component:"span",variant:"h6"},It.constants.existingDataText),G.a.createElement(_t.a,{key:u(),component:"span"},G.a.createElement("ul",{style:{listStyleType:"square"}},t.map((function(e){return e?G.a.createElement("li",{key:u()},G.a.createElement(xo,{document:e,key:u()})):null})))),G.a.createElement(We.a,{key:u(),style:{marginTop:"6px"}})],G.a.createElement(Ro,{handleClose:o,label:"Load document"}),G.a.createElement(We.a,null),G.a.createElement(Wa.a,{onClick:function(){i($c()),o()}},G.a.createElement(Wt.a,{variant:"contained",color:"primary",disableElevation:!0,startIcon:G.a.createElement(mo.a,null)},It.constants.downloadDatasetsText)),G.a.createElement(We.a,null),G.a.createElement(So,{handleClose:o,label:It.constants.uploadDatasetsText})))},_o=n(154),Lo=n.n(_o),Uo=function(){var e=Object(Ve.b)(),t=Object(Ve.c)(Ec.selectors.getRiverContentFilter),n=Object(q.useState)(t),r=Object(Mt.a)(n,2),a=r[0],c=r[1],o=Object(q.useState)("cards"),i=Object(Mt.a)(o,2),u=i[0],l=(i[1],function(){e(Ec.actions.resetContentFilter())}),d=function(){e(Fc.actions.resetDocumentSearch())},s="cards"===u?function(t){""===t&&e(Ec.actions.resetContentFilter()),c(t)}:function(t){""===t&&e(Fc.actions.resetDocumentSearch()),c(t)},f="cards"===u?l:d,m="cards"===u?function(){return e(Ec.actions.setContentFilter(a))}:function(){return e(Fc.actions.setDocumentSearch(a))};return G.a.createElement(z.a,{container:!0,direction:"row",alignItems:"center",spacing:1},G.a.createElement(z.a,{item:!0},G.a.createElement(Lo.a,{value:a,placeholder:"cards"===u?"Filter cards":"Search document",onChange:s,onCancelSearch:f,onRequestSearch:m,cancelOnEscape:!0})))},Fo=n(155),Ho=n.n(Fo),Vo=n(156),Bo=n.n(Vo),qo=function(){var e=Object(Ve.b)(),t=Object(Ve.c)(Wc);return G.a.createElement(Be.a,{title:It.constants.undoTooltip,enterDelay:It.constants.defaultEnterDelay,enterNextDelay:It.constants.defaultEnterNextDelay},G.a.createElement("span",null,G.a.createElement(qe.a,{type:"button",onClick:function(){var n,r=Object(Kt.a)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;e(Zc(a))}}catch(c){r.e(c)}finally{r.f()}},disabled:!t},G.a.createElement(Ho.a,null))))},Go=function(){var e=Object(Ve.b)(),t=Object(Ve.c)(Qc);return G.a.createElement(Be.a,{title:It.constants.redoTooltip,enterDelay:It.constants.defaultEnterDelay,enterNextDelay:It.constants.defaultEnterNextDelay},G.a.createElement("span",null,G.a.createElement(qe.a,{type:"button",onClick:function(){var n,r=Object(Kt.a)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;e(eo(a))}}catch(c){r.e(c)}finally{r.f()}},disabled:!t},G.a.createElement(Bo.a,null))))},Wo=function(){return G.a.createElement(Ge.a,{variant:"outlined"},G.a.createElement(z.a,{container:!0,direction:"row"},G.a.createElement(z.a,{item:!0},G.a.createElement(qo,null)),G.a.createElement(z.a,{item:!0},G.a.createElement(We.a,{orientation:"vertical"})),G.a.createElement(z.a,{item:!0},G.a.createElement(Go,null))))},Qo=n(157),zo=n.n(Qo),Ko=function(){var e=Object(Ve.b)(),t=Object(Ve.c)(Ec.selectors.getRiverShowState);return G.a.createElement(Wt.a,{startIcon:G.a.createElement($t.a,{label:"River",control:G.a.createElement(ua,{checked:"SHOW"===t})}),variant:"contained",color:"primary",onClick:function(){e(Ec.actions.toggleRiverShowState())}})},Xo=function(){var e=Object(Ve.b)(),t=Object(Ve.c)(Fc.selectors.getDisplayStatus);return G.a.createElement(Wt.a,{startIcon:G.a.createElement($t.a,{label:"Material",control:G.a.createElement(ua,{checked:"SHOW"===t})}),variant:"contained",color:"primary",onClick:function(){e(Fc.actions.toggleDisplayState())}})},Yo=function(){var e=G.a.useState(null),t=Object(Mt.a)(e,2),n=t[0],r=t[1];return G.a.createElement("div",null,G.a.createElement(qe.a,{type:"button",onClick:function(e){r(e.currentTarget)}},G.a.createElement(zo.a,null)),G.a.createElement(Ga.a,{anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:function(){r(null)},MenuListProps:{style:{paddingLeft:"8px",paddingRight:"8px"}}},G.a.createElement(_t.a,{variant:"h6"},"Show:"),G.a.createElement(z.a,{container:!0,direction:"row",justify:"space-between",spacing:1},G.a.createElement(z.a,{item:!0},G.a.createElement(Ge.a,{variant:"outlined",style:{paddingLeft:"4px",paddingRight:"4px"}},G.a.createElement(Ec.components.RiverContentFormGroup,null))),G.a.createElement(z.a,{item:!0},G.a.createElement(Ge.a,{variant:"outlined",style:{padding:"4px"}},G.a.createElement(z.a,{container:!0,direction:"column",spacing:1},G.a.createElement(z.a,{item:!0},G.a.createElement(Ko,null)),G.a.createElement(z.a,{item:!0},G.a.createElement(Xo,null))))))))},Jo=function(){var e=Object(Ve.c)(Fc.selectors.getPDFName),t=Object(Ve.c)(Fc.selectors.getTopOffset),n=Object(q.useRef)(null),r=Object(Ve.b)();return Object(q.useLayoutEffect)((function(){if(n.current){var e=n.current.getBoundingClientRect().bottom;e!==t&&r(Fc.actions.setTopOffset(e))}}),[n,r,t]),G.a.createElement(Fc.components.PageKeyboardControl,null,G.a.createElement(io.a,{ref:n,position:"sticky"},G.a.createElement(uo.a,{variant:"regular",disableGutters:!0},G.a.createElement(z.a,{container:!0,direction:"row",alignItems:"center",justify:"space-between"},G.a.createElement(z.a,{item:!0,xs:6},G.a.createElement(z.a,{container:!0,direction:"row",alignItems:"center",spacing:1,style:{paddingLeft:"4px"}},G.a.createElement(z.a,{item:!0,style:{maxWidth:"15%"}},G.a.createElement(Fc.components.PageChooser,null)),G.a.createElement(z.a,{item:!0},G.a.createElement(Fc.components.PageNavigation,null)),G.a.createElement(z.a,{item:!0},G.a.createElement(Wo,null)),G.a.createElement(z.a,{item:!0},G.a.createElement(Fc.components.ViewTabs,null)))),G.a.createElement(z.a,{item:!0,xs:2},G.a.createElement(z.a,{container:!0,justify:"center"},G.a.createElement(z.a,{item:!0,style:{overflowX:"auto"}},G.a.createElement(_t.a,{variant:"subtitle1"},null===e||void 0===e?void 0:e.replace(".pdf",""))))),G.a.createElement(z.a,{item:!0,xs:4},G.a.createElement(z.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center"},G.a.createElement(z.a,{item:!0},G.a.createElement(Uo,null)),G.a.createElement(z.a,{item:!0},G.a.createElement(Yo,null)),G.a.createElement(z.a,{item:!0},G.a.createElement(Po,null))))))))},$o=[$a.actionTypes.SELECTION_GOAL,$a.actionTypes.SELECTION_SOURCE],Zo=[Ar.actionTypes.CARD_PUSH,Ar.actionTypes.CARD_REMOVE,hr.actionTypes.LOAD_DOCUMENT_DATA_SETS],ei=[hr.actionTypes.LOAD_DOCUMENT_DATA_SETS,Ar.actionTypes.CARD_PUSH,Ar.actionTypes.CARD_REPLACE,Ar.actionTypes.CARD_REMOVE],ti=[hr.actionTypes.LOAD_DOCUMENT_DATA_SETS],ni=[ti,ei,Zo,$o].flat(),ri=function(e,t){return function(n,r){switch(r.type){case Kc:return t.includes(r.payload)?e(n,Hc.ActionCreators.undo()):n;case zc:return t.includes(r.payload)?e(n,Hc.ActionCreators.redo()):n;default:return e(n,r)}}},ai=function(e){return ri(e,$o)},ci=function(e){return ri(e,ei)},oi=function(e){return ri(e,Zo)},ii=function(e){return ri(e,ti)},ui={past:[],present:null,future:[]},li={actions:F,components:H,selectors:U,constants:L,reducer:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ui,n=arguments.length>1?arguments[1]:void 0,r=n.type;if(ni.includes(r)){var a=15===t.past.length?t.past.slice(1):t.past;return{past:t.present?a.concat(t.present):a,present:[r],future:[]}}switch(r){case Kc:return e=t.past.length>0?t.past[t.past.length-1]:null,{past:t.past.slice(0,t.past.length-1),present:e,future:t.present?[t.present].concat(Object(pc.a)(t.future)):t.future};case zc:return e=t.future.length>0?t.future[0]:null,{past:t.present?[].concat(Object(pc.a)(t.past),[t.present]):t.past,present:e,future:t.future.slice(1)};case Xc:return ui;default:return t}},model:V};function di(){return G.a.createElement("div",null,G.a.createElement(Fc.components.HTMLElementMeasurer,null),G.a.createElement(z.a,{container:!0,justify:"center",direction:"column",alignItems:"stretch",style:{height:"100%",width:"100%"}},G.a.createElement(z.a,{item:!0},G.a.createElement(li.components.ControlBar,null)),G.a.createElement(z.a,{item:!0},G.a.createElement(Fc.components.Display,null))),G.a.createElement($a.components.ContextMenu,null),G.a.createElement($a.components.SelectionSnackbar,null))}var si,fi=n(23),mi=n(73),pi=n(66),vi=n(158),Ei=n.n(vi),bi=Object(pi.a)((function(e){return function(e){return Object(xt.a)(Object(xt.a)({},e),{},{documentRef:null,materialData:null,pdf:null})}(e)}),(function(e){return function(e){return Object(xt.a)(Object(xt.a)({},e),{},{pdf:void 0,spanOrigin:null,windowMeasurements:null,documentSearch:""})}(e)}),{whitelist:[Fc.constants.NAME]}),Oi=function(e){return Object(xt.a)(Object(xt.a)({},e),{},{contentFilter:""})},gi=Object(pi.a)((function(e){return e}),(function(e){return{present:Oi(e.present),future:e.future.map(Oi),past:e.past.map(Oi)}}),{whitelist:[Ec.constants.NAME]}),yi={key:"root",storage:Ei.a,transforms:[bi,gi]},ji=n(159),Di=Object(fi.combineReducers)((si={},Object(vr.a)(si,li.constants.NAME,li.reducer),Object(vr.a)(si,$a.constants.NAME,ai(Vc()($a.reducer,{filter:Object(Hc.includeAction)(li.model.selectionActions),limit:15}))),Object(vr.a)(si,Ec.constants.NAME,oi(Vc()(Ec.reducer,{filter:Object(Hc.includeAction)(li.model.riverActions),limit:15}))),Object(vr.a)(si,Fc.constants.NAME,Fc.reducer),Object(vr.a)(si,Ar.constants.NAME,ci(Vc()(Ar.reducer,{filter:Object(Hc.includeAction)(li.model.cardActions),limit:15}))),Object(vr.a)(si,hr.constants.NAME,ii(Vc()(hr.reducer,{filter:Object(Hc.includeAction)(li.model.dbActions),limit:15}))),si)),Ci=Object(pi.b)(yi,Di),hi=Object(ji.composeWithDevTools)({stateSanitizer:function(e){return e.displayData.pdf?Object(xt.a)(Object(xt.a)({},e),{},{displayData:Object(xt.a)(Object(xt.a)({},e.displayData),{},{pdf:"PDF_FILE_IS_HERE"})}):e}})(Object(fi.applyMiddleware)(mi.a)),Si=Object(fi.createStore)(Ci,hi),Ai=Object(pi.c)(Si),Ti=n(160);n(244),Q.a.render(G.a.createElement(G.a.StrictMode,null,G.a.createElement(Ve.a,{store:Si},G.a.createElement(Ti.a,{loading:null,persistor:Ai},G.a.createElement(di,null)))),document.getElementById("root"))}},[[173,1,2]]]);
//# sourceMappingURL=main.80edbb4b.chunk.js.map