(this.webpackJsonpclaymemory=this.webpackJsonpclaymemory||[]).push([[0],{147:function(e,t){},174:function(e,t,n){e.exports=n(246)},183:function(e,t,n){},206:function(e,t){},207:function(e,t){},208:function(e,t){},209:function(e,t){},210:function(e,t){},246:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"switchToActiveRiverTooltip",(function(){return W})),n.d(r,"switchToSummaryRiverTooltip",(function(){return G})),n.d(r,"undoTooltip",(function(){return z})),n.d(r,"redoTooltip",(function(){return _})),n.d(r,"nextPageTooltip",(function(){return K})),n.d(r,"previousPageTooltip",(function(){return J})),n.d(r,"deleteCardTooltip",(function(){return X})),n.d(r,"jumpToOriginTooltip",(function(){return $})),n.d(r,"ChoiceCardAsAppendGoal",(function(){return Y})),n.d(r,"AppendToCardTooltip",(function(){return Z})),n.d(r,"CardIsAppendGoalTooltip",(function(){return ee})),n.d(r,"ChoiceCardAsReplaceGoal",(function(){return te})),n.d(r,"ReplaceCardTooltip",(function(){return ne})),n.d(r,"CardIsReplaceGoalTooltip",(function(){return re})),n.d(r,"newQACardTooltip",(function(){return ae})),n.d(r,"newNoteCardTooltip",(function(){return ce})),n.d(r,"deleteDocumentTooltip",(function(){return oe})),n.d(r,"loadSavedDocumentTooltip",(function(){return ie})),n.d(r,"noMaterialText",(function(){return ue})),n.d(r,"loadingMaterialText",(function(){return le})),n.d(r,"activeDocumentText",(function(){return de})),n.d(r,"existingDataText",(function(){return se})),n.d(r,"loadMaterialText",(function(){return fe})),n.d(r,"downloadDatasetsText",(function(){return me})),n.d(r,"uploadDatasetsText",(function(){return pe})),n.d(r,"noteText",(function(){return ve})),n.d(r,"questionText",(function(){return be})),n.d(r,"answerText",(function(){return Ee})),n.d(r,"defaultEnterDelay",(function(){return ge})),n.d(r,"defaultEnterNextDelay",(function(){return Oe}));var a={};n.r(a),n.d(a,"NewNoteCardTooltip",(function(){return je})),n.d(a,"AddQAButtonTooltip",(function(){return ye})),n.d(a,"DeleteCardButtonTooltip",(function(){return he}));var c={};n.r(c),n.d(c,"getAll",(function(){return Ze})),n.d(c,"getPDF",(function(){return et})),n.d(c,"getWindowMeasurements",(function(){return tt})),n.d(c,"getPDFName",(function(){return nt})),n.d(c,"getTotalPages",(function(){return rt})),n.d(c,"getCurrentPage",(function(){return at})),n.d(c,"getScrollToPage",(function(){return ct})),n.d(c,"getPageControlData",(function(){return ot})),n.d(c,"getDisplayStatus",(function(){return it})),n.d(c,"displayStatusIsShow",(function(){return ut})),n.d(c,"getSpanOrigin",(function(){return lt})),n.d(c,"getDocumentSearch",(function(){return dt})),n.d(c,"getTopOffset",(function(){return st})),n.d(c,"getCurrentView",(function(){return ft}));var o={};n.r(o),n.d(o,"NAME",(function(){return wt}));var i={};n.r(i),n.d(i,"pageNumberToRiverMakeUpID",(function(){return kt})),n.d(i,"riverMakeUpIDToPageNumber",(function(){return Tt})),n.d(i,"emptyCardRiver",(function(){return Nt})),n.d(i,"updateStateWithMakeUps",(function(){return At})),n.d(i,"removeCardFromRivers",(function(){return Pt}));var u={};n.r(u),n.d(u,"NAME",(function(){return Mt}));var l={};n.r(l),n.d(l,"toFieldValue",(function(){return Lt})),n.d(l,"createReplace",(function(){return Bt})),n.d(l,"changeCardObject",(function(){return qt}));var d={};n.r(d),n.d(d,"emptyContent",(function(){return Qt})),n.d(d,"noteContentIsEmpty",(function(){return Wt})),n.d(d,"qaContentIsNotFull",(function(){return Gt})),n.d(d,"strToCardContent",(function(){return Kt})),n.d(d,"strToNewCardContent",(function(){return Jt})),n.d(d,"noteContentContainsStringOrEmpty",(function(){return Xt})),n.d(d,"qaContentContainsStringOrEmpty",(function(){return $t}));var s={};n.r(s),n.d(s,"cardIDToNumber",(function(){return Yt})),n.d(s,"nextCardID",(function(){return Zt})),n.d(s,"cardIsNotFull",(function(){return tn})),n.d(s,"strToCardConfig",(function(){return nn})),n.d(s,"cardFieldToType",(function(){return an})),n.d(s,"emptyNote",(function(){return cn})),n.d(s,"emptyQA",(function(){return on}));var f={};n.r(f),n.d(f,"getState",(function(){return un})),n.d(f,"hasPast",(function(){return ln})),n.d(f,"hasFuture",(function(){return dn})),n.d(f,"getAll",(function(){return sn})),n.d(f,"getLastCardIDNumber",(function(){return fn})),n.d(f,"getNextCardID",(function(){return mn})),n.d(f,"getCards",(function(){return pn})),n.d(f,"getCardByID",(function(){return vn}));var m={};n.r(m),n.d(m,"AddNoteButton",(function(){return Cn})),n.d(m,"AddQAButton",(function(){return In})),n.d(m,"DeleteCardButton",(function(){return xn}));var p={};n.r(p),n.d(p,"emptyOrigin",(function(){return Nn})),n.d(p,"singleOriginToCardOrigin",(function(){return An}));var v={};n.r(v),n.d(v,"config",(function(){return s})),n.d(v,"origin",(function(){return p})),n.d(v,"permutation",(function(){return l})),n.d(v,"content",(function(){return d}));var b={};n.r(b),n.d(b,"getAll",(function(){return Fn})),n.d(b,"getRiverMakeUps",(function(){return Ln})),n.d(b,"getNonEmptyRiverIDs",(function(){return Un})),n.d(b,"getNonEmptyRiverIDsSorted",(function(){return Bn})),n.d(b,"getNonEmptyRiverMakeUpsSorted",(function(){return qn})),n.d(b,"getNonEmptyRiverCardsSorted",(function(){return Hn})),n.d(b,"getActiveRiverMakeUpID",(function(){return Vn})),n.d(b,"getActiveRiverMakeUp",(function(){return Qn})),n.d(b,"getActiveRiverCardIDs",(function(){return Wn})),n.d(b,"getActiveRiverCards",(function(){return Gn})),n.d(b,"getRiverShowState",(function(){return zn})),n.d(b,"riverShowStateIsShow",(function(){return _n})),n.d(b,"getRiverContentState",(function(){return Kn})),n.d(b,"getRiverContentFilter",(function(){return Jn})),n.d(b,"getOriginRequest",(function(){return Xn}));var E={};n.r(E),n.d(E,"getAll",(function(){return Er})),n.d(E,"getGoalConfig",(function(){return gr})),n.d(E,"getSourceConfig",(function(){return Or})),n.d(E,"sourceConfigExists",(function(){return jr}));var g={};n.r(g),n.d(g,"selectionToCard",(function(){return yr}));var O={};n.r(O),n.d(O,"resetSelectionSource",(function(){return kr})),n.d(O,"resetSelectionGoal",(function(){return Nr})),n.d(O,"addSelectionSource",(function(){return Ar})),n.d(O,"addMaterialSelectionSource",(function(){return Pr})),n.d(O,"addCardSelectionSource",(function(){return Mr})),n.d(O,"addSelectionGoal",(function(){return Fr})),n.d(O,"addCardAppendSelectionGoal",(function(){return Lr})),n.d(O,"addCardReplaceSelectionGoal",(function(){return Ur}));var j={};n.r(j),n.d(j,"SelectionSnackbar",(function(){return Hr})),n.d(j,"MaterialMouseUp",(function(){return Vr})),n.d(j,"CardFieldMouseUp",(function(){return Qr})),n.d(j,"AppendButton",(function(){return Kr})),n.d(j,"ContextMenu",(function(){return $r})),n.d(j,"ReplaceButton",(function(){return na}));var y={};n.r(y),n.d(y,"getSelectionWorkaround",(function(){return hr})),n.d(y,"use_selection",(function(){return g}));var h={};n.r(h),n.d(h,"RiverContentFormGroup",(function(){return fr})),n.d(h,"CardRiver",(function(){return ga})),n.d(h,"SwitchActiveRiver",(function(){return Oa})),n.d(h,"ClayCard",(function(){return ma})),n.d(h,"ShowRiverCheckbox",(function(){return ja}));var C={};n.r(C),n.d(C,"filterCardConfigs",(function(){return Ea}));var D={};n.r(D),n.d(D,"PageChooser",(function(){return bt})),n.d(D,"PageNavigation",(function(){return Ke})),n.d(D,"PageKeyboardControl",(function(){return Ot})),n.d(D,"HTMLElementMeasurer",(function(){return yt})),n.d(D,"Display",(function(){return qa})),n.d(D,"ViewTabs",(function(){return Qa})),n.d(D,"ShowMaterialCheckbox",(function(){return Wa}));var S={};n.r(S),n.d(S,"collectCurrentDBData",(function(){return Ja}));var I={};n.r(I),n.d(I,"getAll",(function(){return $a})),n.d(I,"getDocumentNames",(function(){return Ya})),n.d(I,"getDocumentDataSets",(function(){return Za}));var w={};n.r(w),n.d(w,"archiveCurrentDBData",(function(){return ac})),n.d(w,"downloadDBData",(function(){return oc})),n.d(w,"resetActiveAppState",(function(){return ic})),n.d(w,"replaceActiveAppState",(function(){return uc})),n.d(w,"loadPDF",(function(){return lc})),n.d(w,"loadSavedDocument",(function(){return dc})),n.d(w,"deleteActiveDocument",(function(){return sc})),n.d(w,"deleteDocument",(function(){return fc}));var R={};n.r(R),n.d(R,"ControlBar",(function(){return to}));var x,k=n(0),T=n.n(k),N=n(16),A=n.n(N),P=n(283),M=n(5),F=n(302),L=n(107),U=n(282),B=n(284),q=n(135),H=n.n(q),V=n(134),Q=n.n(V),W="Switch to the Active-River view",G="Switch to the Summary-River view",z="Undo last action",_="Redo last action",K="Next page",J="Previous page",X="Delete this card",$="Jump to the origin of the card content",Y="Mark this card field as the goal of the next selection",Z="Add the current selection to this card field",ee="The next selection will be added to this card field (click to unselect)",te="Mark this card field to be replaced by the next selection",ne="Replace this card field with the current selection",re="The next selection will replace this card field (click to unselect)",ae="Create new QA-card",ce="Create new Note-card",oe="Delete this document and all its corresponding cards",ie="Load the card data of this document",ue="No PDF file specified.",le="Loading PDF\u2026",de="Active Document:",se="Inactive documents with existing data:",fe="Load document",me="Download document datasets",pe="Upload document datasets",ve="Note",be="Question",Ee="Answer",ge=500,Oe=1e3,je=function(e){var t=e.children;return T.a.createElement(F.a,{title:ce,enterDelay:ge,enterNextDelay:Oe},t)},ye=function(e){var t=e.children;return T.a.createElement(F.a,{title:ae,enterDelay:ge,enterNextDelay:Oe},t)},he=function(e){var t=e.children;return T.a.createElement(F.a,{title:X,enterDelay:ge,enterNextDelay:Oe},t)},Ce={components:a,constants:r},De=n(8);!function(e){e[e.RiverMaterial=0]="RiverMaterial",e[e.RiverExplorer=1]="RiverExplorer",e[e.CardExplorer=2]="CardExplorer"}(x||(x={}));var Se,Ie,we=function(e,t){return e===t+1?1:e},Re=function(e,t){return 0===e?t:e},xe=n(52),ke=n(29),Te=function(){var e=0;return function(){var t=e;return e++,t}},Ne=function(e){return function(t,n){var r=n.payload;return Object(De.a)(Object(De.a)({},t),{},Object(ke.a)({},e,r))}},Ae=n(44),Pe={displayStatus:"SHOW",totalPages:1e3,currentPage:1,scrollToPage:null,windowMeasurements:null,spanOrigin:null,documentSearch:"",topOffset:0,currentView:x.RiverMaterial},Me=Ne("pdf"),Fe=Ne("totalPages"),Le=Ne("displayStatus"),Ue=Ne("spanOrigin"),Be=Ne("documentSearch"),qe=Ne("topOffset"),He=Ne("windowMeasurements"),Ve=Ne("currentView"),Qe=Object(Ae.a)({name:"displayData",initialState:Pe,reducers:{pdfUpload:Me,totalPages:Fe,displayStatus:Le,spanOrigin:Ue,documentSearch:Be,topOffset:qe,windowMeasurements:He,currentView:Ve,pageUpdate:function(e,t){var n=t.payload;return Object(De.a)(Object(De.a)({},e),{},{currentPage:n.page,scrollToPage:n.shouldScroll?n.page:null})},nextPage:function(e){var t=we(e.currentPage+1,e.totalPages);return Object(De.a)(Object(De.a)({},e),{},{currentPage:t,scrollToPage:t})},previousPage:function(e){var t=Re(e.currentPage-1,e.totalPages);return Object(De.a)(Object(De.a)({},e),{},{currentPage:t,scrollToPage:t})},existingDocumentPayload:function(e,t){var n=t.payload;return Object(De.a)(Object(De.a)({},Pe),{},{pdf:void 0},n)}}}),We=Qe.actions,Ge=Qe,ze=function(){var e=Object(M.b)();return T.a.createElement(F.a,{title:Ce.constants.previousPageTooltip,enterDelay:Ce.constants.defaultEnterDelay,enterNextDelay:Ce.constants.defaultEnterNextDelay},T.a.createElement(L.a,{type:"button",onClick:function(){e(We.previousPage())}},T.a.createElement(Q.a,null)))},_e=function(){var e=Object(M.b)();return T.a.createElement(F.a,{title:Ce.constants.nextPageTooltip,enterDelay:Ce.constants.defaultEnterDelay,enterNextDelay:Ce.constants.defaultEnterNextDelay},T.a.createElement(L.a,{type:"button",onClick:function(){e(We.nextPage())}},T.a.createElement(H.a,null)))},Ke=function(){return T.a.createElement(U.a,{variant:"outlined"},T.a.createElement(P.a,{container:!0,direction:"row"},T.a.createElement(P.a,{item:!0},T.a.createElement(ze,null)),T.a.createElement(P.a,{item:!0},T.a.createElement(B.a,{orientation:"vertical"})),T.a.createElement(P.a,{item:!0},T.a.createElement(_e,null))))},Je=n(19),Xe=n(297),$e=n(110),Ye=n(10),Ze=function(e){return e.displayData},et=Object(Ye.a)(Ze,(function(e){return e.pdf})),tt=Object(Ye.a)(Ze,(function(e){return e.windowMeasurements})),nt=Object(Ye.a)(et,(function(e){return e?e.name:void 0})),rt=Object(Ye.a)(Ze,(function(e){return e.totalPages})),at=Object(Ye.a)(Ze,(function(e){return e.currentPage})),ct=Object(Ye.a)(Ze,(function(e){return e.scrollToPage})),ot=Object(Ye.a)(rt,at,(function(e,t){return{currentPage:t,totalPages:e}})),it=Object(Ye.a)(Ze,(function(e){return e.displayStatus})),ut=Object(Ye.a)(it,(function(e){return"SHOW"===e})),lt=Object(Ye.a)(Ze,(function(e){return e.spanOrigin})),dt=Object(Ye.a)(Ze,(function(e){return e.documentSearch})),st=Object(Ye.a)(Ze,(function(e){return e.topOffset})),ft=Object(Ye.a)(Ze,(function(e){return e.currentView})),mt=/(\D)/,pt=function(e){var t=e.totalPages,n=Object(M.b)(),r=Object(M.c)(at),a=Object(k.useState)({error:!1,value:null===r||void 0===r?void 0:r.toString(),userInput:null===r||void 0===r?void 0:r.toString()}),c=Object(Je.a)(a,2),o=c[0],i=c[1];return o.value!==r.toString()&&i({error:!1,value:r.toString(),userInput:r.toString()}),T.a.createElement(Xe.a,{inputProps:{style:{padding:"0px",fontSize:"1.25rem",fontFamily:'"Roboto", "Helvetica", "Arial", sansSerif',fontWeight:500,lineHeight:1.6,letterSpacing:"0.0075em"}},type:"text",variant:"filled",value:o.userInput,onKeyDown:function(e){if("Enter"===e.key){e.preventDefault();var t=e.target.value;o.error||n(We.pageUpdate({page:parseInt(t),shouldScroll:!0}))}},onChange:function(e){var n=e.target.value;!function(e,t){if(""===e||null!==e.trim().match(mt))return!1;var n=parseInt(e);return!(n<1||t<n)}(n,t)?i(Object(De.a)(Object(De.a)({},o),{},{error:!0,userInput:n})):i(Object(De.a)(Object(De.a)({},o),{},{error:!1,userInput:n}))},error:o.error})},vt=function(e){var t=e.totalPages;return T.a.createElement($e.a,{variant:"h6"},"of ",t)},bt=function(){var e=Object(M.c)(rt);return T.a.createElement(U.a,{variant:"outlined"},T.a.createElement(P.a,{item:!0},T.a.createElement(P.a,{container:!0,direction:"row",alignItems:"center",justify:"space-between"},T.a.createElement(P.a,{item:!0,style:{width:"37%"}},T.a.createElement(pt,{totalPages:e})),T.a.createElement(P.a,{item:!0,style:{width:"61%"}},T.a.createElement(vt,{totalPages:e})))))},Et={ArrowLeft:We.previousPage(),ArrowRight:We.nextPage()},gt=(Se=Et,function(e,t){var n=Se[e.key];n&&(e.preventDefault(),t(n))}),Ot=function(e){var t=e.children,n=Object(M.b)(),r=Object(k.useRef)(null);return T.a.createElement("span",{ref:r,onKeyDown:function(e){gt(e,n)},tabIndex:0},t)},jt=n(136),yt=function(){var e=Object(M.b)(),t=Object(jt.debounce)(50,(function(){var t=document.documentElement,n=t.clientWidth,r=t.clientHeight;e(We.windowMeasurements({width:n,height:r}))}));return Object(k.useLayoutEffect)((function(){t()}),[t]),Object(k.useEffect)((function(){return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}})),null},ht=n(303),Ct=n(285),Dt=function(){var e=Object(k.useState)(!1),t=Object(Je.a)(e,2),n=t[0],r=t[1],a=Object(M.c)(lt),c=Object(M.b)();!a&&n&&r(!1),a&&!n&&r(!0);var o=function(){r(!1),c(We.spanOrigin(null))},i=function(e){!n||"Escape"!==e.key&&"Esc"!==e.key||o()};return Object(k.useEffect)((function(){return document.addEventListener("keydown",i),function(){document.removeEventListener("keydown",i)}})),T.a.createElement(ht.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:n,onClose:function(e,t){"clickaway"===t?e.preventDefault():(r(!1),c(We.spanOrigin(null)))},message:"Origin is marked",action:T.a.createElement(Ct.a,{color:"secondary",size:"small",onClick:o},"UNMARK")})},St=(n(183),n(184),n(66)),It=n(163),wt="cardRiverState",Rt=n(286),xt=n(287),kt=function(e){return"CardRiver "+e},Tt=function(e){return parseInt(e.replace("CardRiver ",""))},Nt=function(e){return{riverID:kt(e),cardIDs:[]}},At=function(e){for(var t=Object(De.a)({},e),n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach((function(e){t.riverMakeUps[e.riverID]=e})),t},Pt=function(e,t){var n=Object.fromEntries(Object.entries(e.riverMakeUps).map((function(e){return[e[0],Object(De.a)(Object(De.a)({},e[1]),{},{cardIDs:e[1].cardIDs.filter((function(e){return e!==t}))})]})).filter((function(e){return 0!==e[1].cardIDs.length})));return Object(De.a)(Object(De.a)({},e),{},{riverMakeUps:n})},Mt="cards",Ft={note:function(e){return e},q:function(e){return e.q},a:function(e){return e.a}},Lt=function(e,t){return Ft[e](t)},Ut={note:function(e,t){return t(e)},q:function(e,t){return Object(De.a)(Object(De.a)({},e),{},{q:t(e.q)})},a:function(e,t){return Object(De.a)(Object(De.a)({},e),{},{a:t(e.a)})}},Bt=function(e){return function(t){return e}},qt=function(e){var t=Lt(e.inputField,e.inputObject),n=e.createModify(t);return function(e,t,n){return Ut[e](t,n)}(e.fieldToBeChanged,e.objectToBeChanged,n)},Ht=function(){return{q:"",a:""}},Vt={q:Ht,a:Ht,note:function(){return""}},Qt=function(e){return Vt[e]()},Wt=function(e){return""===e},Gt=function(e){return""===e.q||""===e.a},zt={APPEND:function(e){return function(t){return(t+" "+e).trim()}},REPLACE:Bt},_t=function(e){return zt[e]},Kt=function(e,t,n,r){var a={inputObject:e,inputField:"note",fieldToBeChanged:t,objectToBeChanged:r,createModify:_t(n)};return qt(a)},Jt=function(e,t){var n=Qt(t);return Kt(e,t,"REPLACE",n)},Xt=function(e,t){return""===e.content||e.content.includes(t)},$t=function(e,t){return""===e.content.a||""===e.content.q||e.content.a.includes(t)||e.content.q.includes(t)},Yt=function(e){return parseInt(e)},Zt=function(e){return(e+1).toString()},en={Note:function(e){return Wt(e.content)},"Q-A":function(e){return Gt(e.content)}},tn=function(e){return en[e.type](e)},nn=function(e,t,n,r){var a=Kt(e,t,n,r.content);return Object(De.a)(Object(De.a)({},r),{},{content:a})},rn={q:"Q-A",a:"Q-A",note:"Note"},an=function(e){return rn[e]},cn=function(e){return{type:"Note",content:"",cardID:e}},on=function(e){return{type:"Q-A",content:{q:"",a:""},cardID:e}},un=function(e){return e[Mt]},ln=Object(Ye.a)(un,(function(e){return e.past.length>0})),dn=Object(Ye.a)(un,(function(e){return e.future.length>0})),sn=function(e){return e[Mt].present},fn=Object(Ye.a)(sn,(function(e){return e.lastCardIDNumber})),mn=Object(Ye.a)(fn,Zt),pn=Object(Ye.a)(sn,(function(e){return e.cards})),vn=function(e,t){return pn(e)[t]},bn=n(138),En=n.n(bn),gn={cards:{},lastCardIDNumber:0},On=function(e,t){var n=Object(De.a)({},e);return n[t.cardID]=t,n},jn=Object(Ae.a)({name:Mt,initialState:gn,reducers:{cardPush:function(e,t){var n=t.payload;return Object(De.a)(Object(De.a)({},e),{},{cards:On(e.cards,n),lastCardIDNumber:Yt(n.cardID)+1})},cardReplace:function(e,t){var n=t.payload;return Object(De.a)(Object(De.a)({},e),{},{cards:On(e.cards,n)})},cardFieldReplace:function(e,t){var n=t.payload;return Object(De.a)(Object(De.a)({},e),{},{cards:On(e.cards,nn(n.newValue,n.cardField,"REPLACE",n.cardConfig))})},cardRemove:function(e,t){var n=t.payload,r=Object(De.a)({},e.cards);return delete r[n],Object(De.a)(Object(De.a)({},e),{},{cards:r})},allCardsReplace:function(e,t){return t.payload},allCardsReset:function(){return gn}}}),yn=jn.actions,hn=jn,Cn=function(){var e=Object(M.b)(),t=Object(M.c)(mn);return T.a.createElement(Ce.components.NewNoteCardTooltip,null,T.a.createElement(L.a,{type:"button",onClick:function(){e(yn.cardPush(cn(t)))}},T.a.createElement(En.a,null)))},Dn=n(139),Sn=n.n(Dn),In=function(){var e=Object(M.b)(),t=Object(M.c)(mn);return T.a.createElement(Ce.components.AddQAButtonTooltip,null,T.a.createElement(L.a,{type:"button",onClick:function(){e(yn.cardPush(on(t)))}},T.a.createElement(Sn.a,null)))},wn=n(140),Rn=n.n(wn),xn=function(e){var t=e.cardID,n=Object(M.b)();return T.a.createElement(Ce.components.DeleteCardButtonTooltip,null,T.a.createElement(L.a,{type:"button",onClick:function(){n(yn.cardRemove(t))}},T.a.createElement(Rn.a,{fontSize:"small"})))},kn=function(){return{q:{},a:{}}},Tn={q:kn,a:kn,note:function(){return""}},Nn=function(e){return Tn[e]()},An=function(e,t,n){var r={inputObject:e,inputField:"note",fieldToBeChanged:t,objectToBeChanged:n||Nn(t),createModify:Bt};return qt(r)},Pn=hn.reducer,Mn={constants:u,actions:hn.actions,reducer:Pn,name:hn.name,selectors:f,components:m,model:v},Fn=function(e){return e[wt].present},Ln=Object(Ye.a)(Fn,(function(e){return e.riverMakeUps})),Un=Object(Ye.a)(Ln,(function(e){return Object.keys(e)})),Bn=Object(Ye.a)(Un,(function(e){return e.sort((function(e,t){return Tt(e)-Tt(t)}))})),qn=Object(Ye.a)(Ln,(function(e){return Object.values(e).sort((function(e,t){return Tt(e.riverID)-Tt(t.riverID)}))})),Hn=Object(Ye.a)(qn,Mn.selectors.getCards,(function(e,t){var n,r=[],a=Object(xe.a)(e);try{for(a.s();!(n=a.n()).done;){var c,o=n.value,i=Object(xe.a)(o.cardIDs);try{for(i.s();!(c=i.n()).done;){var u=c.value;r.push(t[u])}}catch(l){i.e(l)}finally{i.f()}}}catch(l){a.e(l)}finally{a.f()}return r})),Vn=Object(Ye.a)(Fn,(function(e){return e.riverActiveID})),Qn=Object(Ye.a)(Ln,Vn,(function(e,t){var n=e[t];return n||{cardIDs:[]}})),Wn=Object(Ye.a)(Qn,(function(e){return e.cardIDs})),Gn=Object(Ye.a)(Wn,Mn.selectors.getCards,(function(e,t){return e.map((function(e){return t[e]}))})),zn=Object(Ye.a)(Fn,(function(e){return e.riverShowState})),_n=Object(Ye.a)(zn,(function(e){return"SHOW"===e})),Kn=Object(Ye.a)(Fn,(function(e){return e.riverContentState})),Jn=Object(Ye.a)(Fn,(function(e){return e.riverContentFilter})),Xn=Object(Ye.a)(Fn,(function(e){return e.riverOriginRequest})),$n=n(7),Yn=n(299),Zn=n(93),er=Object($n.a)({root:{color:Zn.a[400],"&$checked":{color:Zn.a[600]}},checked:{}})((function(e){return T.a.createElement(Yn.a,Object.assign({color:"default"},e))})),tr=n(161),nr={riverOriginRequest:null,riverMakeUps:Object(ke.a)({},kt(1),{riverID:kt(1),cardIDs:[]}),riverActiveID:kt(1),riverShowState:"SHOW",riverContentState:"ALL",riverContentFilter:"",count_DONT_USE:0},rr=Ne("riverActiveID"),ar=Ne("riverShowState"),cr=Ne("riverContentState"),or=Ne("riverContentFilter"),ir=Ne("riverOriginRequest"),ur=function(e){return Object(De.a)(Object(De.a)({},e),{},{count_DONT_USE:e.count_DONT_USE+1})},lr=Object(Ae.a)({name:wt,initialState:nr,reducers:{riverActiveID:rr,riverShowState:ar,riverContentState:cr,riverContentFilter:or,riverOriginRequest:ir,allRiversReset:function(e){return nr},allRiversReplace:function(e,t){var n=t.payload;return Object(De.a)(Object(De.a)({},nr),{},{riverMakeUps:n})}},extraReducers:(Ie={},Object(ke.a)(Ie,Mn.actions.cardPush.type,(function(e,t){var n,r,a=t.payload;return n=e.riverMakeUps[e.riverActiveID]?Object(De.a)(Object(De.a)({},e.riverMakeUps[e.riverActiveID]),{},{cardIDs:[].concat(Object(tr.a)(e.riverMakeUps[e.riverActiveID].cardIDs),[a.cardID])}):{riverID:e.riverActiveID,cardIDs:[a.cardID]},(r=Object(De.a)({},e.riverMakeUps))[e.riverActiveID]=n,Object(De.a)(Object(De.a)({},e),{},{riverMakeUps:r,count_DONT_USE:0})})),Object(ke.a)(Ie,Mn.actions.cardRemove.type,(function(e,t){var n=t.payload;return Object(De.a)(Object(De.a)({},Pt(e,n)),{},{count_DONT_USE:0})})),Object(ke.a)(Ie,Mn.actions.cardReplace.type,ur),Object(ke.a)(Ie,Mn.actions.cardFieldReplace.type,ur),Ie)}),dr=lr.actions,sr=lr,fr=function(){var e=Object(M.c)(Kn),t=Object(M.b)(),n="ALL"===e||"QAS"===e,r="ALL"===e||"NOTES"===e,a=function(e){n||"QAS"!==e?r||"NOTES"!==e?n&&"QAS"===e?t(r?dr.riverContentState("NOTES"):dr.riverContentState("NONE")):r&&"NOTES"===e&&t(n?dr.riverContentState("QAS"):dr.riverContentState("NONE")):t(n?dr.riverContentState("ALL"):dr.riverContentState("NOTES")):t(r?dr.riverContentState("ALL"):dr.riverContentState("QAS"))};return T.a.createElement(Rt.a,null,T.a.createElement(xt.a,{control:T.a.createElement(er,{checked:n,onClick:function(){a("QAS")}}),label:"QAs"}),T.a.createElement(xt.a,{control:T.a.createElement(er,{checked:r,onClick:function(){a("NOTES")}}),label:"Notes"}))},mr=n(301),pr=n(288),vr=n(289),br=n(164),Er=function(e){return e.selectionData},gr=Object(Ye.a)(Er,(function(e){return e.goalConfig})),Or=Object(Ye.a)(Er,(function(e){return e.sourceConfig})),jr=Object(Ye.a)(Or,(function(e){return!!e})),yr=function(e,t,n,r){if(function(e){return!!!e.cardID}(t)){var a=function(e,t){var n=e.contentOrigin,r=e.contentStr,a=t.cardField;return{type:Mn.model.config.cardFieldToType(a),content:Mn.model.content.strToNewCardContent(r,a),origin:n?Mn.model.origin.singleOriginToCardOrigin(n,a):void 0}}(e,t),c=mn(r);n(Mn.actions.cardPush(Object(De.a)(Object(De.a)({},a),{},{cardID:c})))}else{var o=function(e,t,n){var r=Mn.selectors.getCardByID(n,t.cardID),a=e.contentOrigin,c=e.contentStr,o=t.cardField;return Object(De.a)(Object(De.a)({},r),{},{content:Mn.model.content.strToCardContent(c,o,t.updateType,r.content),origin:a?Mn.model.origin.singleOriginToCardOrigin(a,o,r.origin):r.origin})}(e,t,r);n(Mn.actions.cardReplace(o))}},hr=function(){var e=window.getSelection();if(!e)return null;try{var t=document.activeElement;if(t&&t.value){var n=t.value.substring(t.selectionStart,t.selectionEnd);return""===n?null:{text:n,selection:e}}var r=e.toString();return""===r?null:{text:r,selection:e}}catch(a){return null}},Cr=function(e){var t=hr();return!!t&&function(e,t){var n,r,a=e.selection,c=null===(n=a.anchorNode)||void 0===n?void 0:n.parentNode,o=null===(r=a.focusNode)||void 0===r?void 0:r.parentNode;if(!c||!o)return!1;if("MARK"===c.nodeName&&!(c=c.parentNode))return!1;if("MARK"===o.nodeName&&!(o=o.parentNode))return!1;if("SPAN"!==c.nodeName||"SPAN"!==o.nodeName)return!1;var i=c.parentNode;if(!i||"DIV"!==i.nodeName)return!1;var u=Array.from(i.childNodes);if(0===u.length)return!1;var l=u.indexOf(c),d=u.indexOf(o);return-1!==l&&-1!==d&&{contentStr:e.text,contentOrigin:{spanIndexStart:l,spanIndexEnd:d,page:t}}}(t,e)},Dr=Ne("sourceConfig"),Sr=Ne("goalConfig"),Ir=Object(Ae.a)({name:"selectionData",initialState:{sourceConfig:null,goalConfig:null},reducers:{selectionSource:Dr,selectionGoal:Sr}}),wr=Ir.actions,Rr=Ir,xr=wr.selectionSource,kr=function(){return xr(null)},Tr=wr.selectionGoal,Nr=function(){return Tr(null)},Ar=function(e){return function(t,n){var r=n(),a=gr(r);a?(yr(e,a,t,r),t(Nr())):t(xr(e))}},Pr=function(e){var t=Cr(e);return!!t&&Ar(t)},Mr=function(e){var t=function(e){var t=hr();return!!t&&{contentStr:t.text,contentOrigin:e}}(e);return!!t&&Ar(t)},Fr=function(e){return function(t,n){var r=n(),a=Or(r);a?(yr(a,e,t,r),t(kr())):t(Tr(e))}},Lr=function(e,t){return Fr({cardID:e,cardField:t,updateType:"APPEND"})},Ur=function(e,t){return Fr({cardID:e,cardField:t,updateType:"REPLACE"})},Br=n(141),qr=n.n(Br),Hr=function(){var e=Object(k.useState)(!1),t=Object(Je.a)(e,2),n=t[0],r=t[1],a=Object(M.b)(),c=Object(M.c)(Or);!c&&n&&r(!1),c&&!n&&r(!0);var o=function(){r(!1),a(kr())},i=function(e){!n||"Escape"!==e.key&&"Esc"!==e.key||o()};return Object(k.useEffect)((function(){return document.addEventListener("keydown",i),function(){document.removeEventListener("keydown",i)}})),T.a.createElement(ht.a,{style:{maxWidth:"400px",overflowX:"auto"},anchorOrigin:{vertical:"top",horizontal:"center"},open:n,onClose:function(e,t){"clickaway"===t?e.preventDefault():(r(!1),a(kr()))},message:T.a.createElement(P.a,{container:!0,direction:"row",spacing:1},T.a.createElement(P.a,{item:!0},T.a.createElement(U.a,{variant:"outlined",color:"secondary",style:{padding:"4px",color:"white",backgroundColor:"#3f51b5",maxWidth:"400px",overflowX:"auto"},square:!0},T.a.createElement($e.a,{variant:"h4"},"Selection:")),T.a.createElement(U.a,{variant:"outlined",style:{padding:"4px",color:"black",backgroundColor:"white"},square:!0},T.a.createElement($e.a,{variant:"body1"},null===c||void 0===c?void 0:c.contentStr))),(null===c||void 0===c?void 0:c.contentOrigin)&&T.a.createElement(P.a,{item:!0},T.a.createElement(U.a,{variant:"outlined",color:"secondary",style:{padding:"4px",color:"black",backgroundColor:"white"},square:!0},T.a.createElement($e.a,{variant:"h4"},"Origin:")),T.a.createElement(U.a,{variant:"outlined",style:{padding:"4px",color:"white",backgroundColor:"#3f51b5"},square:!0},T.a.createElement($e.a,{variant:"body1"},"Page ",c.contentOrigin.page)))),action:T.a.createElement(L.a,{size:"small","aria-label":"close",color:"inherit",onClick:o},T.a.createElement(qr.a,{fontSize:"small"}))})},Vr=function(e){var t=e.children,n=e.page,r=Object(M.b)();return T.a.createElement("span",{onMouseUp:function(){var e=Pr(n);e&&r(e)},onMouseDown:function(e){var t;0===e.button&&(null===(t=window.getSelection())||void 0===t||t.empty())}},t)},Qr=function(e){var t=e.children,n=e.fieldOrigin,r=Object(M.b)();return T.a.createElement("span",{onMouseUp:function(){var e=Mr(n);e&&r(e)}},t)},Wr=n(143),Gr=n.n(Wr),zr=n(142),_r=n.n(zr),Kr=function(e){var t=e.cardField,n=e.cardID,r=Object(M.b)(),a=Object(M.c)(Or),c=Object(M.c)(gr),o=Object(k.useState)(!1),i=Object(Je.a)(o,2),u=i[0],l=i[1],d=!!c&&!!c.cardID&&c.cardID===n&&c.cardField===t&&"APPEND"===c.updateType;return d?u||l(!0):u&&l(!1),T.a.createElement(F.a,{title:d?Ce.constants.CardIsAppendGoalTooltip:a?Ce.constants.AppendToCardTooltip:Ce.constants.ChoiceCardAsAppendGoal,enterDelay:Ce.constants.defaultEnterDelay,enterNextDelay:Ce.constants.defaultEnterNextDelay},T.a.createElement(L.a,{type:"button",onClick:function(){u||c?d&&r(Nr()):r(Lr(n,t))}},u?T.a.createElement(_r.a,{fontSize:"small"}):T.a.createElement(Gr.a,{fontSize:"small"})))},Jr=n(162),Xr=n(305),$r=function(){var e=Object(k.useState)(void 0),t=Object(Je.a)(e,2),n=t[0],r=t[1],a=Object(k.useRef)(null),c=Object(k.useCallback)((function(e){!function(e,t){var n,r,a=t.target;return!!(null===(n=e.current)||void 0===n||null===(r=n.querySelector("div.MuiPaper-root"))||void 0===r?void 0:r.contains(a))}(a,e)&&r(void 0)}),[a,r]);Object(k.useEffect)((function(){return document.addEventListener("mousedown",c),function(){document.removeEventListener("mousedown",c)}}),[c]);var o=Object(M.c)(jr),i=Object(k.useCallback)((function(e){o&&(e.preventDefault(),r({left:e.x,top:e.y}))}),[o,r]);Object(k.useEffect)((function(){return document.addEventListener("contextmenu",i),function(){document.removeEventListener("contextmenu",i)}}),[i]);var u=!!n,l=Object(M.b)();return T.a.createElement(Jr.a,{ref:a,keepMounted:!0,open:u,anchorReference:"anchorPosition",anchorPosition:n},T.a.createElement(Xr.a,{onClick:function(){l(Fr({cardField:"note",updateType:"REPLACE"})),r(void 0)}},"New: Note"),T.a.createElement(B.a,null),T.a.createElement(Xr.a,{onClick:function(){l(Fr({cardField:"q",updateType:"REPLACE"})),r(void 0)}},"New: Q (Q-A)"),T.a.createElement(Xr.a,{onClick:function(){l(Fr({cardField:"a",updateType:"REPLACE"})),r(void 0)}},"New: A (Q-A)"))},Yr=n(144),Zr=n.n(Yr),ea=n(145),ta=n.n(ea),na=function(e){var t=e.cardField,n=e.cardID,r=Object(M.b)(),a=Object(M.c)(Or),c=Object(M.c)(gr),o=Object(k.useState)(!1),i=Object(Je.a)(o,2),u=i[0],l=i[1],d=!!c&&!!c.cardID&&c.cardID===n&&c.cardField===t&&"REPLACE"===c.updateType;return d?u||l(!0):u&&l(!1),T.a.createElement(F.a,{title:d?Ce.constants.CardIsReplaceGoalTooltip:a?Ce.constants.ReplaceCardTooltip:Ce.constants.ChoiceCardAsReplaceGoal,enterDelay:Ce.constants.defaultEnterDelay,enterNextDelay:Ce.constants.defaultEnterNextDelay},T.a.createElement(L.a,{type:"button",onClick:function(){u||c?d&&r(Nr()):r(Ur(n,t))}},u?T.a.createElement(Zr.a,{fontSize:"small"}):T.a.createElement(ta.a,{fontSize:"small"})))},ra=Rr.reducer,aa={actions:O,name:Rr.name,components:j,reducer:ra,selectors:E,services:y},ca=function(e){var t=e.storeValue,n=void 0===t?"":t,r=e.saveChanges,a=e.fieldOrigin,c=e.style,o=Object(br.a)(e,["storeValue","saveChanges","fieldOrigin","style"]),i=Object(k.useState)({storeValue:n,mutableValue:n}),u=Object(Je.a)(i,2),l=u[0],d=u[1];return l.storeValue!==n&&d({storeValue:n,mutableValue:n}),T.a.createElement(aa.components.CardFieldMouseUp,{fieldOrigin:a&&void 0!==a.spanIndexStart?a:void 0},T.a.createElement(Xe.a,Object.assign({InputProps:{disableUnderline:!0,style:{minWidth:"400px"}},multiline:!0,variant:"filled",value:l.mutableValue,onChange:function(e){var t=e.target.value;d(Object(De.a)(Object(De.a)({},l),{},{mutableValue:t}))},onBlur:function(e){r(e.target.value)},style:c},o)))},oa=n(146),ia=n.n(oa),ua=function(e){var t=e.cardOrigin,n=Object(M.b)();return T.a.createElement(F.a,{title:Ce.constants.jumpToOriginTooltip,enterDelay:Ce.constants.defaultEnterDelay,enterNextDelay:Ce.constants.defaultEnterNextDelay},T.a.createElement(L.a,{type:"button",onClick:function(){n(dr.riverOriginRequest(t))}},T.a.createElement(ia.a,{fontSize:"small"})))},la=n(89),da=function(e){var t=e.config,n=e.cardField,r=t.origin?Mn.model.permutation.toFieldValue(n,t.origin):null,a=void 0!==(null===r||void 0===r?void 0:r.page);return T.a.createElement(la.a,{variant:"outlined"},T.a.createElement(P.a,{container:!0,direction:"row"},T.a.createElement(P.a,{item:!0},T.a.createElement(aa.components.AppendButton,{cardID:t.cardID,cardField:n})),T.a.createElement(P.a,{item:!0},T.a.createElement(aa.components.ReplaceButton,{cardID:t.cardID,cardField:n})),T.a.createElement(P.a,{item:!0},a&&T.a.createElement(ua,{cardOrigin:r}))))},sa=function(e){var t,n,r=e.config,a=Object(M.b)();return T.a.createElement(U.a,{variant:"elevation",elevation:5,style:{padding:"3px"}},T.a.createElement(P.a,{container:!0,direction:"row",justify:"space-between"},T.a.createElement(P.a,{item:!0},T.a.createElement(P.a,{container:!0,direction:"column",spacing:1},T.a.createElement(P.a,{item:!0},T.a.createElement(P.a,{container:!0,direction:"row",spacing:1},T.a.createElement(P.a,{item:!0},T.a.createElement(ca,{saveChanges:function(e){a(Mn.actions.cardFieldReplace({cardField:"q",cardConfig:r,newValue:e}))},storeValue:r.content.q,label:Ce.constants.questionText,variant:"filled",style:{backgroundColor:"#FFBF69"},InputLabelProps:{style:{color:"#000000"}},fieldOrigin:null===(t=r.origin)||void 0===t?void 0:t.q})),T.a.createElement(P.a,{item:!0},T.a.createElement(da,{cardField:"q",config:r})))),T.a.createElement(P.a,{item:!0},T.a.createElement(P.a,{container:!0,direction:"row",spacing:1},T.a.createElement(P.a,{item:!0},T.a.createElement(ca,{saveChanges:function(e){a(Mn.actions.cardFieldReplace({cardField:"a",cardConfig:r,newValue:e}))},storeValue:r.content.a,label:Ce.constants.answerText,style:{backgroundColor:"#2EC4B6"},InputLabelProps:{style:{color:"#000000"}},fieldOrigin:null===(n=r.origin)||void 0===n?void 0:n.a})),T.a.createElement(P.a,{item:!0},T.a.createElement(da,{cardField:"a",config:r})))))),T.a.createElement(P.a,{item:!0},T.a.createElement(Mn.components.DeleteCardButton,{cardID:r.cardID}))))},fa=function(e){var t=e.config,n=Object(M.b)();return T.a.createElement(U.a,{variant:"elevation",elevation:5,style:{padding:"3px"}},T.a.createElement(P.a,{container:!0,direction:"row",justify:"space-between"},T.a.createElement(P.a,{item:!0},T.a.createElement(P.a,{container:!0,direction:"row",spacing:1},T.a.createElement(P.a,{item:!0},T.a.createElement(ca,{saveChanges:function(e){n(Mn.actions.cardReplace(Object(De.a)(Object(De.a)({},t),{},{content:e})))},storeValue:t.content,label:Ce.constants.noteText,variant:"filled",style:{backgroundColor:"#CBF3F0"},InputLabelProps:{style:{color:"#000000"}},fieldOrigin:t.origin})),T.a.createElement(P.a,{item:!0},T.a.createElement(da,{cardField:"note",config:t})))),T.a.createElement(P.a,{item:!0},T.a.createElement(Mn.components.DeleteCardButton,{cardID:t.cardID}))))},ma=function(e){var t=e.config;switch(t.type){case"Note":return T.a.createElement(fa,{config:t});case"Q-A":return T.a.createElement(sa,{config:t})}},pa=function(){return T.a.createElement(P.a,{item:!0},T.a.createElement(B.a,null))},va=function(e){return"Q-A"===e.type},ba=function(e){return"Note"===e.type},Ea=function(e,t,n){if("NONE"===t)return[];var r=[];return"ALL"!==t&&("QAS"===t?r.push(va):"NOTES"===t&&r.push(ba)),""!==n&&r.push(function(e){return function(t){switch(t.type){case"Note":return Mn.model.content.noteContentContainsStringOrEmpty(t,e);case"Q-A":return Mn.model.content.qaContentContainsStringOrEmpty(t,e)}}}(n)),r.length>0?e.filter(function(e){return function(t){return e.reduce((function(e,n){return e||n(t)}),!1)}}(r)):e},ga=function(e){var t=e.riverID,n=e.materialHeight,r=Object(M.c)(Mn.selectors.getCards),a=Object(M.c)(Ln)[t],c=a?a.cardIDs.map((function(e){return r[e]})):[],o=Object(M.c)(Kn),i=Object(M.c)(Jn),u=function(e){var t=Te();return e.reduce((function(e,n,r,a){return e.push(T.a.createElement(P.a,{item:!0,key:t()},T.a.createElement(ma,{config:n,key:t()}))),r<a.length-1&&e.push(T.a.createElement(pa,{key:t()})),e}),[])}(Ea(c,o,i));return T.a.createElement(mr.a,{expanded:!0,defaultExpanded:!0,style:{overflow:"auto",height:n},elevation:5},T.a.createElement(pr.a,null,T.a.createElement($e.a,{variant:"h6",align:"center",style:{MozUserSelect:"none",WebkitUserSelect:"none",msUserSelect:"none"}},t)),T.a.createElement(vr.a,null,T.a.createElement(P.a,{container:!0,direction:"column",spacing:2,justify:"center",alignItems:"stretch"},T.a.createElement(P.a,{item:!0},T.a.createElement("span",{onClick:function(){console.log("here")}},T.a.createElement(Mn.components.AddQAButton,null)),T.a.createElement(Mn.components.AddNoteButton,null),T.a.createElement(B.a,null)),T.a.createElement(P.a,{item:!0},T.a.createElement(P.a,{container:!0,direction:"column",spacing:2,justify:"center",alignItems:"stretch"},u)))))},Oa=function(e){var t=e.children,n=e.riverID,r=Object(M.b)(),a=Object(M.c)(Vn);return T.a.createElement("span",{onMouseEnter:function(){a!==n&&r(dr.riverActiveID(n))}},t)},ja=function(){var e=Object(M.b)(),t=Object(M.c)(zn);return T.a.createElement(Ct.a,{startIcon:T.a.createElement(xt.a,{label:"River",control:T.a.createElement(er,{checked:"SHOW"===t})}),variant:"contained",color:"primary",onClick:function(){e(dr.riverShowState("SHOW"===t?"HIDE":"SHOW"))}})},ya=sr.actions,ha={constants:o,components:h,reducer:sr.reducer,name:sr.name,selectors:b,actions:ya,model:i,services:C},Ca=function(e){var t=e.page,n=e.pageRef,r=Object(M.c)(lt),a=Object(k.useRef)(0),c=Object(M.b)(),o=Object(k.useCallback)((function(){var e=setInterval((function(){var t;if(10===a.current)return a.current=0,clearInterval(e),console.log("invalid origin clicked",r),void c(We.spanOrigin(null));var o=null===(t=n.current)||void 0===t?void 0:t.children.item(1);if(o){var i=o.children.item(r.spanIndexStart);if(i)return i.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"}),a.current=0,void clearInterval(e)}a.current=a.current+1}),10)}),[c,a,r,n]);return Object(k.useEffect)((function(){if(r&&r.page===t&&n.current){var e=n.current.children.item(1);if(e){var c=e.children.item(r.spanIndexStart);c?(c.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"}),a.current=0):o()}else o()}}),[c,t,n,r,o]),null},Da=function(e){return function(t){return function(e,t){var n=e.itemIndex;return n>=t.spanIndexStart&&n<=t.spanIndexEnd?T.a.createElement("mark",{style:{backgroundColor:"red"}},e.str):e.str}(t,e)}},Sa={backgroundColor:"blue"};function Ia(e){return function(t){return function(e,t){var n=e.length,r=t.length;if(""===t||""===e||r>n)return e;var a=e.indexOf(t);if(-1===a)return e;var c=T.a.createElement("mark",{style:Sa},t),o=a>0&&e.slice(0,a),i=[];o&&i.push(o),i.push(c);var u=e.indexOf(t,a+r);if(-1===u){var l=a+r,d=l<n&&e.slice(l);return d&&i.push(d),i}var s=a+r,f=s!==u&&e.slice(s,u);f&&i.push(f),i.push(c);var m=e.indexOf(t,u+r);if(-1===m){var p=u+r;return p<n&&e.slice(p)&&i.push(f),i}var v=u+r,b=v<n&&e.slice(v,m);if(b&&i.push(b),i.push(c),m+r===n)return i;var E=e.slice(m+r);if(E===t)return i.push(c),i;var g=E.split(t);if(g.length<=1)return i.push(E),i;for(var O=0;O<g.length;O++){var j=g[O];0!==O||""!==j?O!==g.length-1||""===j?(""!==j&&i.push(j),i.push(c)):i.push(j):i.push(c)}return i}(t.str,e)}}var wa=function(e){var t,n=e.pageNumber,r=null===(t=Object(M.c)(tt))||void 0===t?void 0:t.width,a=Object(M.c)(dt),c=Object(M.c)(lt),o=c?Da(c):void 0,i=function(e,t){return e?t?function(n){return t(Object(De.a)(Object(De.a)({},n),{},{str:e(n)}))}:e:t}(""!==a?Ia(a):void 0,o),u=Object(k.useRef)(null);return T.a.createElement("div",{style:{overflow:"auto"}},T.a.createElement(aa.components.MaterialMouseUp,{page:n},T.a.createElement(Ot,null,T.a.createElement(St.b,{inputRef:function(e){u.current=e},pageNumber:n,width:r*Ta,customTextRenderer:i,renderAnnotationLayer:!1}))),T.a.createElement(Ca,{page:n,pageRef:u}))},Ra=function(e){var t,n=e.riverID,r=e.materialHeight,a=null===(t=Object(M.c)(tt))||void 0===t?void 0:t.width;return T.a.createElement("div",{style:{maxWidth:a*Na}},T.a.createElement(ha.components.CardRiver,{riverID:n,materialHeight:r}))},xa=function(e){var t=e.index,n=e.data,r=e.style,a=t+1,c=ha.model.pageNumberToRiverMakeUpID(a),o=n.materialHeights,i=Object(M.c)(ha.selectors.getRiverShowState),u=Object(M.c)(it);return T.a.createElement("div",{style:Object(De.a)({},r)},T.a.createElement(ha.components.SwitchActiveRiver,{riverID:c},T.a.createElement(P.a,{container:!0,justify:"space-between",direction:"row",alignItems:"flex-start"},T.a.createElement(P.a,{item:!0,hidden:"HIDE"===i},T.a.createElement(Ra,{riverID:c,materialHeight:o.get(a)})),T.a.createElement(P.a,{item:!0,hidden:"HIDE"===u},T.a.createElement(wa,{pageNumber:a})))),T.a.createElement(B.a,{style:{marginTop:Aa/2}}))},ka=function(e){var t=e.listRef,n=Object(M.c)(ft),r=Object(M.c)(ct),a=Object(M.c)(at),c=Object(M.c)(ha.selectors.getOriginRequest);Object(k.useEffect)((function(){var e;null===(e=t.current)||void 0===e||e.scrollToItem(a-1,"start")}),[]);var o=Object(M.b)();return Object(k.useEffect)((function(){var e,a;if((c||r)&&n!==x.RiverMaterial&&o(We.currentView(x.RiverMaterial)),c)return null===(e=t.current)||void 0===e||e.scrollToItem(c.page-1,"auto"),o(We.spanOrigin(c)),o(We.pageUpdate({page:c.page,shouldScroll:!1})),void o(ha.actions.riverOriginRequest(null));r&&(null===(a=t.current)||void 0===a||a.scrollToItem(r-1,"start"),o(We.pageUpdate({page:r,shouldScroll:!1})))}),[o,t,r,c,n]),null},Ta=.63,Na=.35,Aa=20,Pa=function(e){var t=e.listRef,n=e.materialHeights,r=Object(k.useRef)(n);return Object(k.useEffect)((function(){var e;n!==r.current&&(null===(e=t.current)||void 0===e||e.resetAfterIndex(0),r.current=n)})),null},Ma=function(e){var t=e.pdfProxyRef,n=e.cachedPageDimensions,r=Object(k.useRef)(),a=Object(M.c)(tt),c=a?Array.from(n.keys()).reduce((function(e,t){return e.set(t,function(e,t,n){var r=t.get(e),a=n*Ta/r[0];return r[1]*a+20}(t,n,a.width)),e}),new Map):void 0,o=Object(M.b)(),i=Object(M.c)(st);return T.a.createElement(k.Fragment,null,a&&c&&T.a.createElement(It.a,{height:a.height-i,itemCount:t.current.numPages,itemSize:function(e){return c.get(e+1)+Aa},itemData:{materialHeights:c},ref:r,width:"100%",onItemsRendered:function(e){o(We.pageUpdate({page:e.visibleStopIndex+1,shouldScroll:!1}))}},xa),c&&T.a.createElement(Pa,{listRef:r,materialHeights:c}),T.a.createElement(ka,{listRef:r}))};St.c.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(St.c.version,"/pdf.worker.js");var Fa={cMapUrl:"cmaps/",cMapPacked:!0},La=function(){var e=Object(M.c)(et),t=Object(k.useState)(),n=Object(Je.a)(t,2),r=n[0],a=n[1],c=Object(k.useRef)(),o=Object(M.b)(),i=null===e||void 0===e?void 0:e.name,u=Object(k.useRef)(i);return u.current!==i&&(u.current=i),T.a.createElement(St.a,{loading:Ce.constants.loadingMaterialText,noData:Ce.constants.noMaterialText,options:Fa,file:e,renderMode:"canvas",onLoadSuccess:function(t){o(We.totalPages(t.numPages)),e&&function(e,t,n,r){var a=Array.from({length:e.numPages},(function(e,t){return t+1})).map((function(t){return e.getPage(t)}));Promise.all(a).then((function(e){if(t===n.current){var a,c=new Map,o=Object(xe.a)(e);try{for(o.s();!(a=o.n()).done;){var i=a.value,u=1*i.view[2],l=1*i.view[3];c.set(i._pageIndex+1,[u,l])}}catch(d){o.e(d)}finally{o.f()}r(c)}}))}(t,i,u,a),c.current=t},onItemClick:function(e){var t=e.pageNumber;o(We.pageUpdate({page:parseInt(t),shouldScroll:!0}))}},r&&u.current===i&&T.a.createElement(Ma,{pdfProxyRef:c,cachedPageDimensions:r}))},Ua=function(e){var t=e.riverID,n=Object(M.c)(tt),r=Object(M.c)(st);return n&&r?T.a.createElement("div",{style:{marginBottom:"8px",marginTop:"4px"}},T.a.createElement(ha.components.CardRiver,{riverID:t,materialHeight:(null===n||void 0===n?void 0:n.height)-r-10})):null},Ba=function(){var e=Object(M.c)(Bn),t=Te();return T.a.createElement(P.a,{container:!0,justify:"space-evenly",alignItems:"center",spacing:2,style:{width:"100%",height:"100%"}},e.map((function(e){return T.a.createElement(P.a,{item:!0,xs:4,key:t()},T.a.createElement(ha.components.SwitchActiveRiver,{riverID:e},T.a.createElement(Ua,{riverID:e})))})))},qa=function(){var e=Object(M.c)(ft);return T.a.createElement(k.Fragment,null,T.a.createElement("div",{hidden:e!==x.RiverMaterial,style:{width:"100%",height:"100%"}},T.a.createElement(La,null),T.a.createElement(Dt,null)),T.a.createElement("div",{hidden:e!==x.RiverExplorer,style:{width:"100%",height:"100%"}},T.a.createElement(Ba,null)))},Ha=n(298),Va=n(290),Qa=function(){var e=Object(M.c)(ft),t=Object(M.b)();return T.a.createElement(U.a,null,T.a.createElement(Ha.a,{value:e,onChange:function(e,n){t(We.currentView(n))}},T.a.createElement(Va.a,{label:"River-Material"}),T.a.createElement(Va.a,{label:"River Explorer"})))},Wa=function(){var e=Object(M.b)(),t=Object(M.c)(it);return T.a.createElement(Ct.a,{startIcon:T.a.createElement(xt.a,{label:"Material",control:T.a.createElement(er,{checked:"SHOW"===t})}),variant:"contained",color:"primary",onClick:function(){e(We.displayStatus("SHOW"===t?"HIDE":"SHOW"))}})},Ga=Ge.reducer,za={actions:Ge.actions,components:D,name:Ge.name,reducer:Ga,selectors:c},_a=n(33),Ka=n.n(_a),Ja=Object(Ye.a)(za.selectors.getPDFName,za.selectors.getTotalPages,za.selectors.getCurrentPage,ha.selectors.getRiverMakeUps,ha.selectors.getActiveRiverMakeUpID,Mn.selectors.getCards,Mn.selectors.getLastCardIDNumber,(function(e,t,n,r,a,c,o){return{name:e,totalPages:t,currentPage:n,riverMakeUps:r,riverActiveID:a,cards:c,lastCardIDNumber:o}})),Xa=n(147),$a=function(e){return e.documentDB},Ya=Object(Ye.a)($a,(function(e){return Object.keys(e)})),Za=Object(Ye.a)($a,(function(e){return Object.values(e)})),ec=Object(Ae.a)({name:"documentDB",initialState:{},reducers:{storeInDocumentDB:function(e,t){var n=t.payload;return Object(De.a)(Object(De.a)({},e),{},Object(ke.a)({},n.name,n))},removeFromDocumentDB:function(e,t){var n=t.payload;return Object.fromEntries(Object.entries(e).filter((function(e){return e[0]!==n})))},updateDocumentDB:function(e,t){var n=t.payload;return Object(De.a)(Object(De.a)({},e),n.reduce((function(e,t){return e[t.name]=t,e}),{}))}}}),tc=ec.actions,nc=ec.reducer,rc={actions:tc,name:ec.name,reducer:nc,selectors:I,model:Xa},ac=function(){return function(e,t){var n=t();if(void 0!==za.selectors.getPDFName(n)){var r=Ja(n);e(rc.actions.storeInDocumentDB(r))}}},cc=n(213),oc=function(){return function(e,t){e(ac());var n=rc.selectors.getDocumentDataSets(t()),r=(new Date).toLocaleString();cc(JSON.stringify(n),r+" ClayMemory.txt")}},ic=function(e){e(Mn.actions.allCardsReset()),e(ha.actions.allRiversReset())},uc=function(e,t,n){var r;e(Mn.actions.allCardsReplace({cards:t.cards,lastCardIDNumber:t.lastCardIDNumber})),e(ha.actions.allRiversReplace(t.riverMakeUps)),void 0!==n&&t.name!==n&&e(za.actions.existingDocumentPayload({pdfName:(r=t).name,currentPage:r.currentPage,totalPages:r.totalPages}))},lc=function(e){return function(t,n){var r=e.name,a=n(),c=za.selectors.getPDFName(a),o=rc.selectors.getAll(a);if(void 0!==c){var i=Ja(a);t(rc.actions.storeInDocumentDB(i))}if(t(za.actions.pdfUpload(e)),r!==c){var u=o[r];u?uc(t,u):ic(t),t(_a.ActionCreators.clearHistory())}}},dc=function(e){return function(t,n){var r=n(),a=za.selectors.getPDFName(r),c=za.selectors.getPDF(r),o=rc.selectors.getAll(r);if(void 0!==a){var i=Ja(r);t(rc.actions.storeInDocumentDB(i))}var u=o[e];uc(t,u,c||a?a:""),t(_a.ActionCreators.clearHistory())}},sc=function(){return function(e,t){ic(e),e(_a.ActionCreators.clearHistory());var n=t(),r=za.selectors.getPDFName(n);e(rc.actions.removeFromDocumentDB(r))}},fc=function(e){return function(t,n){var r=n(),a=za.selectors.getPDFName(r);t(a&&a===e?sc():rc.actions.removeFromDocumentDB(e))}},mc=n(295),pc=n(296),vc=n(152),bc=n.n(vc),Ec=n(153),gc=n.n(Ec),Oc=n(304),jc=n(291),yc=n(292),hc=n(293),Cc=n(294),Dc=n(148),Sc=n.n(Dc),Ic=function(e){var t=e.document,n=e.handleClose,r=e.open,a=Object(M.b)();return T.a.createElement(Oc.a,{open:r,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},T.a.createElement(jc.a,{id:"alert-dialog-title"},"Delete "+t+" and all associated card data?"),T.a.createElement(yc.a,null,T.a.createElement(hc.a,{id:"alert-dialog-description"},"This change can not be undone.")),T.a.createElement(Cc.a,null,T.a.createElement(Ct.a,{onClick:n,color:"primary"},"Abort"),T.a.createElement(Ct.a,{onClick:function(){a(fc(t)),n()},color:"primary",autoFocus:!0},"Delete document and associated card data")))},wc=function(e){var t=e.document,n=Object(k.useState)(!1),r=Object(Je.a)(n,2),a=r[0],c=r[1];return T.a.createElement("div",null,T.a.createElement(F.a,{title:Ce.constants.deleteDocumentTooltip,enterDelay:Ce.constants.defaultEnterDelay,enterNextDelay:Ce.constants.defaultEnterNextDelay},T.a.createElement(L.a,{type:"button",onClick:function(){c(!0)}},T.a.createElement(Sc.a,{fontSize:"small"}))),T.a.createElement(Ic,{document:t,open:a,handleClose:function(){c(!1)}}))},Rc=n(149),xc=n.n(Rc),kc=function(e){var t=e.handleClose,n=e.label,r=Object(k.useRef)(null),a=Object(k.useState)(),c=Object(Je.a)(a,2),o=c[0],i=c[1];return T.a.createElement(k.Fragment,null,T.a.createElement(Xr.a,{onClick:function(){r.current.click()}},T.a.createElement(Ct.a,{variant:"contained",color:"primary",disableElevation:!0,startIcon:T.a.createElement(xc.a,null)},n)),T.a.createElement("input",{ref:r,style:{display:"none"},onChange:function(e){var t=e.target.files,n=t?t[0]:null;n&&i(n)},type:"file",accept:".txt"}),T.a.createElement(Tc,{handleClose:function(){t(),i(void 0)},open:!!o,file:o}))},Tc=function(e){var t=e.handleClose,n=e.open,r=e.file,a=Object(M.b)(),c=Object(M.c)(za.selectors.getPDFName);return console.log(n,r),T.a.createElement(Oc.a,{open:n,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},T.a.createElement(jc.a,{id:"alert-dialog-title"},"Load the uploaded dataset?"),T.a.createElement(yc.a,null,T.a.createElement(hc.a,{id:"alert-dialog-description"},"This overwrites existing data of the uploaded document-datasets and can not be undone.")),T.a.createElement(Cc.a,null,T.a.createElement(Ct.a,{onClick:t,color:"primary"},"Abort"),T.a.createElement(Ct.a,{onClick:function(){var e=new FileReader;e.readAsText(r),e.onload=function(){var n=JSON.parse(e.result),r=n.find((function(e){return e.name===c}));a(rc.actions.updateDocumentDB(n)),r&&(a(_a.ActionCreators.clearHistory()),a(ha.actions.allRiversReplace(r.riverMakeUps)),a(Mn.actions.allCardsReplace({cards:r.cards,lastCardIDNumber:r.lastCardIDNumber}))),t()}},color:"primary",autoFocus:!0},"Load datasets and possibly overwrite existing data")))},Nc=n(150),Ac=n.n(Nc),Pc=function(e){var t=e.handleClose,n=e.label,r=Object(M.b)(),a=Object(k.useRef)(null);return T.a.createElement(k.Fragment,null,T.a.createElement(Xr.a,{onClick:function(){a.current.click()}},T.a.createElement(Ct.a,{variant:"contained",color:"primary",disableElevation:!0,startIcon:T.a.createElement(Ac.a,null)},n)),T.a.createElement("input",{ref:a,style:{display:"none"},onChange:function(e){var n=e.target.files,a=n?n[0]:null;a&&r(lc(a)),t()},type:"file",accept:".pdf"}))},Mc=n(151),Fc=n.n(Mc),Lc=function(e){var t=e.document,n=Object(M.b)();return T.a.createElement(F.a,{title:Ce.constants.loadSavedDocumentTooltip,enterDelay:Ce.constants.defaultEnterDelay,enterNextDelay:Ce.constants.defaultEnterNextDelay},T.a.createElement(L.a,{type:"button",onClick:function(){n(dc(t))}},T.a.createElement(Fc.a,{fontSize:"small"})))},Uc=function(e){var t=e.document;return T.a.createElement(P.a,{container:!0,direction:"row"},T.a.createElement(P.a,{item:!0},T.a.createElement(Lc,{document:t})),T.a.createElement(P.a,{item:!0},T.a.createElement(B.a,{orientation:"vertical"})),T.a.createElement(P.a,{item:!0},T.a.createElement(wc,{document:t})))},Bc=function(e){var t=e.document;return T.a.createElement(P.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:1},T.a.createElement(P.a,{item:!0},t.replace(".pdf","")),T.a.createElement(P.a,{item:!0},T.a.createElement(U.a,{variant:"outlined"},T.a.createElement(Uc,{document:t}))))},qc=function(e){var t=e.document;return T.a.createElement(P.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:1},T.a.createElement(P.a,{item:!0},t.replace(".pdf","")),T.a.createElement(P.a,{item:!0},T.a.createElement(U.a,{variant:"outlined"},T.a.createElement(wc,{document:t}))))},Hc=function(){var e=Object(M.c)(za.selectors.getPDFName),t=Object(M.c)(rc.selectors.getDocumentNames).filter((function(t){return t!==e})),n=T.a.useState(null),r=Object(Je.a)(n,2),a=r[0],c=r[1],o=function(){c(null)},i=Object(M.b)(),u=Te();return T.a.createElement("div",null,T.a.createElement(L.a,{type:"button",onClick:function(e){c(e.currentTarget)}},T.a.createElement(bc.a,null)),T.a.createElement(Jr.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:o,MenuListProps:{style:{paddingLeft:"8px",paddingRight:"8px"}}},e&&[T.a.createElement($e.a,{key:u(),component:"span",variant:"h6"},Ce.constants.activeDocumentText),T.a.createElement(qc,{key:u(),document:e}),T.a.createElement(B.a,{key:u(),style:{marginTop:"6px"}})],t.length>0&&[T.a.createElement($e.a,{key:u(),component:"span",variant:"h6"},Ce.constants.existingDataText),T.a.createElement($e.a,{key:u(),component:"span"},T.a.createElement("ul",{style:{listStyleType:"square"}},t.map((function(e){return e?T.a.createElement("li",{key:u()},T.a.createElement(Bc,{document:e,key:u()})):null})))),T.a.createElement(B.a,{key:u(),style:{marginTop:"6px"}})],T.a.createElement(Pc,{handleClose:o,label:"Load document"}),T.a.createElement(B.a,null),T.a.createElement(Xr.a,{onClick:function(){i(oc()),o()}},T.a.createElement(Ct.a,{variant:"contained",color:"primary",disableElevation:!0,startIcon:T.a.createElement(gc.a,null)},Ce.constants.downloadDatasetsText)),T.a.createElement(B.a,null),T.a.createElement(kc,{handleClose:o,label:Ce.constants.uploadDatasetsText})))},Vc=n(154),Qc=n.n(Vc),Wc=function(){var e=Object(M.b)(),t=Object(M.c)(ha.selectors.getRiverContentFilter),n=Object(k.useState)(t),r=Object(Je.a)(n,2),a=r[0],c=r[1],o=Object(k.useState)("cards"),i=Object(Je.a)(o,2),u=i[0],l=(i[1],function(){e(ha.actions.riverContentFilter(""))}),d=function(){e(za.actions.documentSearch(""))},s="cards"===u?function(t){""===t&&e(ha.actions.riverContentFilter("")),c(t)}:function(t){""===t&&e(za.actions.documentSearch("")),c(t)},f="cards"===u?l:d,m="cards"===u?function(){return e(ha.actions.riverContentFilter(a))}:function(){return e(za.actions.documentSearch(a))};return T.a.createElement(P.a,{container:!0,direction:"row",alignItems:"center",spacing:1},T.a.createElement(P.a,{item:!0},T.a.createElement(Qc.a,{value:a,placeholder:"cards"===u?"Filter cards":"Search document",onChange:s,onCancelSearch:f,onRequestSearch:m,cancelOnEscape:!0})))},Gc=n(155),zc=n.n(Gc),_c=n(156),Kc=n.n(_c),Jc=function(){var e=Object(M.b)(),t=Object(M.c)(Mn.selectors.hasPast);return T.a.createElement(F.a,{title:Ce.constants.undoTooltip,enterDelay:Ce.constants.defaultEnterDelay,enterNextDelay:Ce.constants.defaultEnterNextDelay},T.a.createElement("span",null,T.a.createElement(L.a,{type:"button",onClick:function(){e(_a.ActionCreators.undo())},disabled:!t},T.a.createElement(zc.a,null))))},Xc=function(){var e=Object(M.b)(),t=Object(M.c)(Mn.selectors.hasFuture);return T.a.createElement(F.a,{title:Ce.constants.redoTooltip,enterDelay:Ce.constants.defaultEnterDelay,enterNextDelay:Ce.constants.defaultEnterNextDelay},T.a.createElement("span",null,T.a.createElement(L.a,{type:"button",onClick:function(){e(_a.ActionCreators.redo())},disabled:!t},T.a.createElement(Kc.a,null))))},$c=function(){return T.a.createElement(U.a,{variant:"outlined"},T.a.createElement(P.a,{container:!0,direction:"row"},T.a.createElement(P.a,{item:!0},T.a.createElement(Jc,null)),T.a.createElement(P.a,{item:!0},T.a.createElement(B.a,{orientation:"vertical"})),T.a.createElement(P.a,{item:!0},T.a.createElement(Xc,null))))},Yc=n(157),Zc=n.n(Yc),eo=function(){var e=T.a.useState(null),t=Object(Je.a)(e,2),n=t[0],r=t[1];return T.a.createElement("div",null,T.a.createElement(L.a,{type:"button",onClick:function(e){r(e.currentTarget)}},T.a.createElement(Zc.a,null)),T.a.createElement(Jr.a,{anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:function(){r(null)},MenuListProps:{style:{paddingLeft:"8px",paddingRight:"8px"}}},T.a.createElement($e.a,{variant:"h6"},"Show:"),T.a.createElement(P.a,{container:!0,direction:"row",justify:"space-between",spacing:1},T.a.createElement(P.a,{item:!0},T.a.createElement(U.a,{variant:"outlined",style:{paddingLeft:"4px",paddingRight:"4px"}},T.a.createElement(ha.components.RiverContentFormGroup,null))),T.a.createElement(P.a,{item:!0},T.a.createElement(U.a,{variant:"outlined",style:{padding:"4px"}},T.a.createElement(P.a,{container:!0,direction:"column",spacing:1},T.a.createElement(P.a,{item:!0},T.a.createElement(ha.components.ShowRiverCheckbox,null)),T.a.createElement(P.a,{item:!0},T.a.createElement(za.components.ShowMaterialCheckbox,null))))))))},to=function(){var e=Object(M.c)(za.selectors.getPDFName),t=Object(M.c)(za.selectors.getTopOffset),n=Object(k.useRef)(null),r=Object(M.b)();return Object(k.useLayoutEffect)((function(){if(n.current){var e=n.current.getBoundingClientRect().bottom;e!==t&&r(za.actions.topOffset(e))}}),[n,r,t]),T.a.createElement(za.components.PageKeyboardControl,null,T.a.createElement(mc.a,{ref:n,position:"sticky"},T.a.createElement(pc.a,{variant:"regular",disableGutters:!0},T.a.createElement(P.a,{container:!0,direction:"row",alignItems:"center",justify:"space-between"},T.a.createElement(P.a,{item:!0,xs:6},T.a.createElement(P.a,{container:!0,direction:"row",alignItems:"center",spacing:1,style:{paddingLeft:"4px"}},T.a.createElement(P.a,{item:!0,style:{maxWidth:"15%"}},T.a.createElement(za.components.PageChooser,null)),T.a.createElement(P.a,{item:!0},T.a.createElement(za.components.PageNavigation,null)),T.a.createElement(P.a,{item:!0},T.a.createElement($c,null)),T.a.createElement(P.a,{item:!0},T.a.createElement(za.components.ViewTabs,null)))),T.a.createElement(P.a,{item:!0,xs:2},T.a.createElement(P.a,{container:!0,justify:"center"},T.a.createElement(P.a,{item:!0,style:{overflowX:"auto"}},T.a.createElement($e.a,{variant:"subtitle1"},null===e||void 0===e?void 0:e.replace(".pdf",""))))),T.a.createElement(P.a,{item:!0,xs:4},T.a.createElement(P.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center"},T.a.createElement(P.a,{item:!0},T.a.createElement(Wc,null)),T.a.createElement(P.a,{item:!0},T.a.createElement(eo,null)),T.a.createElement(P.a,{item:!0},T.a.createElement(Hc,null))))))))},no={actions:w,components:R,selectors:S};function ro(){return T.a.createElement("div",null,T.a.createElement(za.components.HTMLElementMeasurer,null),T.a.createElement(P.a,{container:!0,justify:"center",direction:"column",alignItems:"stretch",style:{height:"100%",width:"100%"}},T.a.createElement(P.a,{item:!0},T.a.createElement(no.components.ControlBar,null)),T.a.createElement(P.a,{item:!0},T.a.createElement(za.components.Display,null))),T.a.createElement(aa.components.ContextMenu,null),T.a.createElement(aa.components.SelectionSnackbar,null))}var ao,co=n(23),oo=n(74),io=n(67),uo=n(158),lo=n.n(uo),so=Object(io.a)((function(e){return function(e){return Object(De.a)(Object(De.a)({},e),{},{documentRef:null,materialData:null,pdf:null})}(e)}),(function(e){return function(e){return Object(De.a)(Object(De.a)({},e),{},{pdf:void 0,spanOrigin:null,windowMeasurements:null,documentSearch:""})}(e)}),{whitelist:[za.name]}),fo=function(e){return Object(De.a)(Object(De.a)({},e),{},{riverContentFilter:""})},mo=Object(io.a)((function(e){return e}),(function(e){return{present:fo(e.present),future:e.future.map(fo),past:e.past.map(fo)}}),{whitelist:[ha.constants.NAME]}),po={key:"root",storage:lo.a,transforms:[so,mo]},vo=n(159),bo=[Mn.actions.cardPush.type,Mn.actions.cardRemove.type,Mn.actions.cardReplace.type,Mn.actions.cardFieldReplace.type],Eo=Object(co.combineReducers)((ao={},Object(ke.a)(ao,rc.name,rc.reducer),Object(ke.a)(ao,aa.name,aa.reducer),Object(ke.a)(ao,ha.constants.NAME,Ka()(ha.reducer,{filter:Object(_a.includeAction)(bo)})),Object(ke.a)(ao,Mn.name,Ka()(Mn.reducer,{filter:Object(_a.includeAction)(bo)})),Object(ke.a)(ao,za.name,za.reducer),ao)),go=Object(io.b)(po,Eo),Oo=Object(vo.composeWithDevTools)({})(Object(co.applyMiddleware)(oo.a)),jo=Object(co.createStore)(go,Oo),yo=Object(io.c)(jo),ho=n(160);n(245),A.a.render(T.a.createElement(T.a.StrictMode,null,T.a.createElement(M.a,{store:jo},T.a.createElement(ho.a,{loading:null,persistor:yo},T.a.createElement(ro,null)))),document.getElementById("root"))}},[[174,1,2]]]);
//# sourceMappingURL=main.52ae1410.chunk.js.map