(this.webpackJsonpclaymemory=this.webpackJsonpclaymemory||[]).push([[0],{175:function(e,t,n){e.exports=n(260)},200:function(e,t,n){},201:function(e,t,n){},222:function(e,t){},223:function(e,t){},224:function(e,t){},225:function(e,t){},226:function(e,t){},260:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"NAME",(function(){return Y}));var a={};n.r(a),n.d(a,"PDF_UPLOADED",(function(){return J})),n.d(a,"MATERIAL_LOADED",(function(){return Z})),n.d(a,"DISPLAY_STATUS",(function(){return K})),n.d(a,"PAGE_UPDATE",(function(){return $})),n.d(a,"ZOOM_QUEUE",(function(){return ee})),n.d(a,"MATERIAL_DATA",(function(){return te})),n.d(a,"MATERIAL_HEIGHT",(function(){return ne}));var c={};n.r(c),n.d(c,"getAll",(function(){return ae})),n.d(c,"getPDF",(function(){return ce})),n.d(c,"getPDFName",(function(){return oe})),n.d(c,"getRenderCritialData",(function(){return ie})),n.d(c,"getTotalPages",(function(){return ue})),n.d(c,"getCurrentPage",(function(){return le})),n.d(c,"getPageControlData",(function(){return se})),n.d(c,"getDocumentRef",(function(){return de})),n.d(c,"getMaterialData",(function(){return fe})),n.d(c,"getTimeStamp",(function(){return me})),n.d(c,"getMaterialSpans",(function(){return pe})),n.d(c,"getSpanIndex",(function(){return Ee})),n.d(c,"getMaterialBoundingRects",(function(){return ve})),n.d(c,"getDataExists",(function(){return Oe})),n.d(c,"getDisplayStatus",(function(){return be})),n.d(c,"displayStatusIsShow",(function(){return De})),n.d(c,"getZoomQueue",(function(){return ge})),n.d(c,"getMaterialHeight",(function(){return Ce}));var o={};n.r(o),n.d(o,"NAME",(function(){return he}));var i={};n.r(i),n.d(i,"ARCHIVE_CURRENT_DATA",(function(){return Se})),n.d(i,"LOAD_DOCUMENT_DATA_SETS",(function(){return Ae})),n.d(i,"DELETE_DOCUMENT_DATA_SET",(function(){return Ie})),n.d(i,"DOCUMENT_CHANGE",(function(){return Ne}));var u={};n.r(u),n.d(u,"archiveDBData",(function(){return Me})),n.d(u,"loadDocumentDataSets",(function(){return Ue})),n.d(u,"deleteDocumentDataSet",(function(){return Pe}));var l={};n.r(l),n.d(l,"getAll",(function(){return xe})),n.d(l,"getDocumentDB",(function(){return Fe})),n.d(l,"getDocumentNames",(function(){return Le})),n.d(l,"getDocumentDataSets",(function(){return Ve}));var s={};n.r(s),n.d(s,"pdfUpload",(function(){return Be})),n.d(s,"materialUploaded",(function(){return Ge})),n.d(s,"materialLoaded",(function(){return ze})),n.d(s,"tryInterval",(function(){return We})),n.d(s,"captureMaterialData",(function(){return Xe})),n.d(s,"setPage",(function(){return Ye})),n.d(s,"movePage",(function(){return Ke})),n.d(s,"nextPage",(function(){return $e})),n.d(s,"previousPage",(function(){return et})),n.d(s,"toggleDisplayState",(function(){return tt})),n.d(s,"setZoomQueue",(function(){return nt})),n.d(s,"zoomToCardOrigin",(function(){return rt})),n.d(s,"emptyZoomQueue",(function(){return at})),n.d(s,"setMaterialHeight",(function(){return ct})),n.d(s,"deleteDocument",(function(){return ot}));var d={};n.r(d),n.d(d,"switchToActiveRiverTooltip",(function(){return vt})),n.d(d,"switchToSummaryRiverTooltip",(function(){return Ot})),n.d(d,"undoTooltip",(function(){return bt})),n.d(d,"redoTooltip",(function(){return Dt})),n.d(d,"nextPageTooltip",(function(){return gt})),n.d(d,"previousPageTooltip",(function(){return Ct})),n.d(d,"deleteCardTooltip",(function(){return yt})),n.d(d,"grabForCardTooltip",(function(){return jt})),n.d(d,"jumpToOriginTooltip",(function(){return Tt})),n.d(d,"appendToCardTooltip",(function(){return Rt})),n.d(d,"newQACardTooltip",(function(){return ht})),n.d(d,"newNoteCardTooltip",(function(){return St})),n.d(d,"deleteDocumentTooltip",(function(){return At})),n.d(d,"loadSavedDocumentTooltip",(function(){return It})),n.d(d,"noMaterialText",(function(){return Nt})),n.d(d,"loadingMaterialText",(function(){return Mt})),n.d(d,"activeDocumentText",(function(){return Ut})),n.d(d,"existingDataText",(function(){return Pt})),n.d(d,"loadMaterialText",(function(){return _t})),n.d(d,"downloadDatasetsText",(function(){return wt})),n.d(d,"uploadDatasetsText",(function(){return kt})),n.d(d,"noteText",(function(){return xt})),n.d(d,"questionText",(function(){return Ft})),n.d(d,"answerText",(function(){return Lt})),n.d(d,"defaultEnterDelay",(function(){return Vt})),n.d(d,"defaultEnterNextDelay",(function(){return Ht}));var f={};n.r(f),n.d(f,"NewNoteCardTooltip",(function(){return qt})),n.d(f,"AddQAButtonTooltip",(function(){return Qt})),n.d(f,"AppendButtonTooltip",(function(){return Gt})),n.d(f,"DeleteCardButtonTooltip",(function(){return Bt}));var m={};n.r(m),n.d(m,"NAME",(function(){return rn}));var p={};n.r(p),n.d(p,"FOCUS_UPDATE",(function(){return an})),n.d(p,"DISPLAY_FOCUS_UPDATE",(function(){return cn}));var E={};n.r(E),n.d(E,"getAll",(function(){return on})),n.d(E,"getFocus",(function(){return un})),n.d(E,"getDisplayFocus",(function(){return ln}));var v={};n.r(v),n.d(v,"updateFocus",(function(){return sn})),n.d(v,"tryUpdateFocus",(function(){return dn})),n.d(v,"toggleContextMenuFocus",(function(){return fn})),n.d(v,"updateDisplayFocus",(function(){return mn}));var O={};n.r(O),n.d(O,"RiverControlFocusUpdater",(function(){return En}));var b={};n.r(b),n.d(b,"PageChooser",(function(){return en})),n.d(b,"PageNavigation",(function(){return Yt})),n.d(b,"MaterialDisplayColumnWithSize",(function(){return Cn}));var D={};n.r(D),n.d(D,"NAME",(function(){return Tn}));var g={};n.r(g),n.d(g,"transformInputOrigin",(function(){return Sn}));var C={};n.r(C),n.d(C,"NAME",(function(){return An}));var y={};n.r(y),n.d(y,"CARD_UPDATE",(function(){return In})),n.d(y,"CARD_PUSH",(function(){return Nn})),n.d(y,"CARD_REMOVE",(function(){return Mn})),n.d(y,"CARD_GOAL",(function(){return Un}));var j={};n.r(j),n.d(j,"getAll",(function(){return _n})),n.d(j,"getLastCardIDNumber",(function(){return wn})),n.d(j,"getCards",(function(){return kn})),n.d(j,"getGoalCard",(function(){return xn}));var T={};n.r(T),n.d(T,"cardPush",(function(){return Hn})),n.d(T,"emptyCard",(function(){return qn})),n.d(T,"emptyNoteCard",(function(){return Qn})),n.d(T,"emptyQACard",(function(){return Bn})),n.d(T,"cardUpdate",(function(){return Gn})),n.d(T,"updateCardContent",(function(){return zn})),n.d(T,"pushCardContent",(function(){return Wn})),n.d(T,"removeCard",(function(){return Xn})),n.d(T,"setGoalCard",(function(){return Yn})),n.d(T,"resetGoalCard",(function(){return Jn}));var R={};n.r(R),n.d(R,"AddNoteButton",(function(){return $n})),n.d(R,"AddQAButton",(function(){return nr})),n.d(R,"DeleteCardButton",(function(){return cr}));var h={};n.r(h),n.d(h,"getAll",(function(){return lr})),n.d(h,"getRiverMakeUps",(function(){return sr})),n.d(h,"getActiveRiverMakeUpID",(function(){return dr})),n.d(h,"getPushToRiver",(function(){return fr})),n.d(h,"getPushToRiverMakeUp",(function(){return mr})),n.d(h,"getActiveRiverMakeUp",(function(){return pr})),n.d(h,"getPushToRiverCardIDs",(function(){return Er})),n.d(h,"getPushToRiverCards",(function(){return vr})),n.d(h,"getActiveRiverCardIDs",(function(){return Or})),n.d(h,"getActiveRiverCards",(function(){return br})),n.d(h,"getRiverShowState",(function(){return Dr})),n.d(h,"riverShowStateIsShow",(function(){return gr})),n.d(h,"getHoveredCardData",(function(){return Cr})),n.d(h,"getSourceCard",(function(){return yr})),n.d(h,"getLastRiverIDNumber",(function(){return jr})),n.d(h,"getRiverContentState",(function(){return Tr})),n.d(h,"getRiverContentFilter",(function(){return Rr}));var S={};n.r(S),n.d(S,"toggleRiverShowState",(function(){return qr})),n.d(S,"setRiverContentState",(function(){return Qr})),n.d(S,"setPushToRiver",(function(){return Br})),n.d(S,"trySetPushToRiver",(function(){return Gr})),n.d(S,"setHoveredCard",(function(){return zr})),n.d(S,"trySetHoveredCard",(function(){return Wr})),n.d(S,"setSourceCard",(function(){return Xr})),n.d(S,"trySetSourceCard",(function(){return Yr})),n.d(S,"resetSourceCard",(function(){return Jr})),n.d(S,"tryResetSourceCard",(function(){return Zr})),n.d(S,"setContentFilter",(function(){return Kr}));var A={};n.r(A),n.d(A,"NAME",(function(){return ta}));var I={};n.r(I),n.d(I,"SELECTED_STRING",(function(){return na})),n.d(I,"SELECTED_PARENT",(function(){return ra})),n.d(I,"DOCUMENT_POSITION",(function(){return aa}));var N={};n.r(N),n.d(N,"getAll",(function(){return ca})),n.d(N,"getCurrentSelectionPosition",(function(){return oa})),n.d(N,"getCurrentSelectedString",(function(){return ia})),n.d(N,"getCurrentSelectedParent",(function(){return ua})),n.d(N,"getCurrentOrigin",(function(){return la}));var M={};n.r(M),n.d(M,"selectionToCardAppend",(function(){return sa})),n.d(M,"selectionToCard",(function(){return da})),n.d(M,"selectionToCardForSourceCard",(function(){return fa})),n.d(M,"updateManuallySelectedString",(function(){return ma})),n.d(M,"resetManuallySelectedString",(function(){return pa})),n.d(M,"selectedParent",(function(){return Ea})),n.d(M,"updateSelectionPosition",(function(){return va}));var U={};n.r(U),n.d(U,"SelectionSnackbar",(function(){return ya}));var P={};n.r(P),n.d(P,"ActiveRiverView",(function(){return Va})),n.d(P,"SummaryRiverView",(function(){return xa})),n.d(P,"RiverContentFormGroup",(function(){return Wa}));var _={};n.r(_),n.d(_,"collectCurrentDBData",(function(){return tc}));var w={};n.r(w),n.d(w,"archiveCurrentDBData",(function(){return nc})),n.d(w,"downloadDBData",(function(){return ac})),n.d(w,"changeDocument",(function(){return cc})),n.d(w,"loadSavedDocument",(function(){return oc}));var k={};n.r(k),n.d(k,"NAME",(function(){return uc}));var x={};n.r(x),n.d(x,"TOGGLE_CONTEXT_MENU",(function(){return lc})),n.d(x,"CLOSE_CONTEXT_MENU",(function(){return sc})),n.d(x,"OPEN_CONTEXT_MENU",(function(){return dc}));var F={};n.r(F),n.d(F,"getAll",(function(){return fc})),n.d(F,"getContextMenuState",(function(){return mc})),n.d(F,"getContextMenuRef",(function(){return pc})),n.d(F,"getContextMenuFullCardsRef",(function(){return Ec})),n.d(F,"getContextMenuQARefs",(function(){return vc})),n.d(F,"getContextMenuInitData",(function(){return Oc}));var L={};n.r(L),n.d(L,"toggleContextMenu",(function(){return bc})),n.d(L,"closeContextMenu",(function(){return Dc})),n.d(L,"openContextMenu",(function(){return gc}));var V={};n.r(V),n.d(V,"ContextMenuContainer",(function(){return wc}));var H={};n.r(H),n.d(H,"contextMenuContainsTargetNode",(function(){return kc}));var q={};n.r(q),n.d(q,"ControlContainer",(function(){return Gc})),n.d(q,"ControlBar",(function(){return Uo}));var Q=n(0),B=n.n(Q),G=n(15),z=n.n(G),W=n(301),X=n(3),Y="displayData",J=Y+"/PDF_UPLOADED",Z=Y+"/MATERIAL_LOADED",K=Y+"/DISPLAY_STATUS",$=Y+"/PAGE_UPDATE",ee=Y+"/ZOOM_QUEUE",te=Y+"/MATERIAL_DATA",ne=Y+"/MATERIAL_HEIGHT",re=n(10),ae=function(e){return e[Y]},ce=Object(re.a)(ae,(function(e){return{pdf:e.pdf?e.pdf:null}})),oe=Object(re.a)(ae,(function(e){return e.pdfName})),ie=Object(re.a)(ae,(function(e){return{pdf:e.pdf,currentPage:e.currentPage,documentRef:e.documentRef}})),ue=Object(re.a)(ae,(function(e){return e.totalPages})),le=Object(re.a)(ae,(function(e){return e.currentPage})),se=Object(re.a)(ue,le,(function(e,t){return{currentPage:t,totalPages:e}})),de=Object(re.a)(ae,(function(e){return e.documentRef})),fe=Object(re.a)(ae,(function(e){return e.materialData})),me=Object(re.a)(fe,(function(e){return e.materialDataTimeStamp})),pe=Object(re.a)(fe,(function(e){return e.materialSpans})),Ee=function(e,t){return pe(e).indexOf(t)},ve=Object(re.a)(fe,(function(e){return e.materialBoundingRects})),Oe=Object(re.a)(me,(function(e){return e>0})),be=Object(re.a)(ae,(function(e){return e.displayStatus})),De=Object(re.a)(be,(function(e){return"SHOW"===e})),ge=Object(re.a)(ae,(function(e){return e.zoomQueue})),Ce=Object(re.a)(ae,(function(e){return e.materialHeight})),ye=function(){var e=0;return function(){var t=e;return e++,t}};var je=n(61),Te=function(e){return{span:e,rect:e.getBoundingClientRect()}},Re=function(e){var t=Array.from(e.querySelectorAll("span"));if(0===t.length)return null;var n=function(e){var t,n=[],r=[],a=Object(je.a)(e);try{for(a.s();!(t=a.n()).done;){var c=t.value;n.push(c.span),r.push(c.rect)}}catch(o){a.e(o)}finally{a.f()}return{spans:n,boundingRects:r}}(function(e){return e.map(Te)}(t).sort((function(e,t){return e.rect.y-t.rect.y})));return{materialSpans:n.spans,materialBoundingRects:n.boundingRects}},he="documentDB",Se=he+"/ARCHIVE_CURRENT_DATA",Ae=he+"/LOAD_DOCUMENT_DATA_SETS",Ie=he+"/DELETE_DOCUMENT_DATA_SET",Ne=he+"/DOCUMENT_CHANGE",Me=function(e){return{type:Se,payload:e}},Ue=function(e,t){return{type:Ae,payload:{dbData:e,newActiveDataSet:t}}},Pe=function(e){return{type:Ie,payload:e}},_e=n(23),we={documentDB:{}},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Se:return Object(X.a)(Object(X.a)({},e),{},{documentDB:Object(X.a)(Object(X.a)({},e.documentDB),{},Object(_e.a)({},r.name,r))});case Ae:return Object(X.a)(Object(X.a)({},e),{},{documentDB:Object(X.a)(Object(X.a)({},e.documentDB),r.dbData.reduce((function(e,t){return e[t.name]=t,e}),{}))});case Ie:return Object(X.a)(Object(X.a)({},e),{},{documentDB:Object.fromEntries(Object.entries(e.documentDB).filter((function(e){return e[0]!==r})))});default:return e}},xe=function(e){return e[he].present},Fe=Object(re.a)(xe,(function(e){return e.documentDB})),Le=Object(re.a)(Fe,(function(e){return Object.keys(e)})),Ve=Object(re.a)(Fe,(function(e){return Object.values(e)})),He={actions:u,actionTypes:i,constants:o,reducer:ke,selectors:l},qe=n(27),Qe=n.n(qe),Be=function(e){return{type:J,payload:e}},Ge=function(e){return function(t){var n=e.target.files,r=n?n[0]:null;r&&t(Be(r))}},ze=function(e){return{type:Z,payload:e}},We=function(e,t,n){var r=ye(),a=setInterval((function(){(r()>e||n())&&clearInterval(a)}),t)};function Xe(e){return function(t,n){var r=n(),a=e.current;if(a){var c=Date.now(),o=Re(a);if(o&&me(r)<c){var i=Object(X.a)(Object(X.a)({},o),{},{materialDataTimeStamp:c});t({type:te,payload:i})}else We(10,20,(function(){var e=Re(a);if(e&&me(n())<c){var r=Object(X.a)(Object(X.a)({},e),{},{materialDataTimeStamp:c});return t({type:te,payload:r}),!0}return!1}))}}}var Ye=function(e){return{type:$,payload:e}},Je=function(e,t){return e===t+1?1:e},Ze=function(e,t){return 0===e?t:e},Ke=function(e){return function(t,n){var r=se(n()),a=r.currentPage,c=r.totalPages;switch(e){case"NEXT":t({type:$,payload:Je(a+1,c)});break;case"PREVIOUS":t({type:$,payload:Ze(a-1,c)})}}},$e=function(){return Ke("NEXT")},et=function(){return Ke("PREVIOUS")},tt=function(){return function(e,t){var n="SHOW"===be(t())?"HIDE":"SHOW";e({type:K,payload:n})}},nt=function(e){return{type:ee,payload:e}},rt=function(e,t){return function(n){console.log(t,e),n(Ye(t)),n(nt(e))}},at=function(){return function(e,t){var n=t(),r=ge(n);if(r){var a=pe(n);if(a)a[r].scrollIntoView({behavior:"smooth",block:"center",inline:"center"});e(nt(null))}}},ct=function(e){return{type:ne,payload:e}},ot=function(e){return function(t,n){var r=n(),a=oe(r);a&&a===e&&(t({type:He.actionTypes.DOCUMENT_CHANGE}),t(qe.ActionCreators.clearHistory())),t(He.actions.deleteDocumentDataSet(e))}},it=n(6),ut=n(318),lt=n(108),st=n(300),dt=n(302),ft=n(138),mt=n.n(ft),pt=n(137),Et=n.n(pt),vt="Switch to the Active-River view",Ot="Switch to the Summary-River view",bt="Undo last action",Dt="Redo last action",gt="Next page",Ct="Previous page",yt="Delete this card",jt="Activate the document-selection grab for this card(-field)",Tt="Jump to the origin of the card content",Rt="Add the current selection to this card (only from document)",ht="Create new QA-card",St="Create new Note-card",At="Delete this document and all its corresponding cards",It="Load the card data of this document",Nt="No PDF file specified.",Mt="Loading PDF\u2026",Ut="Active Document:",Pt="Inactive documents with existing data:",_t="Load document",wt="Download document datasets",kt="Upload document datasets",xt="Note",Ft="Question",Lt="Answer",Vt=500,Ht=1e3,qt=function(e){var t=e.children;return B.a.createElement(ut.a,{title:St,enterDelay:Vt,enterNextDelay:Ht},t)},Qt=function(e){var t=e.children;return B.a.createElement(ut.a,{title:ht,enterDelay:Vt,enterNextDelay:Ht},t)},Bt=function(e){var t=e.children;return B.a.createElement(ut.a,{title:yt,enterDelay:Vt,enterNextDelay:Ht},t)},Gt=function(e){var t=e.children;return B.a.createElement(ut.a,{title:Rt,enterDelay:Vt,enterNextDelay:Ht},t)},zt={components:f,constants:d},Wt=function(){var e=Object(it.c)();return B.a.createElement(ut.a,{title:zt.constants.previousPageTooltip,enterDelay:zt.constants.defaultEnterDelay,enterNextDelay:zt.constants.defaultEnterNextDelay},B.a.createElement(lt.a,{type:"button",onClick:function(){e(et())}},B.a.createElement(Et.a,null)))},Xt=function(){var e=Object(it.c)();return B.a.createElement(ut.a,{title:zt.constants.nextPageTooltip,enterDelay:zt.constants.defaultEnterDelay,enterNextDelay:zt.constants.defaultEnterNextDelay},B.a.createElement(lt.a,{type:"button",onClick:function(){e($e())}},B.a.createElement(mt.a,null)))},Yt=function(){return B.a.createElement(st.a,{variant:"outlined"},B.a.createElement(W.a,{container:!0,direction:"row"},B.a.createElement(W.a,{item:!0},B.a.createElement(Wt,null)),B.a.createElement(W.a,{item:!0},B.a.createElement(dt.a,{orientation:"vertical"})),B.a.createElement(W.a,{item:!0},B.a.createElement(Xt,null))))},Jt=n(24),Zt=n(315),Kt=n(264),$t=/(\D)/,en=function(){var e=Object(it.c)(),t=Object(it.d)(se),n=t.currentPage,r=t.totalPages,a=Object(Q.useState)({error:!1,value:null===n||void 0===n?void 0:n.toString(),userInput:null===n||void 0===n?void 0:n.toString()}),c=Object(Jt.a)(a,2),o=c[0],i=c[1];return o.value!==n.toString()&&i({error:!1,value:n.toString(),userInput:n.toString()}),B.a.createElement(st.a,{variant:"outlined"},B.a.createElement(W.a,{item:!0},B.a.createElement(W.a,{container:!0,direction:"row",alignItems:"center",justify:"space-between"},B.a.createElement(W.a,{item:!0,style:{width:"37%"}},B.a.createElement(Zt.a,{inputProps:{style:{padding:"0px",fontSize:"1.25rem",fontFamily:'"Roboto", "Helvetica", "Arial", sansSerif',fontWeight:500,lineHeight:1.6,letterSpacing:"0.0075em"}},type:"text",variant:"filled",value:o.userInput,onKeyDown:function(t){if("Enter"===t.key){t.preventDefault();var n=t.target.value;o.error||e(Ye(parseInt(n)))}},onChange:function(e){var t=e.target.value;!function(e,t){if(""===e||null!==e.trim().match($t))return!1;var n=parseInt(e);return!(n<1||t<n)}(t,r)?i(Object(X.a)(Object(X.a)({},o),{},{error:!0,userInput:t})):i(Object(X.a)(Object(X.a)({},o),{},{error:!1,userInput:t}))},error:o.error})),B.a.createElement(W.a,{item:!0,style:{width:"61%"}},B.a.createElement(Kt.a,{variant:"h6"},"of ",r)))))},tn=n(139),nn=n(92),rn="appFocus",an=rn+"/FOCUS_UPDATE",cn=rn+"/DISPLAY_FOCUS_UPDATE",on=function(e){return e[rn]},un=Object(re.a)(on,(function(e){return e.userFocus})),ln=Object(re.a)(on,(function(e){return e.displayFocus})),sn=function(e){return{type:an,payload:e}},dn=function(e){return function(t,n){un(n())!==e&&t(sn(e))}},fn=function(){return function(e,t){switch(un(t())){case"CONTEXT_MENU":e(sn("DOCUMENT"));break;case"DOCUMENT":e(sn("CONTEXT_MENU"))}}},mn=function(e){return{type:cn,payload:e}},pn={userFocus:"CONTROL",displayFocus:"ACTIVE_RIVER"},En=function(e){var t=e.children;return B.a.createElement(vn,{userFocus:"RIVER_CONTROL"},t)},vn=function(e){var t=e.userFocus,n=e.children,r=Object(it.c)();return B.a.createElement("span",{onMouseEnter:function(){r(dn(t))}},n)},On={actions:v,constants:m,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case an:return Object(X.a)(Object(X.a)({},e),{},{userFocus:r});case cn:return Object(X.a)(Object(X.a)({},e),{},{displayFocus:r});default:return e}},selectors:E,actionTypes:p,components:O},bn=(n(200),n(201),n(76));bn.c.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(bn.c.version,"/pdf.worker.js");var Dn={cMapUrl:"cmaps/",cMapPacked:!0};var gn=Object(it.b)(ie,{materialLoaded:ze,captureMaterialData:Xe})((function(e){var t=e.parentSize,n=e.pdf,r=e.currentPage,a=e.materialLoaded,c=e.captureMaterialData,o=e.documentRef,i=Object(it.c)(),u=Object(it.d)(Ce);Object(Q.useLayoutEffect)((function(){u||i(ct(t.height)),u&&u!==t.height&&i(ct(t.height))}),[i,u,t.height]);var l=Object(it.d)(ge);return Object(Q.useEffect)((function(){l&&n&&i(at())}),[l,n,i]),B.a.createElement(bn.a,{file:n,options:Dn,onLoadSuccess:function(e){var t=e.numPages;a(t)},inputRef:o,onItemClick:function(e){var t=e.pageNumber;i(Ye(parseInt(t)))},loading:zt.constants.loadingMaterialText,noData:zt.constants.noMaterialText},n&&B.a.createElement(bn.b,{width:t.width,pageNumber:r,onRenderSuccess:function(){document.querySelectorAll(".react-pdf__Page__textContent").forEach((function(e){var t=e.style;t.top="0",t.left="0",t.transform=""})),c(o)}}))}));var Cn=Object(tn.withSize)({monitorHeight:!0,noPlaceholder:!0})((function(e){var t=e.size,n=e.hidden,r=Object(it.c)(),a=Object(Q.useState)(3),c=Object(Jt.a)(a,2),o=c[0],i=c[1];return B.a.createElement(W.a,{item:!0,style:{width:"60%"},onMouseEnter:function(){r(On.actions.tryUpdateFocus("DOCUMENT")),i(20)},onMouseLeave:function(){i(3)},hidden:n},B.a.createElement(nn.a,{elevation:o},B.a.createElement(gn,{parentSize:t})))})),yn={displayStatus:"SHOW",totalPages:1e3,currentPage:1,documentRef:Object(Q.createRef)(),pageSpans:{},zoomQueue:null,materialData:{materialDataTimeStamp:-1/0}},jn={actions:s,actionTypes:a,components:b,constants:r,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case J:return Object(X.a)(Object(X.a)({},e),{},{pdf:r,pdfName:r.name});case He.actionTypes.DOCUMENT_CHANGE:return r?r.name===e.pdfName?e:Object(X.a)(Object(X.a)({},yn),{},{pdf:void 0,pdfName:r.name,totalPages:r.totalPages,currentPage:r.currentPage}):e;case Z:return Object(X.a)(Object(X.a)({},e),{},{totalPages:r});case $:return Object(X.a)(Object(X.a)({},e),{},{currentPage:r});case K:return Object(X.a)(Object(X.a)({},e),{},{displayStatus:r});case te:return Object(X.a)(Object(X.a)({},e),{},{materialData:r,pageSpans:Object(X.a)(Object(X.a)({},e.pageSpans),{},Object(_e.a)({},e.currentPage,r.materialSpans.length-1))});case ne:return Object(X.a)(Object(X.a)({},e),{},{materialHeight:r});case ee:return Object(X.a)(Object(X.a)({},e),{},{zoomQueue:r});default:return e}},selectors:c},Tn="cardRiverState",Rn=n(50),hn=function(e,t){return e[t]},Sn=function(e,t,n,r){return r?t===n?function(e,t){return Object(X.a)(Object(X.a)({},t),e)}(e,r):"note"===t&&function(e){return!Object(Rn.isNullOrUndefined)(e.q)}(r)?Object(X.a)(Object(X.a)({},r),{},Object(_e.a)({},n,e)):"note"===n?hn(e,t):"q"===n?{q:e.a,a:r.a}:{a:e.q,q:r.q}:t===n?e:"note"===t?function(e,t){return Object(_e.a)({q:{},a:{}},t,e)}(e,n):"note"===n?hn(e,t):function(e,t,n){var r;return r={},Object(_e.a)(r,t,{}),Object(_e.a)(r,n,e[t]),r}(e,t,n)},An="cards",In=An+"/CARD_UPDATE",Nn=An+"/CARD_PUSH",Mn=An+"/CARD_REMOVE",Un=An+"/CARD_GOAL",Pn=function(e){switch(e){case"Note":return{type:"Note",content:""};case"Q-A":return{type:"Q-A",content:{q:"",a:""}}}},_n=function(e){return e[An].present},wn=Object(re.a)(_n,(function(e){return e.lastCardIDNumber})),kn=Object(re.a)(_n,(function(e){return e.cards})),xn=Object(re.a)(_n,(function(e){return e.goalCard})),Fn={REPLACE:function(e,t){return t},APPEND:function(e,t){return e+t}},Ln={note:function(e,t){return Object(X.a)(Object(X.a)({},e),{},{content:t(e.content)})},q:function(e,t){var n=e.content;return Object(X.a)(Object(X.a)({},e),{},{content:Object(X.a)(Object(X.a)({},n),{},{q:t(n.q)})})},a:function(e,t){var n=e.content;return Object(X.a)(Object(X.a)({},e),{},{content:Object(X.a)(Object(X.a)({},n),{},{a:t(n.a)})})}},Vn=function(e,t,n,r,a){var c=function(e,t){return function(n){return Fn[e](n,t)}}(r,e);return!!a?Ln[n](a,c):Ln[n]({type:t,content:"Q-A"===t?{q:"",a:""}:""},c)},Hn=function(e){return function(t,n){var r;t({type:Nn,payload:Object(X.a)(Object(X.a)({},e),{},{card:Object(X.a)(Object(X.a)({},e.card),{},{cardID:(r=wn(n()),(r+1).toString())})})})}},qn=function(e){return Hn({card:Pn(e)})},Qn=function(){return qn("Note")},Bn=function(){return qn("Q-A")},Gn=function(e){return{type:In,payload:e}},zn=function(e,t,n,r,a){return function(c,o){var i=o(),u=kn(i)[t],l=Vn(e,u.type,n,r,u);c(Gn({card:Object(X.a)(Object(X.a)({},l),{},{origin:a})}))}},Wn=function(e,t,n,r,a){var c=Vn(e,r,t,n);return Hn({card:Object(X.a)(Object(X.a)({},c),{},{origin:a})})},Xn=function(e){return{type:Mn,payload:e}},Yn=function(e,t){return{type:Un,payload:Object(X.a)(Object(X.a)({},e),{},{creationType:t})}},Jn=function(){return{type:Un,payload:null}},Zn=n(141),Kn=n.n(Zn),$n=function(){var e=Object(it.c)();return B.a.createElement(zt.components.NewNoteCardTooltip,null,B.a.createElement(lt.a,{type:"button",onClick:function(){e(Qn())}},B.a.createElement(Kn.a,null)))},er=n(142),tr=n.n(er),nr=function(){var e=Object(it.c)();return B.a.createElement(zt.components.AddQAButtonTooltip,null,B.a.createElement(lt.a,{type:"button",onClick:function(){e(Bn())}},B.a.createElement(tr.a,null)))},rr=n(143),ar=n.n(rr),cr=function(e){var t=e.cardID,n=Object(it.c)();return B.a.createElement(zt.components.DeleteCardButtonTooltip,null,B.a.createElement(lt.a,{type:"button",onClick:function(){n(Xn(t))}},B.a.createElement(ar.a,{fontSize:"small"})))},or={cards:{0:{cardID:"0",type:"Q-A",content:{q:"Was ist der Sinn des Lebens?",a:"42"}},1:{cardID:"1",type:"Q-A",content:{q:"Welches Layout macht mehr Sinn?",a:"??"}},2:{cardID:"2",type:"Note",content:"Note here"}},lastCardIDNumber:2,goalCard:null},ir=function(e,t){var n=Object(X.a)({},e.cards);return delete n[t],Object(X.a)(Object(X.a)({},e),{},{cards:n})},ur={services:g,constants:C,actionTypes:y,actions:T,reducer:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or,r=arguments.length>1?arguments[1]:void 0,a=r.type,c=r.payload;switch(a){case Nn:var o=n.lastCardIDNumber+1;return(t=Object(X.a)({},n.cards))[c.card.cardID]=c.card,Object(X.a)(Object(X.a)({},n),{},{cards:t,lastCardIDNumber:o});case In:return e=c.card.cardID,(t=Object(X.a)({},n.cards))[e]=c.card,Object(X.a)(Object(X.a)({},n),{},{cards:t});case Mn:return ir(n,c);case Un:return Object(X.a)(Object(X.a)({},n),{},{goalCard:c});case He.actionTypes.DOCUMENT_CHANGE:return c?Object(X.a)(Object(X.a)({},or),{},{cards:c.cards,lastCardIDNumber:c.lastCardIDNumber}):or;case He.actionTypes.LOAD_DOCUMENT_DATA_SETS:return c.newActiveDataSet?Object(X.a)(Object(X.a)({},or),{},{cards:c.newActiveDataSet.cards,lastCardIDNumber:c.newActiveDataSet.lastCardIDNumber}):n;default:return n}},selectors:j,components:R},lr=function(e){return e[Tn].present},sr=Object(re.a)(lr,(function(e){return e.riverMakeUps})),dr=Object(re.a)(lr,(function(e){return e.activeRiverMakeUpID})),fr=Object(re.a)(lr,(function(e){return e.pushToRiverID})),mr=Object(re.a)(sr,fr,(function(e,t){return e[t]})),pr=Object(re.a)(sr,dr,(function(e,t){return e[t]})),Er=Object(re.a)(mr,(function(e){return e.cardIDs})),vr=Object(re.a)(Er,ur.selectors.getCards,(function(e,t){return e.map((function(e){return t[e]}))})),Or=Object(re.a)(pr,(function(e){return e.cardIDs})),br=Object(re.a)(Or,ur.selectors.getCards,(function(e,t){return e.map((function(e){return t[e]}))})),Dr=Object(re.a)(lr,(function(e){return e.riverShowState})),gr=Object(re.a)(Dr,(function(e){return"SHOW"===e})),Cr=Object(re.a)(lr,(function(e){return{id:e.highlightedCardID,field:e.highlightedCardField}})),yr=Object(re.a)(lr,ur.selectors.getCards,(function(e,t){return e.sourceCard&&t[e.sourceCard]?e.sourceCard:null})),jr=Object(re.a)(lr,(function(e){return e.lastRiverIDNumber})),Tr=Object(re.a)(lr,(function(e){return e.riverContentState})),Rr=Object(re.a)(lr,(function(e){return e.contentFilter})),hr=n(75),Sr=function(e){var t=e.storeValue,n=void 0===t?"":t,r=e.saveChanges,a=e.style,c=Object(hr.a)(e,["storeValue","saveChanges","style"]),o=Object(Q.useState)({storeValue:n,mutableValue:n}),i=Object(Jt.a)(o,2),u=i[0],l=i[1];return u.storeValue!==n&&l({storeValue:n,mutableValue:n}),B.a.createElement(Zt.a,Object.assign({InputProps:{disableUnderline:!0,style:{minWidth:"400px"}},multiline:!0,variant:"filled",value:u.mutableValue,onChange:function(e){var t=e.target.value;l(Object(X.a)(Object(X.a)({},u),{},{mutableValue:t}))},onBlur:function(e){r(e.target.value)},style:a},c))},Ar=n(144),Ir=n.n(Ar),Nr=function(e){var t=e.cardOrigin,n=Object(it.c)();return B.a.createElement(ut.a,{title:zt.constants.jumpToOriginTooltip,enterDelay:zt.constants.defaultEnterDelay,enterNextDelay:zt.constants.defaultEnterNextDelay},B.a.createElement(lt.a,{type:"button",onClick:function(){n(On.actions.updateDisplayFocus("ACTIVE_RIVER")),n(jn.actions.zoomToCardOrigin(t.spanIndex,t.page))},onMouseEnter:function(){n(On.actions.tryUpdateFocus("RIVER_CONTROL"))}},B.a.createElement(Ir.a,{fontSize:"small"})))},Mr=n(146),Ur=n.n(Mr),Pr=n(145),_r=n.n(Pr),wr=function(e){var t=e.cardConfig,n=e.creationType,r=Object(it.c)(),a=Object(it.d)(ur.selectors.getGoalCard),c=Object(Q.useState)(!0),o=Object(Jt.a)(c,2),i=o[0],u=o[1];a?function(e,t,n){return e.cardID===n.cardID&&t===n.creationType}(t,n,a)?i&&u(!1):i||u(!0):i||u(!0);return B.a.createElement(ut.a,{title:zt.constants.grabForCardTooltip,enterDelay:zt.constants.defaultEnterDelay,enterNextDelay:zt.constants.defaultEnterNextDelay},B.a.createElement(lt.a,{type:"button",onClick:function(){r(i?ur.actions.setGoalCard(t,n):ur.actions.resetGoalCard())}},i?B.a.createElement(_r.a,{fontSize:"small"}):B.a.createElement(Ur.a,{fontSize:"small"})))},kr=Tn+"/RIVER_SHOW_STATE",xr=Tn+"/RIVER_CONTENT_STATE",Fr=Tn+"/RIVER_PUSH_STATE",Lr=Tn+"/RIVER_HOVERED_CARD",Vr=Tn+"/RIVER_CARD_SOURCE",Hr=Tn+"/RIVER_CONTENT_FILTER",qr=function(){return function(e,t){e({type:kr,payload:gr(t())?"HIDE":"SHOW"})}},Qr=function(e){return{type:xr,payload:e}},Br=function(e){return{type:Fr,payload:e}},Gr=function(e){return function(t,n){fr(n())!==e&&t(Br(e))}},zr=function(e,t){return{payload:{id:e,field:t},type:Lr}},Wr=function(e,t){return function(n,r){var a=r(),c=Cr(a);c.id===e&&c.field===t||n(zr(e,t))}},Xr=function(e,t){return{type:Vr,payload:{origin:t,sourceField:e}}},Yr=function(e,t){return function(n,r){var a=yr(r());a&&a.sourceField===e&&a.origin===t||n(Xr(e,t))}},Jr=function(){return{type:Vr,payload:null}},Zr=function(){return function(e,t){null!==yr(t())&&e(Jr())}},Kr=function(e){return{type:Hr,payload:e}},$r=n(148),ea=n.n($r),ta="selectionData",na=ta+"/SELECTED_STRING",ra=ta+"/SELECTED_PARENT",aa=ta+"/SELECTION_POSITION",ca=function(e){return e[ta].present},oa=Object(re.a)(ca,(function(e){return e.selectionPosition})),ia=Object(re.a)(ca,(function(e){return e.manuallySelectedString})),ua=Object(re.a)(ca,(function(e){return e.selectedParentSpan})),la=Object(re.a)((function(e){return e}),jn.selectors.getCurrentPage,ua,(function(e,t,n){return{spanIndex:jn.selectors.getSpanIndex(e,n),page:t}})),sa=function(e,t,n){return function(r,a){var c,o=a(),i=void 0!==n,u=ia(o),l=ua(o)?la(o):void 0;l&&(c=ur.services.transformInputOrigin(l,"note",t,i?ur.selectors.getCards(o)[n].origin:void 0)),r(i?ur.actions.updateCardContent(u,n,t,"APPEND",c):ur.actions.pushCardContent(u,t,"APPEND",e,c)),r(pa())}},da=function(e,t,n){return function(r,a){var c,o=a(),i=void 0!==n,u=ia(o),l=ua(o)?la(o):void 0;l&&(c=ur.services.transformInputOrigin(l,"note",t,i?ur.selectors.getCards(o)[n].origin:void 0)),r(i?ur.actions.updateCardContent(u,n,t,"REPLACE",c):ur.actions.pushCardContent(u,t,"REPLACE",e,c)),r(pa())}},fa=function(e,t,n,r,a){return function(c,o){var i=o(),u=void 0!==a,l=function(e){var t,n;return!!e&&(!Object(Rn.isNullOrUndefined)(e.spanIndex)||!Object(Rn.isNullOrUndefined)(null===(t=e.a)||void 0===t?void 0:t.spanIndex)||!Object(Rn.isNullOrUndefined)(null===(n=e.q)||void 0===n?void 0:n.spanIndex))}(r)?ur.services.transformInputOrigin(r,n,t,u?ur.selectors.getCards(i)[a].origin:void 0):void 0,s=ia(i);c(u?ur.actions.updateCardContent(s,a,t,"REPLACE",l):ur.actions.pushCardContent(s,t,"REPLACE",e,l)),c(pa())}},ma=function(e){return{type:na,payload:e}},pa=function(){return ma("")},Ea=function(e){return{type:ra,payload:e}},va=function(e,t){return{type:aa,payload:{x:e,y:t}}},Oa={manuallySelectedString:"",selectedParentSpan:null,selectionPosition:{x:0,y:0}},ba=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oa,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case na:return Object(X.a)(Object(X.a)({},e),{},{manuallySelectedString:r});case ra:return Object(X.a)(Object(X.a)({},e),{},{selectedParentSpan:r});case aa:return Object(X.a)(Object(X.a)({},e),{},{selectionPosition:r});default:return e}},Da=n(319),ga=n(147),Ca=n.n(ga),ya=function(){var e=Object(Q.useState)(!1),t=Object(Jt.a)(e,2),n=t[0],r=t[1],a=Object(it.c)(),c=Object(it.d)(ia);""===c&&n&&r(!1),""===c||n||r(!0);var o=B.a.createElement(Q.Fragment,null,B.a.createElement("div",null,"Current Selection: "),B.a.createElement("div",{style:{color:"green"}}," ",c));return B.a.createElement(Da.a,{onMouseEnter:function(){a(On.actions.tryUpdateFocus("CONTROL"))},anchorOrigin:{vertical:"top",horizontal:"center"},open:n,onClose:function(e,t){"clickaway"===t?e.preventDefault():(r(!1),a(pa()))},message:o,action:B.a.createElement(lt.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){r(!1),a(pa())}},B.a.createElement(Ca.a,{fontSize:"small"}))})},ja={actions:M,actionTypes:I,constants:A,components:U,reducer:ba,selectors:N},Ta=function(e){var t=e.type,n=e.creationType,r=e.cardID,a=Object(it.c)(),c=Object(it.d)(ja.selectors.getCurrentSelectedParent);return B.a.createElement(zt.components.AppendButtonTooltip,null,B.a.createElement(lt.a,{type:"button",onClick:function(){c&&a(ja.actions.selectionToCardAppend(t,n,r))}},B.a.createElement(ea.a,{fontSize:"small"})))},Ra=function(e){var t,n,r=e.config,a=Object(it.c)(),c=Object(it.d)(Cr),o=c.id,i=c.field,u=r.cardID===o,l="ACTIVE_RIVER"===Object(it.d)(On.selectors.getDisplayFocus),s=Object(Q.useRef)();return Object(Q.useEffect)((function(){s.current&&u&&s.current.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})})),B.a.createElement(st.a,{variant:"elevation",elevation:5,ref:s,style:{padding:"3px"}},B.a.createElement(W.a,{container:!0,direction:"row",justify:"space-between"},B.a.createElement(W.a,{item:!0},B.a.createElement(W.a,{container:!0,direction:"column",spacing:1},B.a.createElement(W.a,{item:!0},B.a.createElement(W.a,{container:!0,direction:"row",spacing:1},B.a.createElement(W.a,{item:!0},B.a.createElement("div",{style:u&&"q"===i?Sa:void 0},B.a.createElement(Sr,{saveChanges:function(e){a(ur.actions.updateCardContent(e,r.cardID,"q","REPLACE",r.origin))},storeValue:r.content.q,label:zt.constants.questionText,variant:"filled",style:{backgroundColor:"#FFBF69"},InputLabelProps:{style:{color:"#000000"}},onMouseEnter:function(){a(On.actions.tryUpdateFocus("RIVER")),a(Yr("q",r.origin))}}))),B.a.createElement(W.a,{item:!0},B.a.createElement(nn.a,{variant:"outlined"},B.a.createElement(W.a,{container:!0,direction:"row"},l&&B.a.createElement(On.components.RiverControlFocusUpdater,null,B.a.createElement(Ta,{type:r.type,creationType:"q",cardID:r.cardID})),l&&B.a.createElement(On.components.RiverControlFocusUpdater,null,B.a.createElement(wr,{cardConfig:r,creationType:"q"})),r.origin&&!Object(Rn.isNullOrUndefined)(null===(t=r.origin.q)||void 0===t?void 0:t.spanIndex)&&B.a.createElement(Nr,{cardOrigin:r.origin.q})))))),B.a.createElement(W.a,{item:!0},B.a.createElement(W.a,{container:!0,direction:"row",spacing:1},B.a.createElement(W.a,{item:!0},B.a.createElement("div",{style:u&&"a"===i?Sa:void 0},B.a.createElement(Sr,{saveChanges:function(e){a(ur.actions.updateCardContent(e,r.cardID,"a","REPLACE",r.origin))},storeValue:r.content.a,label:zt.constants.answerText,style:{backgroundColor:"#2EC4B6"},InputLabelProps:{style:{color:"#000000"}},onMouseEnter:function(){a(On.actions.tryUpdateFocus("RIVER")),a(Yr("a",r.origin))}}))),B.a.createElement(W.a,{item:!0},B.a.createElement(nn.a,{variant:"outlined"},B.a.createElement(W.a,{container:!0,direction:"row"},l&&B.a.createElement(On.components.RiverControlFocusUpdater,null,B.a.createElement(Ta,{type:r.type,creationType:"a",cardID:r.cardID})),l&&B.a.createElement(On.components.RiverControlFocusUpdater,null,B.a.createElement(wr,{cardConfig:r,creationType:"a"})),r.origin&&!Object(Rn.isNullOrUndefined)(null===(n=r.origin.a)||void 0===n?void 0:n.spanIndex)&&B.a.createElement(Nr,{cardOrigin:r.origin.a})))))))),B.a.createElement(W.a,{item:!0},B.a.createElement(On.components.RiverControlFocusUpdater,null,B.a.createElement(ur.components.DeleteCardButton,{cardID:r.cardID})))))},ha=function(e){var t=e.config,n=Object(it.c)(),r=Object(it.d)(Cr).id,a=t.cardID===r,c="ACTIVE_RIVER"===Object(it.d)(On.selectors.getDisplayFocus),o=Object(Q.useRef)();return Object(Q.useEffect)((function(){o.current&&a&&o.current.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})})),B.a.createElement(st.a,{variant:"elevation",elevation:5,style:a?Object(X.a)(Object(X.a)({},Sa),{},{padding:"3px"}):{padding:"3px"},ref:o},B.a.createElement(W.a,{container:!0,direction:"row",justify:"space-between"},B.a.createElement(W.a,{item:!0},B.a.createElement(W.a,{container:!0,direction:"row",spacing:1},B.a.createElement(W.a,{item:!0},B.a.createElement(Sr,{saveChanges:function(e){n(ur.actions.updateCardContent(e,t.cardID,"note","REPLACE",t.origin))},storeValue:t.content,label:zt.constants.noteText,variant:"filled",style:{backgroundColor:"#CBF3F0"},InputLabelProps:{style:{color:"#000000"}},onMouseEnter:function(){n(On.actions.tryUpdateFocus("RIVER")),n(Yr("note",t.origin))}})),B.a.createElement(W.a,{item:!0},B.a.createElement(nn.a,{variant:"outlined"},B.a.createElement(W.a,{container:!0,direction:"row"},B.a.createElement(W.a,{item:!0},c&&B.a.createElement(On.components.RiverControlFocusUpdater,null,B.a.createElement(Ta,{type:t.type,creationType:"q",cardID:t.cardID}))),B.a.createElement(W.a,{item:!0},c&&B.a.createElement(On.components.RiverControlFocusUpdater,null,B.a.createElement(wr,{cardConfig:t,creationType:"note"}))),B.a.createElement(W.a,{item:!0},t.origin&&B.a.createElement(Nr,{cardOrigin:t.origin}))))))),B.a.createElement(W.a,{item:!0},B.a.createElement(On.components.RiverControlFocusUpdater,null,B.a.createElement(ur.components.DeleteCardButton,{cardID:t.cardID})))))},Sa={border:"4px solid green",borderRadius:"4px"},Aa=function(e){var t=e.config,n=e.riverID;switch(t.type){case"Note":return B.a.createElement(ha,{config:t,riverID:n});case"Q-A":return B.a.createElement(Ra,{config:t,riverID:n})}},Ia=function(){return B.a.createElement(W.a,{item:!0},B.a.createElement(dt.a,null))},Na=n(320),Ma=n(303),Ua=n(304),Pa=function(e){var t=e.riverID,n=e.gridItems,r=e.summary,a=Object(Q.useState)(3),c=Object(Jt.a)(a,2),o=c[0],i=c[1],u=Object(it.d)(fr);t===u&&3===o?i(20):t!==u&&3!==o&&i(3);var l=Object(it.d)(jn.selectors.getMaterialHeight),s=Object(it.d)(On.selectors.getDisplayFocus),d=Object(it.c)();return B.a.createElement(Na.a,{defaultExpanded:!0,onMouseEnter:function(){d(Gr(t))},elevation:o,style:"ACTIVE_RIVER"===s?{overflowY:"auto",maxHeight:l||"1400px"}:{}},B.a.createElement(Ma.a,null,B.a.createElement(Kt.a,{variant:"h6",align:"center",style:{MozUserSelect:"none",WebkitUserSelect:"none",msUserSelect:"none"}},r)),B.a.createElement(Ua.a,null,B.a.createElement(W.a,{container:!0,direction:"column",spacing:2,justify:"center",alignItems:"stretch"},B.a.createElement(W.a,{item:!0},B.a.createElement(On.components.RiverControlFocusUpdater,null,B.a.createElement(ur.components.AddQAButton,null)),B.a.createElement(On.components.RiverControlFocusUpdater,null,B.a.createElement(ur.components.AddNoteButton,null)),B.a.createElement(dt.a,null)),B.a.createElement(W.a,{item:!0},B.a.createElement(W.a,{container:!0,direction:"column",spacing:2,justify:"center",alignItems:"stretch"},n)))))},_a=function(e){var t=e.riverID,n=e.riverCards,r=Object(it.d)(Tr),a=Object(it.d)(Rr),c=Object(Q.useMemo)((function(){var e=n;return"NONE"===r?[]:("ALL"!==r&&("QAS"===r&&(e=n.filter((function(e){return"Q-A"===e.type}))),"NOTES"===r&&(e=n.filter((function(e){return"Note"===e.type})))),""!==a&&(e=e.filter((function(e){switch(e.type){case"Note":return function(e,t){return e.content.includes(t)}(e,a);case"Q-A":return function(e,t){return e.content.a.includes(t)||e.content.q.includes(t)}(e,a)}return!1}))),function(e,t){var n=ye();return e.reduce((function(e,r,a,c){return e.push(B.a.createElement(W.a,{item:!0,key:n()},B.a.createElement(Aa,{config:r,riverID:t,key:n()}))),a<c.length-1&&e.push(B.a.createElement(Ia,{key:n()})),e}),[])}(e,t))}),[n,t,r,a]);return B.a.createElement(Pa,{riverID:t,gridItems:c,summary:t})},wa=function(e){return"CardRiver "+e},ka=function(){var e=Object(it.d)(On.selectors.getDisplayFocus),t=Object(it.d)(jn.selectors.getCurrentPage),n=Object(it.d)(ur.selectors.getCards),r=Object.values(Object(it.d)(sr)),a=Object(Q.useRef)(null);Object(Q.useEffect)((function(){"SUMMARY_RIVER"===e&&null!==a.current&&(a.current.getBoundingClientRect().y<100?window.scrollTo({top:0,behavior:"smooth"}):a.current.scrollIntoView({behavior:"smooth",block:"start",inline:"start"}))}),[e,t]);var c=ye();return B.a.createElement(W.a,{container:!0,justify:"flex-start",direction:"row",alignItems:"stretch",spacing:1},r.map((function(e){return e.cardIDs.length>0?B.a.createElement(W.a,{item:!0,ref:(r=e.riverID,parseInt(r.replace("CardRiver ",""))===t?a:null),key:c()},B.a.createElement(_a,{riverID:e.riverID,riverCards:e.cardIDs.map((function(e){return n[e]})),key:c()})):null;var r})))},xa=function(){var e=Object(it.d)(On.selectors.getDisplayFocus);return B.a.createElement(W.a,{item:!0,hidden:"SUMMARY_RIVER"!==e},B.a.createElement(ka,null))},Fa=function(){var e=Object(it.d)(dr),t=Object(it.d)(br);return B.a.createElement(_a,{riverID:e,riverCards:t})},La=function(e){var t=e.hidden;return B.a.createElement(W.a,{item:!0,style:{width:"38%"},hidden:t},B.a.createElement(Fa,null))},Va=function(){var e=Object(it.d)(On.selectors.getDisplayFocus),t=Object(it.d)(jn.selectors.displayStatusIsShow),n=Object(it.d)(gr);return B.a.createElement(W.a,{item:!0,hidden:"ACTIVE_RIVER"!==e},B.a.createElement(W.a,{container:!0,justify:"space-around",direction:"row",alignItems:"stretch"},B.a.createElement(La,{hidden:!n}),B.a.createElement(jn.components.MaterialDisplayColumnWithSize,{hidden:!t})))},Ha=n(305),qa=n(306),Qa=n(8),Ba=n(317),Ga=n(96),za=Object(Qa.a)({root:{color:Ga.a[400],"&$checked":{color:Ga.a[600]}},checked:{}})((function(e){return B.a.createElement(Ba.a,Object.assign({color:"default"},e))})),Wa=function(){var e=Object(it.d)(Tr),t=Object(it.c)(),n="ALL"===e||"QAS"===e,r="ALL"===e||"NOTES"===e,a=function(e){n||"QAS"!==e?r||"NOTES"!==e?n&&"QAS"===e?t(Qr(r?"NOTES":"NONE")):r&&"NOTES"===e&&t(Qr(n?"QAS":"NONE")):t(Qr(n?"ALL":"NOTES")):t(Qr(r?"ALL":"QAS"))};return B.a.createElement(Ha.a,null,B.a.createElement(qa.a,{control:B.a.createElement(za,{checked:n,onClick:function(){a("QAS")}}),label:"QAs"}),B.a.createElement(qa.a,{control:B.a.createElement(za,{checked:r,onClick:function(){a("NOTES")}}),label:"Notes"}))},Xa=n(95),Ya={riverMakeUps:Object(_e.a)({},wa(1),{riverID:wa(1),cardIDs:["2","0","1"]}),pushToRiverID:wa(1),activeRiverMakeUpID:wa(1),lastRiverIDNumber:1,riverShowState:"SHOW",highlightedCardID:null,highlightedCardField:null,riverContentState:"ALL",sourceCard:null,contentFilter:""},Ja=function(e){return{riverID:wa(e),cardIDs:[]}},Za=function(e){for(var t=Object(X.a)({},e),n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach((function(e){t.riverMakeUps[e.riverID]=e})),t},Ka=function(e){return Object(X.a)(Object(X.a)({},e.riverMakeUps[e.activeRiverMakeUpID]),{},{active:!1})},$a=function(e,t){var n=Object.fromEntries(Object.entries(e.riverMakeUps).map((function(e){return[e[0],Object(X.a)(Object(X.a)({},e[1]),{},{cardIDs:e[1].cardIDs.filter((function(e){return e!==t}))})]})));return Object(X.a)(Object(X.a)({},e),{},{riverMakeUps:n})},ec={constants:D,components:P,reducer:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ya,r=arguments.length>1?arguments[1]:void 0,a=r.type,c=r.payload;switch(a){case jn.actionTypes.PAGE_UPDATE:var o;o=n.riverMakeUps[wa(c)]?Object(X.a)({},n.riverMakeUps[wa(c)]):Ja(c);var i=Ka(n);return Object(X.a)(Object(X.a)({},Za(n,o,i)),{},{activeRiverMakeUpID:o.riverID,pushToRiverID:o.riverID});case ur.actionTypes.CARD_PUSH:return e=Object(X.a)(Object(X.a)({},n.riverMakeUps[n.pushToRiverID]),{},{cardIDs:[].concat(Object(Xa.a)(n.riverMakeUps[n.pushToRiverID].cardIDs),[c.card.cardID])}),(t=Object(X.a)({},n.riverMakeUps))[n.pushToRiverID]=e,Object(X.a)(Object(X.a)({},n),{},{riverMakeUps:t});case ur.actionTypes.CARD_REMOVE:return $a(n,c);case kr:return Object(X.a)(Object(X.a)({},n),{},{riverShowState:c});case xr:return Object(X.a)(Object(X.a)({},n),{},{riverContentState:c});case Fr:return Object(X.a)(Object(X.a)({},n),{},{pushToRiverID:c});case Lr:return Object(X.a)(Object(X.a)({},n),{},{highlightedCardID:c.id,highlightedCardField:c.field});case On.actionTypes.FOCUS_UPDATE:var u=n.sourceCard;return"DOCUMENT"===c&&u&&(u=null),null!==n.highlightedCardID&&"CONTEXT_MENU"!==c?Object(X.a)(Object(X.a)({},n),{},{highlightedCardID:null,highlightedCardField:null,sourceCard:u}):Object(X.a)(Object(X.a)({},n),{},{sourceCard:u});case He.actionTypes.DOCUMENT_CHANGE:return c?Object(X.a)(Object(X.a)({},Ya),{},{riverMakeUps:c.riverMakeUps,activeRiverMakeUpID:c.activeRiverMakeUpID,pushToRiverID:c.pushToRiverID,lastRiverIDNumber:c.lastRiverIDNumber}):Ya;case He.actionTypes.LOAD_DOCUMENT_DATA_SETS:return c.newActiveDataSet?Object(X.a)(Object(X.a)({},Ya),{},{riverMakeUps:c.newActiveDataSet.riverMakeUps,activeRiverMakeUpID:c.newActiveDataSet.activeRiverMakeUpID,pushToRiverID:c.newActiveDataSet.pushToRiverID,lastRiverIDNumber:c.newActiveDataSet.lastRiverIDNumber}):n;case Vr:return Object(X.a)(Object(X.a)({},n),{},{sourceCard:c});case Hr:return Object(X.a)(Object(X.a)({},n),{},{contentFilter:c});default:return n}},selectors:h,actions:S},tc=Object(re.a)(jn.selectors.getPDFName,jn.selectors.getTotalPages,jn.selectors.getCurrentPage,ec.selectors.getRiverMakeUps,ec.selectors.getActiveRiverMakeUpID,ec.selectors.getPushToRiver,ec.selectors.getLastRiverIDNumber,ur.selectors.getCards,ur.selectors.getLastCardIDNumber,(function(e,t,n,r,a,c,o,i,u){return{name:e,totalPages:t,currentPage:n,riverMakeUps:r,activeRiverMakeUpID:a,pushToRiverID:c,lastRiverIDNumber:o,cards:i,lastCardIDNumber:u}})),nc=function(){return function(e,t){var n=t();if(void 0!==jn.selectors.getPDFName(n)){var r=tc(n);e(He.actions.archiveDBData(r))}}},rc=n(229),ac=function(){return function(e,t){e(nc());var n=He.selectors.getDocumentDataSets(t()),r=(new Date).toLocaleString();rc(JSON.stringify(n),r+" ClayMemory.txt")}},cc=function(e){return function(t,n){var r=e.name,a=n(),c=jn.selectors.getPDFName(a),o=He.selectors.getDocumentDB(a);if(void 0!==c){var i=tc(a);t(He.actions.archiveDBData(i))}if(t(jn.actions.pdfUpload(e)),r!==c){var u=o[r];t(u?{type:He.actionTypes.DOCUMENT_CHANGE,payload:u}:{type:He.actionTypes.DOCUMENT_CHANGE}),t(qe.ActionCreators.clearHistory())}}},oc=function(e){return function(t,n){var r=n(),a=jn.selectors.getPDFName(r),c=He.selectors.getDocumentDB(r);if(void 0!==a){var o=tc(r);t(He.actions.archiveDBData(o))}var i=c[e];t({type:He.actionTypes.DOCUMENT_CHANGE,payload:i}),t(qe.ActionCreators.clearHistory())}},ic=function(e,t){var n=Object(Q.useRef)((function(){}));Object(Q.useEffect)((function(){n.current=t}),[t]),Object(Q.useEffect)((function(){var t=function(e){return n.current(e)};return document.addEventListener(e,t),function(){document.removeEventListener(e,t)}}),[e])},uc="creationData",lc=uc+"/TOGGLE_CONTEXT_MENU",sc=uc+"/CLOSE_CONTEXT_MENU",dc=uc+"/OPEN_CONTEXT_MENU",fc=function(e){return e[uc].present},mc=Object(re.a)(fc,(function(e){return e.open})),pc=Object(re.a)(fc,(function(e){return e.menuRef})),Ec=Object(re.a)(fc,(function(e){return e.fullCardRef})),vc=Object(re.a)(fc,(function(e){return e.qaRefs})),Oc=Object(re.a)(ja.selectors.getCurrentSelectionPosition,mc,pc,vc,ec.selectors.getPushToRiverCards,(function(e,t,n,r,a){return{position:e,state:t,menuRef:n,qaRefs:r,riverCards:a}})),bc=function(){return function(e,t){var n=t();jn.selectors.getDataExists(n)&&(e({type:lc}),e(On.actions.toggleContextMenuFocus()))}},Dc=function(){return function(e,t){mc(t())&&(e({type:sc}),e(On.actions.updateFocus("DOCUMENT")))}},gc=function(){return function(e){e({type:dc}),e(On.actions.updateFocus("DOCUMENT"))}},Cc={open:!1,menuRef:Object(Q.createRef)(),fullCardRef:Object(Q.createRef)(),qaRefs:[Object(Q.createRef)(),Object(Q.createRef)()]},yc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cc,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case lc:return Object(X.a)(Object(X.a)({},e),{},{open:!e.open});case sc:return Object(X.a)(Object(X.a)({},e),{},{open:!1});case dc:return Object(X.a)(Object(X.a)({},e),{},{open:!0});case ur.actionTypes.CARD_PUSH:return"Q-A"===r.card.type?Object(X.a)(Object(X.a)({},e),{},{qaRefs:[].concat(Object(Xa.a)(e.qaRefs),[Object(Q.createRef)()])}):e;default:return e}},jc=n(111),Tc=n(268),Rc=n(94),hc=function(e){return""===e},Sc=function(e){return""===e.q||""===e.a},Ac=function(e){var t=e.cardConfig,n=e.dispatchRiver,r=Object(it.c)();return B.a.createElement(Tc.a,{onClick:function(){n(t.type,"note",t.cardID)},onMouseEnter:function(){r(ec.actions.trySetHoveredCard(t.cardID,"note"))}},t.type)},Ic=function(e){var t=e.cardConfig,n=e.dispatchRiver,r=e.qaRef,a=Object(it.c)();return B.a.createElement(Rc.a,{label:"Q-A",parentMenuOpen:!0},B.a.createElement(Tc.a,{ref:r,onClick:function(){n("Q-A","q",t.cardID)},onMouseEnter:function(){a(ec.actions.trySetHoveredCard(t.cardID,"q"))}},"Q"),B.a.createElement(Tc.a,{onClick:function(){n("Q-A","a",t.cardID)},onMouseEnter:function(){a(ec.actions.trySetHoveredCard(t.cardID,"a"))}},"A"))},Nc=function(e){var t=e.cardConfig,n=e.dispatchRiver,r=e.qaRef;switch(t.type){case"Q-A":return B.a.createElement(Ic,{cardConfig:t,dispatchRiver:n,qaRef:r});default:return B.a.createElement(Ac,{cardConfig:t,dispatchRiver:n})}},Mc=function(e){var t=e.onClick;return B.a.createElement(Tc.a,{onClick:t},"New: Q (Q-A)")},Uc=function(e){var t=e.onClick;return B.a.createElement(Tc.a,{onClick:t},"New: A (Q-A)")},Pc=function(e){var t=e.onClick;return B.a.createElement(Tc.a,{onClick:t},"New: Note")},_c=function(e){var t=e.noteDispatch,n=e.qDispatch,r=e.aDispatch;return B.a.createElement(Q.Fragment,null,B.a.createElement(Pc,{onClick:t}),B.a.createElement(Mc,{onClick:n}),B.a.createElement(Uc,{onClick:r}))};var wc=Object(it.b)(Oc)((function(e){var t=e.position,n=e.state,r=e.menuRef,a=e.qaRefs,c=e.riverCards,o=Object(it.d)(Ec),i=Object(it.c)(),u=Object(it.d)(ec.selectors.getSourceCard),l=n,s=function(e,t,n){i(Dc()),u?(i(ja.actions.selectionToCardForSourceCard(e,t,u.sourceField,u.origin,n)),i(ec.actions.resetSourceCard())):i(ja.actions.selectionToCard(e,t,n))},d=ye(),f=ye(),m=l?{top:t.y,left:t.x}:void 0,p=c.filter((function(e){return"string"===typeof e.content?hc(e.content):Sc(e.content)})),E=c.filter((function(e){return"string"===typeof e.content?!hc(e.content):!Sc(e.content)}));return B.a.createElement(jc.a,{ref:l?r:null,keepMounted:!0,open:l,anchorReference:"anchorPosition",anchorPosition:m},l&&p.map((function(e){return B.a.createElement(Nc,{cardConfig:e,dispatchRiver:s,key:d(),qaRef:"Q-A"===e.type?a[f()]:void 0})})),l&&p.length>0&&B.a.createElement(dt.a,null),l&&B.a.createElement(_c,{noteDispatch:function(){s("Note","note")},qDispatch:function(){s("Q-A","q")},aDispatch:function(){s("Q-A","a")}}),l&&E.length>0&&B.a.createElement(dt.a,null),l&&E.length>0&&B.a.createElement(Rc.a,{label:"Full cards: ",parentMenuOpen:!0},B.a.createElement(Tc.a,{ref:o,style:{position:"absolute"}}),E.map((function(e){return B.a.createElement(Nc,{cardConfig:e,dispatchRiver:s,key:d(),qaRef:"Q-A"===e.type?a[f()]:void 0})}))))})),kc=function(e,t){var n,r,a=pc(e).current,c=null===(n=Ec(e).current)||void 0===n?void 0:n.parentNode,o=vc(e).map((function(e){return e.current})).filter((function(e){return!!e})).map((function(e){return e.parentNode})),i=t.target;if(null===a||void 0===a||null===(r=a.querySelector("div.MuiPaper-root"))||void 0===r?void 0:r.contains(i))return!0;if(null===c||void 0===c?void 0:c.contains(i))return!0;var u,l=Object(je.a)(o);try{for(l.s();!(u=l.n()).done;){if(u.value.contains(i))return!0}}catch(s){l.e(s)}finally{l.f()}return!1},xc={actions:L,actionTypes:x,constants:k,components:V,reducer:yc,selectors:F,services:H},Fc=function(e){return function(t,n){var r=e[t.key];r&&(t.preventDefault(),n(r))}},Lc={ArrowLeft:jn.actions.previousPage(),ArrowRight:jn.actions.nextPage()},Vc=Fc(Lc),Hc={t:xc.actions.toggleContextMenu()},qc=Fc(Hc),Qc=function(e,t){},Bc={DOCUMENT:Fc(Object(X.a)(Object(X.a)({},Lc),Hc)),CONTEXT_MENU:qc,RIVER:Qc,RIVER_CONTROL:Qc,CONTROL:Vc};var Gc=Object(it.b)((function(){return{}}),{keyDownControl:function(e){return function(t,n){var r=n(),a=On.selectors.getFocus(r);(0,Bc[a])(e,t,r)}},mouseDownControl:function(e){return function(t,n){!xc.services.contextMenuContainsTargetNode(n(),e)&&t(xc.actions.closeContextMenu())}},mouseUpControl:function(e){return function(t,n){if(!xc.selectors.getContextMenuState(n())){var r=document.getSelection();if(r){var a=function(){if(!window.getSelection)return document.selection&&"Control"!==document.selection.type?document.selection.createRange().text:"";try{var e,t=document.activeElement;return t&&t.value?t.value.substring(t.selectionStart,t.selectionEnd):null===(e=window.getSelection())||void 0===e?void 0:e.toString()}catch(n){return""}}();if(a&&""!==a){var c=n(),o=ur.selectors.getGoalCard(c),i=On.selectors.getFocus(c);if(o&&("RIVER"===i||"DOCUMENT"===i))"RIVER"!==i&&t(ur.actions.updateCardContent(a,o.cardID,o.creationType,"REPLACE",o.origin)),t(ur.actions.resetGoalCard());else{var u;if("DOCUMENT"===i)t(ec.actions.setPushToRiver(ec.selectors.getActiveRiverMakeUpID(c))),t(ja.actions.selectedParent(null===(u=r.anchorNode)||void 0===u?void 0:u.parentNode)),t(ja.actions.updateManuallySelectedString(a)),t(ja.actions.updateSelectionPosition(e.x,e.y)),t(xc.actions.openContextMenu());"RIVER"===i&&t(ja.actions.updateManuallySelectedString(a))}}}}}},rightClickControl:function(e){return function(t,n){var r=n(),a=On.selectors.getFocus(r);""!==ja.selectors.getCurrentSelectedString(r)&&(e.preventDefault(),"RIVER"===a&&(t(ja.actions.updateSelectionPosition(e.x,e.y)),t(xc.actions.openContextMenu())))}}})((function(e){var t=e.keyDownControl,n=e.mouseDownControl,r=e.mouseUpControl,a=e.rightClickControl;return ic("keydown",t),ic("mousedown",n),ic("mouseup",r),ic("contextmenu",a),null})),zc=n(308),Wc=n(309),Xc=n(316),Yc=n(310),Jc=n(307),Zc=n(154),Kc=n.n(Zc),$c=n(155),eo=n.n($c),to=n(153),no=n.n(to),ro=n(152),ao=n.n(ro),co=n(150),oo=n.n(co),io=function(e){var t=e.document,n=Object(it.c)();return B.a.createElement(ut.a,{title:zt.constants.deleteDocumentTooltip,enterDelay:zt.constants.defaultEnterDelay,enterNextDelay:zt.constants.defaultEnterNextDelay},B.a.createElement(lt.a,{type:"button",onClick:function(){n(jn.actions.deleteDocument(t))}},B.a.createElement(oo.a,{fontSize:"small"})))},uo=n(151),lo=n.n(uo),so=function(e){var t=e.document,n=Object(it.c)();return B.a.createElement(ut.a,{title:zt.constants.loadSavedDocumentTooltip,enterDelay:zt.constants.defaultEnterDelay,enterNextDelay:zt.constants.defaultEnterNextDelay},B.a.createElement(lt.a,{type:"button",onClick:function(){n(oc(t))}},B.a.createElement(lo.a,{fontSize:"small"})))},fo=function(e){var t=e.handleClose,n=e.label,r=Object(it.c)(),a=Object(Q.useRef)(null);return B.a.createElement(Q.Fragment,null,B.a.createElement(Tc.a,{onClick:function(){a.current.click()}},B.a.createElement(Jc.a,{variant:"contained",color:"primary",disableElevation:!0,startIcon:B.a.createElement(ao.a,null)},n)),B.a.createElement("input",{ref:a,style:{display:"none"},onChange:function(e){var n=e.target.files,a=n?n[0]:null;a&&r(cc(a)),t()},type:"file",accept:".pdf"}))},mo=function(e){var t=e.handleClose,n=e.label,r=Object(it.c)(),a=Object(it.d)(jn.selectors.getPDFName),c=Object(Q.useRef)(null);return B.a.createElement(Q.Fragment,null,B.a.createElement(Tc.a,{onClick:function(){c.current.click()}},B.a.createElement(Jc.a,{variant:"contained",color:"primary",disableElevation:!0,startIcon:B.a.createElement(no.a,null)},n)),B.a.createElement("input",{ref:c,style:{display:"none"},onChange:function(e){var n=e.target.files,c=n?n[0]:null;if(c){var o=new FileReader;o.readAsText(c),o.onload=function(){var e=JSON.parse(o.result),t=e.find((function(e){return e.name===a}));r(He.actions.loadDocumentDataSets(e,t))}}t()},type:"file",accept:".txt"}))},po=function(e){var t=e.document;return B.a.createElement(W.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:1},B.a.createElement(W.a,{item:!0},t.replace(".pdf","")),B.a.createElement(W.a,{item:!0},B.a.createElement(st.a,{variant:"outlined"},B.a.createElement(W.a,{container:!0,direction:"row"},B.a.createElement(W.a,{item:!0},B.a.createElement(so,{document:t})),B.a.createElement(W.a,{item:!0},B.a.createElement(dt.a,{orientation:"vertical"})),B.a.createElement(W.a,{item:!0},B.a.createElement(io,{document:t}))))))},Eo=function(e){var t=e.document;return B.a.createElement(W.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:1},B.a.createElement(W.a,{item:!0},t.replace(".pdf","")),B.a.createElement(W.a,{item:!0},B.a.createElement(st.a,{variant:"outlined"},B.a.createElement(io,{document:t}))))},vo=function(){var e=Object(it.d)(He.selectors.getDocumentNames),t=Object(it.d)(jn.selectors.getPDFName),n=B.a.useState(null),r=Object(Jt.a)(n,2),a=r[0],c=r[1],o=function(){c(null)},i=Object(it.c)(),u=ye();return B.a.createElement("div",null,B.a.createElement(lt.a,{type:"button",onClick:function(e){c(e.currentTarget)}},B.a.createElement(Kc.a,null)),B.a.createElement(jc.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:o,MenuListProps:{style:{paddingLeft:"8px",paddingRight:"8px"}}},t&&[B.a.createElement(Kt.a,{key:u(),component:"span",variant:"h6"},zt.constants.activeDocumentText),B.a.createElement(Eo,{key:u(),document:t}),B.a.createElement(dt.a,{key:u(),style:{marginTop:"6px"}})],e.filter((function(e){return e!==t})).length>0&&[B.a.createElement(Kt.a,{key:u(),component:"span",variant:"h6"},zt.constants.existingDataText),B.a.createElement(Kt.a,{key:u(),component:"span"},B.a.createElement("ul",{style:{listStyleType:"square"}},e.map((function(e){return e&&e!==t?B.a.createElement("li",{key:u()},B.a.createElement(po,{document:e,key:u()})):null})))),B.a.createElement(dt.a,{key:u(),style:{marginTop:"6px"}})],B.a.createElement(fo,{handleClose:o,label:"Load document"}),B.a.createElement(dt.a,null),B.a.createElement(Tc.a,{onClick:function(){i(ac()),o()}},B.a.createElement(Jc.a,{variant:"contained",color:"primary",disableElevation:!0,startIcon:B.a.createElement(eo.a,null)},zt.constants.downloadDatasetsText)),B.a.createElement(dt.a,null),B.a.createElement(mo,{handleClose:o,label:zt.constants.uploadDatasetsText})))},Oo=n(156),bo=n.n(Oo),Do=function(){var e=Object(it.c)(),t=Object(it.d)(ec.selectors.getRiverContentFilter),n=Object(Q.useState)(t),r=Object(Jt.a)(n,2),a=r[0],c=r[1];return B.a.createElement(bo.a,{value:a,placeholder:"Search in cards",onChange:function(t){""===t&&e(ec.actions.setContentFilter("")),c(t)},onCancelSearch:function(){e(ec.actions.setContentFilter(""))},onRequestSearch:function(){return e(ec.actions.setContentFilter(a))}})},go=n(157),Co=n.n(go),yo=n(158),jo=n.n(yo),To=function(){var e=Object(it.c)();return B.a.createElement(ut.a,{title:zt.constants.undoTooltip,enterDelay:zt.constants.defaultEnterDelay,enterNextDelay:zt.constants.defaultEnterNextDelay},B.a.createElement("span",null,B.a.createElement(lt.a,{type:"button",onClick:function(){e(qe.ActionCreators.undo())}},B.a.createElement(Co.a,null))))},Ro=function(){var e=Object(it.c)();return B.a.createElement(ut.a,{title:zt.constants.redoTooltip,enterDelay:zt.constants.defaultEnterDelay,enterNextDelay:zt.constants.defaultEnterNextDelay},B.a.createElement(lt.a,{type:"button",onClick:function(){e(qe.ActionCreators.redo())}},B.a.createElement(jo.a,null)))},ho=function(){return B.a.createElement(st.a,{variant:"outlined"},B.a.createElement(W.a,{container:!0,direction:"row"},B.a.createElement(W.a,{item:!0},B.a.createElement(To,null)),B.a.createElement(W.a,{item:!0},B.a.createElement(dt.a,{orientation:"vertical"})),B.a.createElement(W.a,{item:!0},B.a.createElement(Ro,null))))},So=n(159),Ao=n.n(So),Io=function(){var e=Object(it.c)(),t=Object(it.d)(ec.selectors.getRiverShowState);return B.a.createElement(qa.a,{control:B.a.createElement(za,{checked:"SHOW"===t,onClick:function(){e(ec.actions.toggleRiverShowState())}}),label:"River"})},No=function(){var e=Object(it.c)(),t=Object(it.d)(jn.selectors.getDisplayStatus);return B.a.createElement(qa.a,{control:B.a.createElement(za,{checked:"SHOW"===t,onClick:function(){e(jn.actions.toggleDisplayState())}}),label:"Material"})},Mo=function(){var e=B.a.useState(null),t=Object(Jt.a)(e,2),n=t[0],r=t[1],a=Object(it.d)(On.selectors.getDisplayFocus);return B.a.createElement("div",null,B.a.createElement(lt.a,{type:"button",onClick:function(e){r(e.currentTarget)}},B.a.createElement(Ao.a,null)),B.a.createElement(jc.a,{anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:function(){r(null)}},B.a.createElement(Kt.a,null,"Show:"),B.a.createElement(dt.a,null),B.a.createElement(W.a,{container:!0,direction:"row"},B.a.createElement(W.a,{item:!0},B.a.createElement(ec.components.RiverContentFormGroup,null)),B.a.createElement(W.a,{item:!0},B.a.createElement(dt.a,{orientation:"vertical"})),B.a.createElement(W.a,{item:!0},"ACTIVE_RIVER"===a&&B.a.createElement(W.a,{container:!0,direction:"column"},B.a.createElement(W.a,{item:!0},B.a.createElement(Io,null)),B.a.createElement(W.a,{item:!0},B.a.createElement(No,null)))))))},Uo=function(){var e=Object(it.c)(),t="ACTIVE_RIVER"===Object(it.d)(On.selectors.getDisplayFocus)?0:1,n=Object(it.d)(jn.selectors.getPDFName);return B.a.createElement(W.a,{item:!0,onMouseEnter:function(){e(On.actions.tryUpdateFocus("CONTROL"))}},B.a.createElement(zc.a,null,B.a.createElement(Wc.a,{variant:"regular"},B.a.createElement(W.a,{item:!0},B.a.createElement(W.a,{container:!0,spacing:1,direction:"row",alignItems:"center",justify:"flex-start"},B.a.createElement(W.a,{item:!0,style:{width:"15%"}},B.a.createElement(jn.components.PageChooser,null)),B.a.createElement(W.a,{item:!0},B.a.createElement(jn.components.PageNavigation,null)),B.a.createElement(W.a,{item:!0},B.a.createElement(st.a,{variant:"outlined"},B.a.createElement(Xc.a,{value:t,onChange:function(t,n){e(0===n?On.actions.updateDisplayFocus("ACTIVE_RIVER"):On.actions.updateDisplayFocus("SUMMARY_RIVER"))}},B.a.createElement(Yc.a,{label:B.a.createElement(ut.a,{title:zt.constants.switchToActiveRiverTooltip,enterDelay:zt.constants.defaultEnterDelay,enterNextDelay:500,disableFocusListener:!0},B.a.createElement("span",null,"ActiveRiver"))}),B.a.createElement(Yc.a,{label:B.a.createElement(ut.a,{title:zt.constants.switchToSummaryRiverTooltip,enterDelay:zt.constants.defaultEnterDelay,enterNextDelay:500,disableFocusListener:!0},B.a.createElement("span",null,"SummaryRiver"))})))),B.a.createElement(W.a,{item:!0},B.a.createElement(ho,null)))),B.a.createElement(Kt.a,{style:{flexGrow:1}},null===n||void 0===n?void 0:n.replace(".pdf","")),B.a.createElement(Do,null),B.a.createElement(Mo,null),B.a.createElement(vo,null))))},Po={actions:w,components:q,selectors:_},_o=n(265),wo=n(311),ko=n(312),xo=n(313),Fo=n(314),Lo=n(160),Vo=n.n(Lo),Ho=Object(_o.a)((function(e){return Object(wo.a)({root:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}})}));function qo(e){var t=e.children,n=Ho(),r=Object(ko.a)({disableHysteresis:!0,threshold:100});return B.a.createElement(xo.a,{in:r},B.a.createElement("div",{onClick:function(e){var t=(e.target.ownerDocument||document).querySelector("#back-to-top-anchor");t&&t.scrollIntoView({behavior:"smooth",block:"center"})},role:"presentation",className:n.root},t))}function Qo(){return B.a.createElement("div",null,B.a.createElement(Po.components.ControlContainer,null),B.a.createElement(W.a,{container:!0,justify:"center",direction:"column",alignItems:"stretch",spacing:1},B.a.createElement(Po.components.ControlBar,null),B.a.createElement(Wc.a,{id:"back-to-top-anchor"}),B.a.createElement(ec.components.ActiveRiverView,null),B.a.createElement(ec.components.SummaryRiverView,null)),B.a.createElement(qo,null,B.a.createElement(Fo.a,{color:"secondary",size:"small","aria-label":"scroll back to top"},B.a.createElement(Vo.a,null))),B.a.createElement(xc.components.ContextMenuContainer,null),B.a.createElement(ja.components.SelectionSnackbar,null))}var Bo,Go=n(33),zo=n(161),Wo=n(162),Xo=n(69),Yo=n(163),Jo=n.n(Yo),Zo=function(e){return Object(X.a)(Object(X.a)({},e),{},{menuRef:null,fullCardRef:null,qaRefs:e.qaRefs.map((function(e){return null}))})},Ko=function(e){return Object(X.a)(Object(X.a)({},e),{},{menuRef:Object(Q.createRef)(),fullCardRef:Object(Q.createRef)(),qaRefs:e.qaRefs.map((function(e){return Object(Q.createRef)()}))})},$o=Object(Xo.a)((function(e){return Object(X.a)(Object(X.a)({},e),{},{future:e.future.map(Zo),past:e.past.map(Zo),present:Zo(e.present)})}),(function(e){return Object(X.a)(Object(X.a)({},e),{},{future:e.future.map(Ko),past:e.past.map(Ko),present:Ko(e.present)})}),{whitelist:[xc.constants.NAME]}),ei=Object(Xo.a)((function(e){return function(e){return Object(X.a)(Object(X.a)({},e),{},{documentRef:null,materialData:null,pdf:null})}(e)}),(function(e){return function(e){return Object(X.a)(Object(X.a)({},e),{},{pdf:void 0,documentRef:Object(Q.createRef)(),materialData:{materialDataTimeStamp:-1/0}})}(e)}),{whitelist:[jn.constants.NAME]}),ti={key:"root",storage:Jo.a,transforms:[$o,ei]},ni=Object(Go.combineReducers)((Bo={},Object(_e.a)(Bo,On.constants.NAME,On.reducer),Object(_e.a)(Bo,ja.constants.NAME,Qe()(ja.reducer,{filter:Object(qe.includeAction)([ja.actionTypes.SELECTED_STRING])})),Object(_e.a)(Bo,xc.constants.NAME,Qe()(xc.reducer,{filter:Object(qe.includeAction)([ur.actionTypes.CARD_PUSH])})),Object(_e.a)(Bo,ec.constants.NAME,Qe()(ec.reducer,{filter:Object(qe.includeAction)([ur.actionTypes.CARD_PUSH,ur.actionTypes.CARD_REMOVE,He.actionTypes.LOAD_DOCUMENT_DATA_SETS])})),Object(_e.a)(Bo,jn.constants.NAME,jn.reducer),Object(_e.a)(Bo,ur.constants.NAME,Qe()(ur.reducer,{filter:Object(qe.includeAction)([He.actionTypes.LOAD_DOCUMENT_DATA_SETS,ur.actionTypes.CARD_PUSH,ur.actionTypes.CARD_UPDATE,ur.actionTypes.CARD_REMOVE,ur.actionTypes.CARD_GOAL])})),Object(_e.a)(Bo,He.constants.NAME,Qe()(He.reducer,{filter:Object(qe.includeAction)([He.actionTypes.LOAD_DOCUMENT_DATA_SETS])})),Bo)),ri=Object(Xo.b)(ti,ni),ai=Object(zo.composeWithDevTools)({stateSanitizer:function(e){return e.displayData.pdf?Object(X.a)(Object(X.a)({},e),{},{displayData:Object(X.a)(Object(X.a)({},e.displayData),{},{pdf:"PDF_FILE_IS_HERE"})}):e}})(Object(Go.applyMiddleware)(Wo.a)),ci=Object(Go.createStore)(ri,ai),oi=Object(Xo.c)(ci),ii=n(164);n(259),z.a.render(B.a.createElement(B.a.StrictMode,null,B.a.createElement(it.a,{store:ci},B.a.createElement(ii.a,{loading:null,persistor:oi},B.a.createElement(Qo,null)))),document.getElementById("root"))}},[[175,1,2]]]);
//# sourceMappingURL=main.4bbb8218.chunk.js.map