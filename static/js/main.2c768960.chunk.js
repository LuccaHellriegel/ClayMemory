(this.webpackJsonpclaymemory=this.webpackJsonpclaymemory||[]).push([[0],{177:function(e,t,n){e.exports=n(251)},191:function(e,t,n){},214:function(e,t){},215:function(e,t){},216:function(e,t){},217:function(e,t){},218:function(e,t){},251:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"NAME",(function(){return q}));var a={};n.r(a),n.d(a,"pageNumberToRiverMakeUpID",(function(){return V})),n.d(a,"riverMakeUpIDToPageNumber",(function(){return H})),n.d(a,"emptyCardRiver",(function(){return _})),n.d(a,"updateStateWithMakeUps",(function(){return K})),n.d(a,"removeCardFromRivers",(function(){return G}));var c={};n.r(c),n.d(c,"NAME",(function(){return Z}));var o={};n.r(o),n.d(o,"toFieldValue",(function(){return X})),n.d(o,"createReplace",(function(){return Y})),n.d(o,"changeCardObject",(function(){return ee}));var i={};n.r(i),n.d(i,"emptyContent",(function(){return re})),n.d(i,"noteContentIsEmpty",(function(){return ae})),n.d(i,"qaContentIsNotFull",(function(){return ce})),n.d(i,"strToCardContent",(function(){return ue})),n.d(i,"strToNewCardContent",(function(){return le})),n.d(i,"noteContentContainsStringOrEmpty",(function(){return de})),n.d(i,"qaContentContainsStringOrEmpty",(function(){return se}));var u={};n.r(u),n.d(u,"cardIDToNumber",(function(){return fe})),n.d(u,"nextCardID",(function(){return me})),n.d(u,"cardIsNotFull",(function(){return ve})),n.d(u,"strToCardConfig",(function(){return ge})),n.d(u,"cardFieldToType",(function(){return Ee})),n.d(u,"emptyNote",(function(){return Oe})),n.d(u,"emptyQA",(function(){return he}));var l={};n.r(l),n.d(l,"getState",(function(){return je})),n.d(l,"hasPast",(function(){return ye})),n.d(l,"hasFuture",(function(){return De})),n.d(l,"getAll",(function(){return Ce})),n.d(l,"getLastCardIDNumber",(function(){return Se})),n.d(l,"getNextCardID",(function(){return Ie})),n.d(l,"getCards",(function(){return ke})),n.d(l,"getCardByID",(function(){return we}));var d={};n.r(d),n.d(d,"switchToActiveRiverTooltip",(function(){return Ae})),n.d(d,"switchToSummaryRiverTooltip",(function(){return Pe})),n.d(d,"undoTooltip",(function(){return Te})),n.d(d,"redoTooltip",(function(){return Me})),n.d(d,"nextPageTooltip",(function(){return Fe})),n.d(d,"previousPageTooltip",(function(){return Ue})),n.d(d,"deleteCardTooltip",(function(){return qe})),n.d(d,"jumpToOriginTooltip",(function(){return Be})),n.d(d,"ChoiceCardAsAppendTarget",(function(){return ze})),n.d(d,"AppendToCardTooltip",(function(){return Le})),n.d(d,"CardIsAppendTargetTooltip",(function(){return We})),n.d(d,"ChoiceCardAsReplaceTarget",(function(){return Qe})),n.d(d,"ReplaceCardTooltip",(function(){return Ve})),n.d(d,"CardIsReplaceTargetTooltip",(function(){return He})),n.d(d,"newQACardTooltip",(function(){return _e})),n.d(d,"newNoteCardTooltip",(function(){return Ke})),n.d(d,"unhideCardsTooltip",(function(){return Ge})),n.d(d,"deleteDocumentTooltip",(function(){return Ze})),n.d(d,"loadSavedDocumentTooltip",(function(){return Je})),n.d(d,"noMaterialText",(function(){return Xe})),n.d(d,"loadingMaterialText",(function(){return $e})),n.d(d,"activeDocumentText",(function(){return Ye})),n.d(d,"existingDataText",(function(){return et})),n.d(d,"loadMaterialText",(function(){return tt})),n.d(d,"downloadDatasetsText",(function(){return nt})),n.d(d,"uploadDatasetsText",(function(){return rt})),n.d(d,"noteText",(function(){return at})),n.d(d,"questionText",(function(){return ct})),n.d(d,"answerText",(function(){return ot})),n.d(d,"defaultEnterDelay",(function(){return it})),n.d(d,"defaultEnterNextDelay",(function(){return ut}));var s={};n.r(s),n.d(s,"NewNoteCardTooltip",(function(){return ft})),n.d(s,"AddQAButtonTooltip",(function(){return mt})),n.d(s,"DeleteCardButtonTooltip",(function(){return pt})),n.d(s,"UnhideCardsTooltip",(function(){return vt})),n.d(s,"BiggerTooltip",(function(){return st}));var f={};n.r(f),n.d(f,"AddNoteButton",(function(){return Dt})),n.d(f,"AddQAButton",(function(){return It})),n.d(f,"DeleteCardButton",(function(){return Nt})),n.d(f,"UndoRedoCard",(function(){return Gt})),n.d(f,"UndoRedoKeyListener",(function(){return Zt}));var m={};n.r(m),n.d(m,"emptyOrigin",(function(){return $t})),n.d(m,"singleOriginToCardOrigin",(function(){return Yt}));var p={};n.r(p),n.d(p,"config",(function(){return u})),n.d(p,"origin",(function(){return m})),n.d(p,"permutation",(function(){return o})),n.d(p,"content",(function(){return i}));var v={};n.r(v),n.d(v,"getAll",(function(){return nn})),n.d(v,"getRiverMakeUps",(function(){return rn})),n.d(v,"getNonEmptyRiverIDs",(function(){return an})),n.d(v,"getNonEmptyRiverIDsSorted",(function(){return cn})),n.d(v,"getNonEmptyRiverMakeUpsSorted",(function(){return on})),n.d(v,"getNonEmptyRiverCardsSorted",(function(){return un})),n.d(v,"getActiveRiverMakeUpID",(function(){return ln})),n.d(v,"getActiveRiverMakeUp",(function(){return dn})),n.d(v,"getActiveRiverCardIDs",(function(){return sn})),n.d(v,"getActiveRiverCards",(function(){return fn})),n.d(v,"getRiverShowState",(function(){return mn})),n.d(v,"riverShowStateIsShow",(function(){return pn})),n.d(v,"getRiverContentState",(function(){return vn})),n.d(v,"getRiverContentFilter",(function(){return gn})),n.d(v,"getOriginRequest",(function(){return bn}));var g={};n.r(g),n.d(g,"getAll",(function(){return Ln})),n.d(g,"getTargetConfig",(function(){return Wn})),n.d(g,"getSourceConfig",(function(){return Qn})),n.d(g,"sourceConfigExists",(function(){return Vn}));var b={};n.r(b),n.d(b,"selectionToCard",(function(){return Hn}));var E={};n.r(E),n.d(E,"resetSelectionSource",(function(){return er})),n.d(E,"resetSelectionTarget",(function(){return nr})),n.d(E,"addSelectionSource",(function(){return rr})),n.d(E,"addMaterialSelectionSource",(function(){return ar})),n.d(E,"addCardSelectionSource",(function(){return cr})),n.d(E,"addSelectionTarget",(function(){return or})),n.d(E,"addCardAppendSelectionTarget",(function(){return ir})),n.d(E,"addCardReplaceSelectionTarget",(function(){return ur}));var O={};n.r(O),n.d(O,"SelectionSnackbar",(function(){return sr})),n.d(O,"MaterialMouseUp",(function(){return fr})),n.d(O,"CardFieldMouseUp",(function(){return mr})),n.d(O,"AppendButton",(function(){return Er})),n.d(O,"ContextMenu",(function(){return jr})),n.d(O,"ReplaceButton",(function(){return Ir}));var h={};n.r(h),n.d(h,"getSelectionWorkaround",(function(){return _n})),n.d(h,"use_selection",(function(){return b}));var j={};n.r(j),n.d(j,"RiverContentFormGroup",(function(){return Tn})),n.d(j,"CardRiver",(function(){return Hr})),n.d(j,"SwitchActiveRiver",(function(){return _r})),n.d(j,"ClayCard",(function(){return Ur})),n.d(j,"ShowRiverCheckbox",(function(){return Gr}));var y={};n.r(y),n.d(y,"filterCardConfigs",(function(){return Lr}));var D={};n.r(D),n.d(D,"NAME",(function(){return Yr})),n.d(D,"MaterialMultiplier",(function(){return ea}));var C={};n.r(C),n.d(C,"getAll",(function(){return ta})),n.d(C,"getPDF",(function(){return na})),n.d(C,"getPDFName",(function(){return ra})),n.d(C,"getTotalPages",(function(){return aa})),n.d(C,"getCurrentPage",(function(){return ca})),n.d(C,"getScrollToPage",(function(){return oa})),n.d(C,"getPageControlData",(function(){return ia})),n.d(C,"getPDFShowStatus",(function(){return ua})),n.d(C,"getSpanOrigin",(function(){return la})),n.d(C,"getDocumentSearch",(function(){return da}));var S={};n.r(S),n.d(S,"PageChooser",(function(){return Sa})),n.d(S,"PageNavigation",(function(){return _a})),n.d(S,"PageKeyboardControl",(function(){return wa})),n.d(S,"ShowMaterialCheckbox",(function(){return Ba})),n.d(S,"PDFDocument",(function(){return Ra})),n.d(S,"PDFPage",(function(){return qa})),n.d(S,"OriginMarkedSnackbar",(function(){return ja}));var I={};n.r(I),n.d(I,"getAll",(function(){return Za})),n.d(I,"getDocumentNames",(function(){return Ja})),n.d(I,"getDocumentDataSets",(function(){return Xa})),n.d(I,"collectCurrentDBData",(function(){return $a}));var k={};n.r(k),n.d(k,"DataOptions",(function(){return Nc}));var w={};n.r(w),n.d(w,"getAll",(function(){return Uc})),n.d(w,"getWindowMeasurements",(function(){return qc})),n.d(w,"getTopOffset",(function(){return Bc})),n.d(w,"getCurrentView",(function(){return zc}));var N={};n.r(N),n.d(N,"Display",(function(){return lo}));var x=n(0),R=n.n(x),A=n(15),P=n.n(A),T=n(5),M=n(24),F=n(23),U=n(71),q="cardRiverState",B=n(290),z=n(291),L=n(52),W=n(10),Q=n(8),V=function(e){return"CardRiver "+e},H=function(e){return parseInt(e.replace("CardRiver ",""))},_=function(e){return{riverID:V(e),cardIDs:[]}},K=function(e){for(var t=Object(Q.a)({},e),n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach((function(e){t.riverMakeUps[e.riverID]=e})),t},G=function(e,t){var n=Object.fromEntries(Object.entries(e.riverMakeUps).map((function(e){return[e[0],Object(Q.a)(Object(Q.a)({},e[1]),{},{cardIDs:e[1].cardIDs.filter((function(e){return e!==t}))})]})).filter((function(e){return 0!==e[1].cardIDs.length})));return Object(Q.a)(Object(Q.a)({},e),{},{riverMakeUps:n})},Z="cards",J={note:function(e){return e},q:function(e){return e.q},a:function(e){return e.a}},X=function(e,t){return J[e](t)},$={note:function(e,t){return t(e)},q:function(e,t){return Object(Q.a)(Object(Q.a)({},e),{},{q:t(e.q)})},a:function(e,t){return Object(Q.a)(Object(Q.a)({},e),{},{a:t(e.a)})}},Y=function(e){return function(t){return e}},ee=function(e){var t=X(e.inputField,e.inputObject),n=e.createModify(t);return function(e,t,n){return $[e](t,n)}(e.fieldToBeChanged,e.objectToBeChanged,n)},te=function(){return{q:"",a:""}},ne={q:te,a:te,note:function(){return""}},re=function(e){return ne[e]()},ae=function(e){return""===e},ce=function(e){return""===e.q||""===e.a},oe={APPEND:function(e){return function(t){return(t+" "+e).trim()}},REPLACE:Y},ie=function(e){return oe[e]},ue=function(e,t,n,r){var a={inputObject:e,inputField:"note",fieldToBeChanged:t,objectToBeChanged:r,createModify:ie(n)};return ee(a)},le=function(e,t){var n=re(t);return ue(e,t,"REPLACE",n)},de=function(e,t){return""===e.content||e.content.includes(t)},se=function(e,t){return""===e.content.a||""===e.content.q||e.content.a.includes(t)||e.content.q.includes(t)},fe=function(e){return parseInt(e)},me=function(e){return(e+1).toString()},pe={Note:function(e){return ae(e.content)},"Q-A":function(e){return ce(e.content)}},ve=function(e){return pe[e.type](e)},ge=function(e,t,n,r){var a=ue(e,t,n,r.content);return Object(Q.a)(Object(Q.a)({},r),{},{content:a})},be={q:"Q-A",a:"Q-A",note:"Note"},Ee=function(e){return be[e]},Oe=function(e){return{type:"Note",content:"",cardID:e}},he=function(e){return{type:"Q-A",content:{q:"",a:""},cardID:e}},je=function(e){return e[Z]},ye=Object(W.a)(je,(function(e){return e.past.length>0})),De=Object(W.a)(je,(function(e){return e.future.length>0})),Ce=function(e){return e[Z].present},Se=Object(W.a)(Ce,(function(e){return e.lastCardIDNumber})),Ie=Object(W.a)(Se,me),ke=Object(W.a)(Ce,(function(e){return e.cards})),we=function(e,t){return ke(e)[t]},Ne=n(140),xe=n.n(Ne),Re=n(109),Ae="Switch to the Active-River view",Pe="Switch to the Summary-River view",Te="Undo last action",Me="Redo last action",Fe="Next page",Ue="Previous page",qe="Delete this card",Be="Jump to the origin of the card content",ze="Mark this card field so the next selection is added to it",Le="Add the current selection to this card field",We="The next selection will be added to this card field (click to unselect)",Qe="Mark this card field to be replaced by the next selection",Ve="Replace this card field with the current selection",He="The next selection will replace this card field (click to unselect)",_e="Create new QA-card",Ke="Create new Note-card",Ge="This river contains hidden cards. Click to show.",Ze="Delete this document and all its corresponding cards",Je="Load the card data of this document",Xe="No PDF file specified.",$e="Loading PDF\u2026",Ye="Active Document:",et="Inactive documents with existing data:",tt="Load document",nt="Download document datasets",rt="Upload document datasets",at="Note",ct="Question",ot="Answer",it=500,ut=1e3,lt=n(7),dt=n(306),st=Object(lt.a)((function(e){return{tooltip:{fontSize:14}}}))(dt.a),ft=function(e){var t=e.children;return R.a.createElement(st,{title:Ke,enterDelay:it,enterNextDelay:ut},t)},mt=function(e){var t=e.children;return R.a.createElement(st,{title:_e,enterDelay:it,enterNextDelay:ut},t)},pt=function(e){var t=e.children;return R.a.createElement(st,{title:qe,enterDelay:it,enterNextDelay:ut},t)},vt=function(e){var t=e.children;return R.a.createElement(st,{title:Ge,enterDelay:it,enterNextDelay:ut},t)},gt={components:s,constants:d},bt=n(38),Et={cards:{},lastCardIDNumber:0},Ot=function(e,t){var n=Object(Q.a)({},e);return n[t.cardID]=t,n},ht=Object(bt.a)({name:Z,initialState:Et,reducers:{cardPush:function(e,t){var n=t.payload;return Object(Q.a)(Object(Q.a)({},e),{},{cards:Ot(e.cards,n),lastCardIDNumber:fe(n.cardID)+1})},cardReplace:function(e,t){var n=t.payload;return Object(Q.a)(Object(Q.a)({},e),{},{cards:Ot(e.cards,n)})},cardFieldReplace:function(e,t){var n=t.payload;return Object(Q.a)(Object(Q.a)({},e),{},{cards:Ot(e.cards,ge(n.newValue,n.cardField,"REPLACE",n.cardConfig))})},cardRemove:function(e,t){var n=t.payload,r=Object(Q.a)({},e.cards);return delete r[n],Object(Q.a)(Object(Q.a)({},e),{},{cards:r})},allCardsReplace:function(e,t){return t.payload},allCardsReset:function(){return Et}}}),jt=ht.actions,yt=ht,Dt=function(){var e=Object(T.b)(),t=Object(T.c)(Ie);return R.a.createElement(gt.components.NewNoteCardTooltip,null,R.a.createElement(Re.a,{type:"button",onClick:function(){e(jt.cardPush(Oe(t)))}},R.a.createElement(xe.a,null)))},Ct=n(141),St=n.n(Ct),It=function(){var e=Object(T.b)(),t=Object(T.c)(Ie);return R.a.createElement(gt.components.AddQAButtonTooltip,null,R.a.createElement(Re.a,{type:"button",onClick:function(){e(jt.cardPush(he(t)))}},R.a.createElement(St.a,null)))},kt=n(142),wt=n.n(kt),Nt=function(e){var t=e.cardID,n=Object(T.b)();return R.a.createElement(gt.components.DeleteCardButtonTooltip,null,R.a.createElement(Re.a,{type:"button",onClick:function(){n(jt.cardRemove(t))}},R.a.createElement(wt.a,{fontSize:"small"})))},xt=n(19),Rt=n(287),At=n(288),Pt=n(289),Tt=n(143),Mt=n.n(Tt),Ft=n(144),Ut=n.n(Ft),qt=n(33),Bt=n.n(qt),zt=n(307),Lt=n(91),Wt=n.n(Lt);function Qt(e){var t=e.message,n=e.close,r=function(e,t){"clickaway"!==t&&n()};return R.a.createElement(zt.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:!0,autoHideDuration:4e3,onClose:r,message:t,action:R.a.createElement(Re.a,{size:"small","aria-label":"close",color:"inherit",onClick:r},R.a.createElement(Wt.a,{fontSize:"small"}))})}var Vt,Ht,_t=function(e){var t=e.announce,n=Object(T.b)(),r=Object(T.c)(ye);return R.a.createElement(gt.components.BiggerTooltip,{title:gt.constants.undoTooltip,enterDelay:gt.constants.defaultEnterDelay,enterNextDelay:gt.constants.defaultEnterNextDelay},R.a.createElement("span",null,R.a.createElement(Re.a,{type:"button",onClick:function(){n(qt.ActionCreators.undo()),t()},disabled:!r},R.a.createElement(Mt.a,null))))},Kt=function(e){var t=e.announce,n=Object(T.b)(),r=Object(T.c)(De);return R.a.createElement(gt.components.BiggerTooltip,{title:gt.constants.redoTooltip,enterDelay:gt.constants.defaultEnterDelay,enterNextDelay:gt.constants.defaultEnterNextDelay},R.a.createElement("span",null,R.a.createElement(Re.a,{type:"button",onClick:function(){n(qt.ActionCreators.redo()),t()},disabled:!r},R.a.createElement(Ut.a,null))))},Gt=function(){var e=Object(x.useState)(""),t=Object(xt.a)(e,2),n=t[0],r=t[1],a=function(){r("")};return R.a.createElement(R.a.Fragment,null,"undo"===n&&R.a.createElement(Qt,{message:"Executed undo",close:a}),"redo"===n&&R.a.createElement(Qt,{message:"Executed redo",close:a}),R.a.createElement(Rt.a,{variant:"outlined"},R.a.createElement(At.a,{container:!0,direction:"row"},R.a.createElement(At.a,{item:!0},R.a.createElement(_t,{announce:function(){r("undo")}})),R.a.createElement(At.a,{item:!0},R.a.createElement(Pt.a,{orientation:"vertical"})),R.a.createElement(At.a,{item:!0},R.a.createElement(Kt,{announce:function(){r("redo")}})))))},Zt=function(e){var t=e.children,n=Object(T.b)(),r=Object(x.useState)(""),a=Object(xt.a)(r,2),c=a[0],o=a[1],i=function(){o("")};return R.a.createElement("span",{onKeyDown:function(e){e.ctrlKey&&("z"===e.key?(n(qt.ActionCreators.undo()),e.preventDefault(),o("undo")):"y"===e.key&&(n(qt.ActionCreators.redo()),e.preventDefault(),o("redo")))}},"undo"===c&&R.a.createElement(Qt,{message:"Executed undo",close:i}),"redo"===c&&R.a.createElement(Qt,{message:"Executed redo",close:i}),t)},Jt=function(){return{q:{},a:{}}},Xt={q:Jt,a:Jt,note:function(){return""}},$t=function(e){return Xt[e]()},Yt=function(e,t,n){var r={inputObject:e,inputField:"note",fieldToBeChanged:t,objectToBeChanged:n||$t(t),createModify:Y};return ee(r)},en=yt.reducer,tn={constants:c,actions:yt.actions,reducer:en,name:yt.name,selectors:l,components:f,model:p},nn=function(e){return e[q].present},rn=Object(W.a)(nn,(function(e){return e.riverMakeUps})),an=Object(W.a)(rn,(function(e){return Object.keys(e)})),cn=Object(W.a)(an,(function(e){return e.sort((function(e,t){return H(e)-H(t)}))})),on=Object(W.a)(rn,(function(e){return Object.values(e).sort((function(e,t){return H(e.riverID)-H(t.riverID)}))})),un=Object(W.a)(on,tn.selectors.getCards,(function(e,t){var n,r=[],a=Object(L.a)(e);try{for(a.s();!(n=a.n()).done;){var c,o=n.value,i=Object(L.a)(o.cardIDs);try{for(i.s();!(c=i.n()).done;){var u=c.value;r.push(t[u])}}catch(l){i.e(l)}finally{i.f()}}}catch(l){a.e(l)}finally{a.f()}return r})),ln=Object(W.a)(nn,(function(e){return e.riverActiveID})),dn=Object(W.a)(rn,ln,(function(e,t){var n=e[t];return n||{cardIDs:[]}})),sn=Object(W.a)(dn,(function(e){return e.cardIDs})),fn=Object(W.a)(sn,tn.selectors.getCards,(function(e,t){return e.map((function(e){return t[e]}))})),mn=Object(W.a)(nn,(function(e){return e.riverShowState})),pn=Object(W.a)(mn,(function(e){return"SHOW"===e})),vn=Object(W.a)(nn,(function(e){return e.riverContentState})),gn=Object(W.a)(nn,(function(e){return e.riverContentFilter})),bn=Object(W.a)(nn,(function(e){return e.riverOriginRequest})),En=n(304),On=n(95),hn=Object(lt.a)({root:{color:On.a[400],"&$checked":{color:On.a[600]}},checked:{}})((function(e){return R.a.createElement(En.a,Object.assign({color:"default"},e))})),jn=n(164),yn=function(){var e=0;return function(){var t=e;return e++,t}},Dn=function(e){return function(t,n){var r=n.payload;return Object(Q.a)(Object(Q.a)({},t),{},Object(M.a)({},e,r))}},Cn={riverOriginRequest:null,riverMakeUps:{},riverActiveID:V(1),riverShowState:"SHOW",riverContentState:"ALL",riverContentFilter:"",count_DONT_USE:0},Sn=Dn("riverActiveID"),In=Dn("riverShowState"),kn=Dn("riverContentState"),wn=Dn("riverContentFilter"),Nn=Dn("riverOriginRequest"),xn=function(e){return Object(Q.a)(Object(Q.a)({},e),{},{count_DONT_USE:e.count_DONT_USE+1})},Rn=Object(bt.a)({name:q,initialState:Cn,reducers:{riverActiveID:Sn,riverShowState:In,riverContentState:kn,riverContentFilter:wn,riverOriginRequest:Nn,riverUnhide:function(e){return Object(Q.a)(Object(Q.a)({},e),{},{riverContentState:"ALL",riverContentFilter:""})},allRiversReset:function(e){return Cn},allRiversReplace:function(e,t){var n=t.payload;return Object(Q.a)(Object(Q.a)({},Cn),{},{riverMakeUps:n})}},extraReducers:(Vt={},Object(M.a)(Vt,tn.actions.cardPush.type,(function(e,t){var n,r,a=t.payload;return n=e.riverMakeUps[e.riverActiveID]?Object(Q.a)(Object(Q.a)({},e.riverMakeUps[e.riverActiveID]),{},{cardIDs:[].concat(Object(jn.a)(e.riverMakeUps[e.riverActiveID].cardIDs),[a.cardID])}):{riverID:e.riverActiveID,cardIDs:[a.cardID]},(r=Object(Q.a)({},e.riverMakeUps))[e.riverActiveID]=n,Object(Q.a)(Object(Q.a)({},e),{},{riverMakeUps:r,count_DONT_USE:0})})),Object(M.a)(Vt,tn.actions.cardRemove.type,(function(e,t){var n=t.payload;return Object(Q.a)(Object(Q.a)({},G(e,n)),{},{count_DONT_USE:0})})),Object(M.a)(Vt,tn.actions.cardReplace.type,xn),Object(M.a)(Vt,tn.actions.cardFieldReplace.type,xn),Vt)}),An=Rn.actions,Pn=Rn,Tn=function(){var e=Object(T.c)(vn),t=Object(T.b)(),n="ALL"===e||"QAS"===e,r="ALL"===e||"NOTES"===e,a=function(e){n||"QAS"!==e?r||"NOTES"!==e?n&&"QAS"===e?t(r?An.riverContentState("NOTES"):An.riverContentState("NONE")):r&&"NOTES"===e&&t(n?An.riverContentState("QAS"):An.riverContentState("NONE")):t(n?An.riverContentState("ALL"):An.riverContentState("NOTES")):t(r?An.riverContentState("ALL"):An.riverContentState("QAS"))};return R.a.createElement(B.a,null,R.a.createElement(z.a,{control:R.a.createElement(hn,{checked:n,onClick:function(){a("QAS")}}),label:"QAs"}),R.a.createElement(z.a,{control:R.a.createElement(hn,{checked:r,onClick:function(){a("NOTES")}}),label:"Notes"}))},Mn=n(112),Fn=n(308),Un=n(292),qn=n(293),Bn=n(166),zn=n(302),Ln=function(e){return e.selectionData},Wn=Object(W.a)(Ln,(function(e){return e.goalConfig})),Qn=Object(W.a)(Ln,(function(e){return e.sourceConfig})),Vn=Object(W.a)(Qn,(function(e){return!!e})),Hn=function(e,t,n,r){if(function(e){return!!!e.cardID}(t)){var a=function(e,t){var n=e.contentOrigin,r=e.contentStr,a=t.cardField;return{type:tn.model.config.cardFieldToType(a),content:tn.model.content.strToNewCardContent(r,a),origin:n?tn.model.origin.singleOriginToCardOrigin(n,a):void 0}}(e,t),c=Ie(r);n(tn.actions.cardPush(Object(Q.a)(Object(Q.a)({},a),{},{cardID:c})))}else{var o=function(e,t,n){var r=tn.selectors.getCardByID(n,t.cardID),a=e.contentOrigin,c=e.contentStr,o=t.cardField;return Object(Q.a)(Object(Q.a)({},r),{},{content:tn.model.content.strToCardContent(c,o,t.updateType,r.content),origin:a?tn.model.origin.singleOriginToCardOrigin(a,o,r.origin):r.origin})}(e,t,r);n(tn.actions.cardReplace(o))}},_n=function(){var e=window.getSelection();if(!e)return null;try{var t=document.activeElement;if(t&&t.value){var n=t.value.substring(t.selectionStart,t.selectionEnd).trim();return""===n?null:{text:n,selection:e}}var r=e.toString().trim();return""===r?null:{text:r,selection:e}}catch(a){return null}},Kn=function(e){var t=_n();return!(!t||t.text.length>400)&&function(e,t){var n,r,a=e.selection,c=null===(n=a.anchorNode)||void 0===n?void 0:n.parentNode,o=null===(r=a.focusNode)||void 0===r?void 0:r.parentNode;if(!c||!o)return!1;if("MARK"===c.nodeName&&!(c=c.parentNode))return!1;if("MARK"===o.nodeName&&!(o=o.parentNode))return!1;if("SPAN"!==c.nodeName){var i;if("DIV"!==c.nodeName||"SPAN"!==(null===(i=a.anchorNode)||void 0===i?void 0:i.nodeName))return!1;c=a.anchorNode}if("SPAN"!==o.nodeName){var u;if("DIV"!==o.nodeName||"SPAN"!==(null===(u=a.focusNode)||void 0===u?void 0:u.nodeName))return!1;o=a.focusNode}var l=c.parentNode;if(!l||"DIV"!==l.nodeName)return!1;var d=Array.from(l.childNodes);if(0===d.length)return!1;var s=d.indexOf(c),f=d.indexOf(o);return-1!==s&&-1!==f&&{contentStr:e.text,contentOrigin:{spanIndexStart:s,spanIndexEnd:f,page:t}}}(t,e)},Gn=Dn("sourceConfig"),Zn=Dn("goalConfig"),Jn=Object(bt.a)({name:"selectionData",initialState:{sourceConfig:null,goalConfig:null},reducers:{selectionSource:Gn,selectionTarget:Zn}}),Xn=Jn.actions,$n=Jn,Yn=Xn.selectionSource,er=function(){return Yn(null)},tr=Xn.selectionTarget,nr=function(){return tr(null)},rr=function(e){return function(t,n){var r=n(),a=Wn(r);a?(Hn(e,a,t,r),t(nr())):t(Yn(e))}},ar=function(e){var t=Kn(e);return!!t&&rr(t)},cr=function(e){var t=function(e){var t=_n();return!!t&&{contentStr:t.text,contentOrigin:e}}(e);return!!t&&rr(t)},or=function(e){return function(t,n){var r=n(),a=Qn(r);a?(Hn(a,e,t,r),t(er())):t(tr(e))}},ir=function(e,t){return or({cardID:e,cardField:t,updateType:"APPEND"})},ur=function(e,t){return or({cardID:e,cardField:t,updateType:"REPLACE"})},lr=n(145),dr=n.n(lr),sr=function(){var e=Object(x.useState)(!1),t=Object(xt.a)(e,2),n=t[0],r=t[1],a=Object(T.b)(),c=Object(T.c)(Qn);!c&&n&&r(!1),c&&!n&&r(!0);var o=function(){r(!1),a(er())},i=function(e){!n||"Escape"!==e.key&&"Esc"!==e.key||o()};return Object(x.useEffect)((function(){return document.addEventListener("keydown",i),function(){document.removeEventListener("keydown",i)}})),R.a.createElement(dr.a,{positionOffset:{x:"-50%",y:"0%"},axis:"x"},R.a.createElement(zt.a,{style:{maxWidth:"400px",overflowX:"auto"},anchorOrigin:{vertical:"top",horizontal:"center"},open:n,onClose:function(e,t){"clickaway"!==t&&(r(!1),a(er()))},onContextMenu:function(e){e.preventDefault(),r(!1),a(er())},message:R.a.createElement(At.a,{container:!0,direction:"row",spacing:1},R.a.createElement(At.a,{item:!0},R.a.createElement(Rt.a,{variant:"outlined",color:"secondary",style:{padding:"4px",color:"white",backgroundColor:"#3f51b5",maxWidth:"400px",overflowX:"auto"},square:!0},R.a.createElement(Mn.a,{variant:"h4"},"Selection:")),R.a.createElement(Rt.a,{variant:"outlined",style:{padding:"4px",color:"black",backgroundColor:"white"},square:!0},R.a.createElement(Mn.a,{variant:"body1"},null===c||void 0===c?void 0:c.contentStr))),(null===c||void 0===c?void 0:c.contentOrigin)&&R.a.createElement(At.a,{item:!0},R.a.createElement(Rt.a,{variant:"outlined",color:"secondary",style:{padding:"4px",color:"black",backgroundColor:"white"},square:!0},R.a.createElement(Mn.a,{variant:"h4"},"Origin:")),R.a.createElement(Rt.a,{variant:"outlined",style:{padding:"4px",color:"white",backgroundColor:"#3f51b5"},square:!0},R.a.createElement(Mn.a,{variant:"body1"},"Page ",c.contentOrigin.page)))),action:R.a.createElement(Re.a,{size:"small","aria-label":"close",color:"inherit",onClick:o},R.a.createElement(Wt.a,{fontSize:"small"}))}))},fr=function(e){var t=e.children,n=e.page,r=Object(T.b)();return R.a.createElement("span",{onMouseUp:function(){var e=ar(n);e&&r(e)},onMouseDown:function(e){var t;0===e.button&&(null===(t=window.getSelection())||void 0===t||t.empty())}},t)},mr=function(e){var t=e.children,n=e.fieldOrigin,r=Object(T.b)();return R.a.createElement("span",{onMouseUp:function(){var e=cr(n);e&&r(e)}},t)},pr=n(147),vr=n.n(pr),gr=n(146),br=n.n(gr),Er=function(e){var t=e.cardField,n=e.cardID,r=Object(T.b)(),a=Object(T.c)(Qn),c=Object(T.c)(Wn),o=Object(x.useState)(!1),i=Object(xt.a)(o,2),u=i[0],l=i[1],d=!!c&&!!c.cardID&&c.cardID===n&&c.cardField===t&&"APPEND"===c.updateType;return d?u||l(!0):u&&l(!1),R.a.createElement(gt.components.BiggerTooltip,{title:d?gt.constants.CardIsAppendTargetTooltip:a?gt.constants.AppendToCardTooltip:gt.constants.ChoiceCardAsAppendTarget,enterDelay:gt.constants.defaultEnterDelay,enterNextDelay:gt.constants.defaultEnterNextDelay},R.a.createElement(Re.a,{type:"button",onClick:function(){u||c?d&&r(nr()):r(ir(n,t))}},u?R.a.createElement(br.a,{fontSize:"small"}):R.a.createElement(vr.a,{fontSize:"small"})))},Or=n(165),hr=n(310),jr=function(){var e=Object(x.useState)(void 0),t=Object(xt.a)(e,2),n=t[0],r=t[1],a=Object(x.useRef)(null),c=Object(x.useCallback)((function(e){!function(e,t){var n,r,a=t.target;return!!(null===(n=e.current)||void 0===n||null===(r=n.querySelector("div.MuiPaper-root"))||void 0===r?void 0:r.contains(a))}(a,e)&&r(void 0)}),[a,r]);Object(x.useEffect)((function(){return document.addEventListener("mousedown",c),function(){document.removeEventListener("mousedown",c)}}),[c]);var o=Object(T.c)(Vn),i=Object(x.useCallback)((function(e){o&&(e.preventDefault(),r({left:e.x,top:e.y}))}),[o,r]);Object(x.useEffect)((function(){return document.addEventListener("contextmenu",i),function(){document.removeEventListener("contextmenu",i)}}),[i]);var u=!!n,l=Object(T.b)();return R.a.createElement(Or.a,{ref:a,keepMounted:!0,open:u,anchorReference:"anchorPosition",anchorPosition:n},R.a.createElement(hr.a,{onClick:function(){l(or({cardField:"note",updateType:"REPLACE"})),r(void 0)}},"New: Note"),R.a.createElement(Pt.a,null),R.a.createElement(hr.a,{onClick:function(){l(or({cardField:"q",updateType:"REPLACE"})),r(void 0)}},"New: Q (Q-A)"),R.a.createElement(hr.a,{onClick:function(){l(or({cardField:"a",updateType:"REPLACE"})),r(void 0)}},"New: A (Q-A)"))},yr=n(148),Dr=n.n(yr),Cr=n(149),Sr=n.n(Cr),Ir=function(e){var t=e.cardField,n=e.cardID,r=Object(T.b)(),a=Object(T.c)(Qn),c=Object(T.c)(Wn),o=Object(x.useState)(!1),i=Object(xt.a)(o,2),u=i[0],l=i[1],d=!!c&&!!c.cardID&&c.cardID===n&&c.cardField===t&&"REPLACE"===c.updateType;return d?u||l(!0):u&&l(!1),R.a.createElement(gt.components.BiggerTooltip,{title:d?gt.constants.CardIsReplaceTargetTooltip:a?gt.constants.ReplaceCardTooltip:gt.constants.ChoiceCardAsReplaceTarget,enterDelay:gt.constants.defaultEnterDelay,enterNextDelay:gt.constants.defaultEnterNextDelay},R.a.createElement(Re.a,{type:"button",onClick:function(){u||c?d&&r(nr()):r(ur(n,t))}},u?R.a.createElement(Dr.a,{fontSize:"small"}):R.a.createElement(Sr.a,{fontSize:"small"})))},kr=$n.reducer,wr={actions:E,name:$n.name,components:O,reducer:kr,selectors:g,services:h},Nr=function(e){var t=e.storeValue,n=void 0===t?"":t,r=e.saveChanges,a=e.fieldOrigin,c=e.style,o=Object(Bn.a)(e,["storeValue","saveChanges","fieldOrigin","style"]),i=Object(x.useState)({storeValue:n,mutableValue:n}),u=Object(xt.a)(i,2),l=u[0],d=u[1];return l.storeValue!==n&&d({storeValue:n,mutableValue:n}),R.a.createElement(wr.components.CardFieldMouseUp,{fieldOrigin:a&&void 0!==a.spanIndexStart?a:void 0},R.a.createElement(zn.a,Object.assign({InputProps:{disableUnderline:!0,style:{minWidth:"400px"}},multiline:!0,variant:"filled",value:l.mutableValue,onChange:function(e){var t=e.target.value;d(Object(Q.a)(Object(Q.a)({},l),{},{mutableValue:t}))},onBlur:function(e){r(e.target.value)},style:c},o)))},xr=n(150),Rr=n.n(xr),Ar=function(e){var t=e.cardOrigin,n=Object(T.b)();return R.a.createElement(gt.components.BiggerTooltip,{title:gt.constants.jumpToOriginTooltip,enterDelay:gt.constants.defaultEnterDelay,enterNextDelay:gt.constants.defaultEnterNextDelay},R.a.createElement(Re.a,{type:"button",onClick:function(){n(An.riverOriginRequest(t))}},R.a.createElement(Rr.a,{fontSize:"small"})))},Pr=n(90),Tr=function(e){var t=e.config,n=e.cardField,r=t.origin?tn.model.permutation.toFieldValue(n,t.origin):null,a=void 0!==(null===r||void 0===r?void 0:r.page);return R.a.createElement(Pr.a,{variant:"outlined"},R.a.createElement(At.a,{container:!0,direction:"row"},R.a.createElement(At.a,{item:!0},R.a.createElement(wr.components.AppendButton,{cardID:t.cardID,cardField:n})),R.a.createElement(At.a,{item:!0},R.a.createElement(wr.components.ReplaceButton,{cardID:t.cardID,cardField:n})),R.a.createElement(At.a,{item:!0},a&&R.a.createElement(Ar,{cardOrigin:r}))))},Mr=function(e){var t,n,r=e.config,a=Object(T.b)();return R.a.createElement(Rt.a,{variant:"elevation",elevation:5,style:{padding:"3px"}},R.a.createElement(At.a,{container:!0,direction:"row",justify:"space-between"},R.a.createElement(At.a,{item:!0},R.a.createElement(At.a,{container:!0,direction:"column",spacing:1},R.a.createElement(At.a,{item:!0},R.a.createElement(At.a,{container:!0,direction:"row",spacing:1},R.a.createElement(At.a,{item:!0},R.a.createElement(Nr,{saveChanges:function(e){a(tn.actions.cardFieldReplace({cardField:"q",cardConfig:r,newValue:e}))},storeValue:r.content.q,label:gt.constants.questionText,variant:"filled",style:{backgroundColor:"#FFBF69"},InputLabelProps:{style:{color:"#000000"}},fieldOrigin:null===(t=r.origin)||void 0===t?void 0:t.q})),R.a.createElement(At.a,{item:!0},R.a.createElement(Tr,{cardField:"q",config:r})))),R.a.createElement(At.a,{item:!0},R.a.createElement(At.a,{container:!0,direction:"row",spacing:1},R.a.createElement(At.a,{item:!0},R.a.createElement(Nr,{saveChanges:function(e){a(tn.actions.cardFieldReplace({cardField:"a",cardConfig:r,newValue:e}))},storeValue:r.content.a,label:gt.constants.answerText,style:{backgroundColor:"#2EC4B6"},InputLabelProps:{style:{color:"#000000"}},fieldOrigin:null===(n=r.origin)||void 0===n?void 0:n.a})),R.a.createElement(At.a,{item:!0},R.a.createElement(Tr,{cardField:"a",config:r})))))),R.a.createElement(At.a,{item:!0},R.a.createElement(tn.components.DeleteCardButton,{cardID:r.cardID}))))},Fr=function(e){var t=e.config,n=Object(T.b)();return R.a.createElement(Rt.a,{variant:"elevation",elevation:5,style:{padding:"3px"}},R.a.createElement(At.a,{container:!0,direction:"row",justify:"space-between"},R.a.createElement(At.a,{item:!0},R.a.createElement(At.a,{container:!0,direction:"row",spacing:1},R.a.createElement(At.a,{item:!0},R.a.createElement(Nr,{saveChanges:function(e){n(tn.actions.cardReplace(Object(Q.a)(Object(Q.a)({},t),{},{content:e})))},storeValue:t.content,label:gt.constants.noteText,variant:"filled",style:{backgroundColor:"#CBF3F0"},InputLabelProps:{style:{color:"#000000"}},fieldOrigin:t.origin})),R.a.createElement(At.a,{item:!0},R.a.createElement(Tr,{cardField:"note",config:t})))),R.a.createElement(At.a,{item:!0},R.a.createElement(tn.components.DeleteCardButton,{cardID:t.cardID}))))},Ur=function(e){var t=e.config;switch(t.type){case"Note":return R.a.createElement(Fr,{config:t});case"Q-A":return R.a.createElement(Mr,{config:t})}},qr=function(){return R.a.createElement(At.a,{item:!0},R.a.createElement(Pt.a,null))},Br=function(e){return"Q-A"===e.type},zr=function(e){return"Note"===e.type},Lr=function(e,t,n){if("NONE"===t)return[];var r=[];return"ALL"!==t&&("QAS"===t?r.push(Br):"NOTES"===t&&r.push(zr)),""!==n&&r.push(function(e){return function(t){switch(t.type){case"Note":return tn.model.content.noteContentContainsStringOrEmpty(t,e);case"Q-A":return tn.model.content.qaContentContainsStringOrEmpty(t,e)}}}(n)),r.length>0?e.filter(function(e){return function(t){return e.reduce((function(e,n){return e||n(t)}),!1)}}(r)):e},Wr=n(151),Qr=n.n(Wr),Vr=function(){var e=Object(T.b)();return R.a.createElement(gt.components.UnhideCardsTooltip,null,R.a.createElement(Re.a,{type:"button",onClick:function(){e(An.riverUnhide())}},R.a.createElement(Qr.a,null)))},Hr=function(e){var t=e.riverID,n=e.materialHeight,r=Object(T.c)(tn.selectors.getCards),a=Object(T.c)(rn)[t],c=a?a.cardIDs.map((function(e){return r[e]})):[],o=Object(T.c)(vn),i=Object(T.c)(gn),u=Lr(c,o,i),l=function(e){var t=yn();return e.reduce((function(e,n,r,a){return e.push(R.a.createElement(At.a,{item:!0,key:t()},R.a.createElement(Ur,{config:n,key:t()}))),r<a.length-1&&e.push(R.a.createElement(qr,{key:t()})),e}),[])}(u),d=c.length!==u.length;return R.a.createElement(Fn.a,{expanded:!0,defaultExpanded:!0,style:{overflow:"auto",height:n},elevation:5},R.a.createElement(Un.a,null,R.a.createElement(Mn.a,{variant:"h6",align:"center",style:{MozUserSelect:"none",WebkitUserSelect:"none",msUserSelect:"none"}},t)),R.a.createElement(qn.a,null,R.a.createElement(At.a,{container:!0,direction:"column",spacing:2,justify:"center",alignItems:"stretch"},R.a.createElement(At.a,{item:!0},R.a.createElement(At.a,{container:!0,direction:"row"},R.a.createElement(At.a,{item:!0},R.a.createElement(tn.components.AddQAButton,null)),R.a.createElement(At.a,{item:!0},R.a.createElement(tn.components.AddNoteButton,null)),R.a.createElement(At.a,{item:!0},d&&R.a.createElement(Pt.a,{orientation:"vertical"})),R.a.createElement(At.a,{item:!0},d&&R.a.createElement(Vr,null))),R.a.createElement(Pt.a,{style:{marginTop:"4px"}})),R.a.createElement(At.a,{item:!0},R.a.createElement(At.a,{container:!0,direction:"column",spacing:2,justify:"center",alignItems:"stretch"},l)))))},_r=function(e){var t=e.children,n=e.riverID,r=Object(T.b)(),a=Object(T.c)(ln);return R.a.createElement("span",{onMouseEnter:function(){a!==n&&r(An.riverActiveID(n))}},t)},Kr=n(294),Gr=function(){var e=Object(T.b)(),t=Object(T.c)(mn);return R.a.createElement(Kr.a,{startIcon:R.a.createElement(z.a,{label:"River",control:R.a.createElement(hn,{checked:"SHOW"===t})}),variant:"contained",color:"primary",onClick:function(){e(An.riverShowState("SHOW"===t?"HIDE":"SHOW"))}})},Zr=Pn.actions,Jr={constants:r,components:j,reducer:Pn.reducer,name:Pn.name,selectors:v,actions:Zr,model:a,services:y},Xr=n(300),$r=n(301),Yr="pdfData",ea=.63,ta=function(e){return e[Yr]},na=Object(W.a)(ta,(function(e){return e.pdf})),ra=Object(W.a)(ta,(function(e){return e.pdfName})),aa=Object(W.a)(ta,(function(e){return e.totalPages})),ca=Object(W.a)(ta,(function(e){return e.currentPage})),oa=Object(W.a)(ta,(function(e){return e.scrollToPage})),ia=Object(W.a)(aa,ca,(function(e,t){return{currentPage:t,totalPages:e}})),ua=Object(W.a)(ta,(function(e){return e.pdfShowStatus})),la=Object(W.a)(ta,(function(e){return e.spanOrigin})),da=Object(W.a)(ta,(function(e){return e.documentSearch})),sa={pdfShowStatus:"SHOW",totalPages:1e3,currentPage:1,scrollToPage:null,spanOrigin:null,documentSearch:""},fa=Dn("totalPages"),ma=Dn("pdfShowStatus"),pa=Dn("spanOrigin"),va=Dn("documentSearch"),ga=function(e,t){return e===t+1?1:e},ba=function(e,t){return 0===e?t:e},Ea=Object(bt.a)({name:Yr,initialState:sa,reducers:{pdfUpload:function(e,t){var n=t.payload;return Object(Q.a)(Object(Q.a)({},e),{},{pdf:n,pdfName:n.name,currentPage:e.pdfName===n.name?e.currentPage:sa.currentPage})},totalPages:fa,pdfShowStatus:ma,spanOrigin:pa,documentSearch:va,pageUpdate:function(e,t){var n=t.payload;return Object(Q.a)(Object(Q.a)({},e),{},{currentPage:n.page,scrollToPage:n.shouldScroll?n.page:null})},nextPage:function(e){var t=ga(e.currentPage+1,e.totalPages);return Object(Q.a)(Object(Q.a)({},e),{},{currentPage:t,scrollToPage:t})},previousPage:function(e){var t=ba(e.currentPage-1,e.totalPages);return Object(Q.a)(Object(Q.a)({},e),{},{currentPage:t,scrollToPage:t})},existingDocumentPayload:function(e,t){var n=t.payload;return Object(Q.a)(Object(Q.a)({},sa),{},{pdf:void 0},n)}}}),Oa=Ea.actions,ha=Ea,ja=function(){var e=Object(x.useState)(!1),t=Object(xt.a)(e,2),n=t[0],r=t[1],a=Object(T.c)(la),c=Object(T.b)();!a&&n&&r(!1),a&&!n&&r(!0);var o=function(){r(!1),c(Oa.spanOrigin(null))},i=function(e){!n||"Escape"!==e.key&&"Esc"!==e.key||o()};return Object(x.useEffect)((function(){return document.addEventListener("keydown",i),function(){document.removeEventListener("keydown",i)}})),R.a.createElement(zt.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:n,onClose:function(e,t){"clickaway"!==t&&(r(!1),c(Oa.spanOrigin(null)))},message:"Origin is marked",action:R.a.createElement(Kr.a,{color:"secondary",size:"small",onClick:o},"UNMARK")})},ya=/(\D)/,Da=function(e){var t=e.totalPages,n=Object(T.b)(),r=Object(T.c)(ca),a=Object(x.useState)({error:!1,value:null===r||void 0===r?void 0:r.toString(),userInput:null===r||void 0===r?void 0:r.toString()}),c=Object(xt.a)(a,2),o=c[0],i=c[1];return o.value!==r.toString()&&i({error:!1,value:r.toString(),userInput:r.toString()}),R.a.createElement(zn.a,{inputProps:{style:{padding:"0px",fontSize:"1.25rem",fontFamily:'"Roboto", "Helvetica", "Arial", sansSerif',fontWeight:500,lineHeight:1.6,letterSpacing:"0.0075em"}},type:"text",variant:"filled",value:o.userInput,onKeyDown:function(e){if("Enter"===e.key){e.preventDefault();var t=e.target.value;o.error||n(Oa.pageUpdate({page:parseInt(t),shouldScroll:!0}))}},onChange:function(e){var n=e.target.value;!function(e,t){if(""===e||null!==e.trim().match(ya))return!1;var n=parseInt(e);return!(n<1||t<n)}(n,t)?i(Object(Q.a)(Object(Q.a)({},o),{},{error:!0,userInput:n})):i(Object(Q.a)(Object(Q.a)({},o),{},{error:!1,userInput:n}))},error:o.error})},Ca=function(e){var t=e.totalPages;return R.a.createElement(Mn.a,{variant:"h6"},"of ",t)},Sa=function(){var e=Object(T.c)(aa);return R.a.createElement(Rt.a,{variant:"outlined"},R.a.createElement(At.a,{item:!0},R.a.createElement(At.a,{container:!0,direction:"row",alignItems:"center",justify:"space-between"},R.a.createElement(At.a,{item:!0,style:{width:"37%"}},R.a.createElement(Da,{totalPages:e})),R.a.createElement(At.a,{item:!0,style:{width:"61%"}},R.a.createElement(Ca,{totalPages:e})))))},Ia={ArrowLeft:Oa.previousPage(),ArrowRight:Oa.nextPage()},ka=(Ht=Ia,function(e,t){var n=Ht[e.key];n&&(e.preventDefault(),t(n))}),wa=function(e){var t=e.children,n=Object(T.b)(),r=Object(x.useRef)(null);return R.a.createElement("span",{ref:r,onKeyDown:function(e){ka(e,n)},tabIndex:0},t)},Na=(n(191),n(192),n(66));Na.c.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(Na.c.version,"/pdf.worker.js");var xa={cMapUrl:"cmaps/",cMapPacked:!0},Ra=function(e){var t=e.ChildComponent,n=Object(T.c)(na),r=Object(x.useState)(),a=Object(xt.a)(r,2),c=a[0],o=a[1],i=Object(x.useRef)(),u=Object(T.b)(),l=null===n||void 0===n?void 0:n.name,d=Object(x.useRef)(l);return d.current!==l&&(d.current=l),R.a.createElement(Na.a,{loading:gt.constants.loadingMaterialText,noData:gt.constants.noMaterialText,options:xa,file:n,renderMode:"canvas",onLoadSuccess:function(e){u(Oa.totalPages(e.numPages)),n&&function(e,t,n,r){var a=Array.from({length:e.numPages},(function(e,t){return t+1})).map((function(t){return e.getPage(t)}));Promise.all(a).then((function(e){if(t===n.current){var a,c=new Map,o=Object(L.a)(e);try{for(o.s();!(a=o.n()).done;){var i=a.value,u=1*i.view[2],l=1*i.view[3];c.set(i._pageIndex+1,[u,l])}}catch(d){o.e(d)}finally{o.f()}r(c)}}))}(e,l,d,o),i.current=e},onItemClick:function(e){var t=e.pageNumber;u(Oa.pageUpdate({page:parseInt(t),shouldScroll:!0}))}},c&&d.current===l&&R.a.createElement(t,{pdfProxyRef:i,cachedPageDimensions:c}))},Aa=function(e){var t=e.page,n=e.pageRef,r=Object(T.c)(la),a=Object(x.useRef)(0),c=Object(T.b)(),o=Object(x.useCallback)((function(){var e=setInterval((function(){var t;if(10===a.current)return a.current=0,clearInterval(e),console.log("invalid origin clicked",r),void c(Oa.spanOrigin(null));var o=null===(t=n.current)||void 0===t?void 0:t.children.item(1);if(o){var i=o.children.item(r.spanIndexStart);if(i)return i.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"}),a.current=0,void clearInterval(e)}a.current=a.current+1}),10)}),[c,a,r,n]);return Object(x.useEffect)((function(){if(r&&r.page===t&&n.current){var e=n.current.children.item(1);if(e){var i=e.children.item(r.spanIndexStart);i?(c(Oa.nextPage()),c(Oa.previousPage()),i.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"}),a.current=0):o()}else o()}}),[c,t,n,r,o]),null},Pa=function(e){return function(t){return function(e,t){var n=e.itemIndex;return n>=t.spanIndexStart&&n<=t.spanIndexEnd?R.a.createElement("mark",{style:{backgroundColor:"red"}},e.str):e.str}(t,e)}},Ta={backgroundColor:"blue"};function Ma(e){return function(t){return function(e,t){var n=e.length,r=t.length;if(""===t||""===e||r>n)return e;var a=e.indexOf(t);if(-1===a)return e;var c=R.a.createElement("mark",{style:Ta},t),o=a>0&&e.slice(0,a),i=[];o&&i.push(o),i.push(c);var u=e.indexOf(t,a+r);if(-1===u){var l=a+r,d=l<n&&e.slice(l);return d&&i.push(d),i}var s=a+r,f=s!==u&&e.slice(s,u);f&&i.push(f),i.push(c);var m=e.indexOf(t,u+r);if(-1===m){var p=u+r;return p<n&&e.slice(p)&&i.push(f),i}var v=u+r,g=v<n&&e.slice(v,m);if(g&&i.push(g),i.push(c),m+r===n)return i;var b=e.slice(m+r);if(b===t)return i.push(c),i;var E=b.split(t);if(E.length<=1)return i.push(b),i;for(var O=0;O<E.length;O++){var h=E[O];0!==O||""!==h?O!==E.length-1||""===h?(""!==h&&i.push(h),i.push(c)):i.push(h):i.push(c)}return i}(t.str,e)}}var Fa,Ua,qa=function(e){var t=e.pageNumber,n=e.materialWidth,r=Object(T.c)(da),a=Object(T.c)(la),c=a&&a.page===t?Pa(a):void 0,o=function(e,t){return e?t?function(n){return t(Object(Q.a)(Object(Q.a)({},n),{},{str:e(n)}))}:e:t}(""!==r?Ma(r):void 0,c),i=Object(x.useRef)(null);return R.a.createElement("div",{style:{overflow:"auto"}},R.a.createElement(wr.components.MaterialMouseUp,{page:t},R.a.createElement(wa,null,R.a.createElement(Na.b,{inputRef:function(e){i.current=e},pageNumber:t,width:n*ea,customTextRenderer:o,renderAnnotationLayer:!1}))),R.a.createElement(Aa,{page:t,pageRef:i}))},Ba=function(){var e=Object(T.b)(),t=Object(T.c)(ua);return R.a.createElement(Kr.a,{startIcon:R.a.createElement(z.a,{label:"Material",control:R.a.createElement(hn,{checked:"SHOW"===t})}),variant:"contained",color:"primary",onClick:function(){e(Oa.pdfShowStatus("SHOW"===t?"HIDE":"SHOW"))}})},za=n(154),La=n.n(za),Wa=n(153),Qa=n.n(Wa),Va=function(){var e=Object(T.b)();return R.a.createElement(gt.components.BiggerTooltip,{title:gt.constants.previousPageTooltip,enterDelay:gt.constants.defaultEnterDelay,enterNextDelay:gt.constants.defaultEnterNextDelay},R.a.createElement(Re.a,{type:"button",onClick:function(){e(Oa.previousPage())}},R.a.createElement(Qa.a,null)))},Ha=function(){var e=Object(T.b)();return R.a.createElement(gt.components.BiggerTooltip,{title:gt.constants.nextPageTooltip,enterDelay:gt.constants.defaultEnterDelay,enterNextDelay:gt.constants.defaultEnterNextDelay},R.a.createElement(Re.a,{type:"button",onClick:function(){e(Oa.nextPage())}},R.a.createElement(La.a,null)))},_a=function(){return R.a.createElement(Rt.a,{variant:"outlined"},R.a.createElement(At.a,{container:!0,direction:"row"},R.a.createElement(At.a,{item:!0},R.a.createElement(Va,null)),R.a.createElement(At.a,{item:!0},R.a.createElement(Pt.a,{orientation:"vertical"})),R.a.createElement(At.a,{item:!0},R.a.createElement(Ha,null))))},Ka=ha.reducer,Ga={actions:ha.actions,components:S,name:ha.name,reducer:Ka,selectors:C,constants:D},Za=function(e){return e.documentDB},Ja=Object(W.a)(Za,(function(e){return Object.keys(e)})),Xa=Object(W.a)(Za,(function(e){return Object.values(e)})),$a=Object(W.a)(Ga.selectors.getPDFName,Ga.selectors.getTotalPages,Ga.selectors.getCurrentPage,Jr.selectors.getRiverMakeUps,tn.selectors.getCards,tn.selectors.getLastCardIDNumber,(function(e,t,n,r,a,c){return{name:e,totalPages:t,currentPage:n,riverMakeUps:r,cards:a,lastCardIDNumber:c}})),Ya=function(e,t){var n=t.payload;return Object(Q.a)(Object(Q.a)({},e),n.reduce((function(e,t){return e[t.name]=t,e}),{}))},ec=Ya({},{payload:[{name:"0_Krokodile.pdf",totalPages:15,currentPage:1,riverMakeUps:{},cards:{},lastCardIDNumber:0},{name:"1_Fakten.pdf",totalPages:1,currentPage:1,riverMakeUps:{},cards:{},lastCardIDNumber:0},{name:"2_Atom.pdf",totalPages:1,currentPage:1,riverMakeUps:{"CardRiver 1":{riverID:"CardRiver 1",cardIDs:["1"]}},cards:{1:{type:"Q-A",content:{q:"Was ist DNS?",a:"DNS ist eine Nukleins\xe4ure, die sich aus einer Kette von vielen Nukleotiden zusammensetzt.\n\nAls Nukleotide werden unter anderem die Bausteine von Nukleins\xe4uren wie der DNS bezeichnet. Ein Nukleotid setzt sich aus einem Basen-, einem Zucker- und einem Phosphatanteil zusammen.\n\nNukleins\xe4uren sind aus einzelnen Bausteinen, den Nukleotiden, aufgebaute Makromolek\xfcle, die bei allen Organismen die genetische Information enthalten."},cardID:"1"}},lastCardIDNumber:2},{name:"3_Platon.pdf",totalPages:45,currentPage:3,riverMakeUps:{"CardRiver 3":{riverID:"CardRiver 3",cardIDs:["1","3"]},"CardRiver 4":{riverID:"CardRiver 4",cardIDs:["5","7"]},"CardRiver 7":{riverID:"CardRiver 7",cardIDs:["9","11"]},"CardRiver 9":{riverID:"CardRiver 9",cardIDs:["13","15"]},"CardRiver 10":{riverID:"CardRiver 10",cardIDs:["17","19"]}},cards:{1:{type:"Q-A",content:{q:"Worauf st\xfctzte Ariston seinen Glauben, dass er der Nachkomme eines mythischen K\xf6nigs von Athen war?",a:"Sein Vorfahre Aristokles hatte bereits das h\xf6chste Staatsamt bekleidet."},origin:{q:{spanIndexStart:9,spanIndexEnd:10,page:3},a:{spanIndexStart:19,spanIndexEnd:19,page:3}},cardID:"1"},3:{type:"Note",content:"Wer ist Ariston?",cardID:"3"},5:{type:"Q-A",content:{q:"Was erhoffte sich Platon von Archytas?",a:"Von  Archytas  erhoffte  er  sich  vor  allem mathematische Erkenntnisse."},origin:{q:{spanIndexStart:47,spanIndexEnd:47,page:4},a:{spanIndexStart:50,spanIndexEnd:51,page:4}},cardID:"5"},7:{type:"Note",content:"Wer ist Archytas?",cardID:"7"},9:{type:"Q-A",content:{q:"Warum ist eine absolute Datierung der Werke Platons schwierig?",a:"Sie enthalten kaum Hinweise auf historische Ereignisse ihrer Abfassungszeit und die Handlung der Dialoge ist in der Regel in die Lebenszeit des Sokrates gesetzt, also vor dem Beginn von Platons schriftstellerischer T\xe4tigkeit."},origin:{q:{spanIndexStart:61,spanIndexEnd:61,page:7},a:{spanIndexStart:61,spanIndexEnd:64,page:7}},cardID:"9"},11:{type:"Note",content:"Dank was kann in manchen F\xe4llen zumindest der Zeitraum der Entstehung von Platons Werken eingegrenzt werden?",cardID:"11"},13:{type:"Q-A",content:{q:"Wer steht am meisten im Zentrum von Platons Dialogen?",a:"Der aus Platons Perspektive gezeichnete Sokrates, in dessen Gestalt sich historische und idealisierte Z\xfcge mischen."},origin:{q:{spanIndexStart:25,spanIndexEnd:25,page:9},a:{spanIndexStart:24,spanIndexEnd:24,page:9}},cardID:"13"},15:{type:"Note",content:"Was ist die Folge davon, dass Platon seine Dialoge meist aus der Perspektive von Sokrates schrieb?",cardID:"15"},17:{type:"Q-A",content:{q:"Was ist die Grundmethode, die Sokrates in Platons Dialogen anwendet?",a:"Die Widerlegung der urspr\xfcnglichen Ansichten seiner Gespr\xe4chspartner, die sich als naiv und unreflektiert erweisen."},origin:{q:{spanIndexStart:38,spanIndexEnd:38,page:10},a:{spanIndexStart:38,spanIndexEnd:44,page:10}},cardID:"17"},19:{type:"Note",content:"Was tritt durch die Befreiung von Scheinwissen durch Sokrates Widerlegungsmethode zutage?",cardID:"19"}},lastCardIDNumber:20},{name:"4_Nervenzelle.pdf",totalPages:12,currentPage:4,riverMakeUps:{"CardRiver 1":{riverID:"CardRiver 1",cardIDs:["1","3"]},"CardRiver 2":{riverID:"CardRiver 2",cardIDs:["5","7"]},"CardRiver 3":{riverID:"CardRiver 3",cardIDs:["9","11"]},"CardRiver 4":{riverID:"CardRiver 4",cardIDs:["13","15"]}},cards:{1:{type:"Q-A",content:{q:"Worauf ist eine Nervenzelle spezialisiert? (Seite 1, Absatz 1)",a:""},cardID:"1"},3:{type:"Q-A",content:{q:"Wie viele Nervenzellen hat das Gehirn Sch\xe4tzungen zufolge? (Seite 1, Absatz 4)",a:""},cardID:"3"},5:{type:"Q-A",content:{q:"Wie wird der K\xf6rper der Nervenzelle bezeichnet? (Seite 2, Absatz 1)",a:""},cardID:"5"},7:{type:"Q-A",content:{q:"",a:""},cardID:"7"},9:{type:"Q-A",content:{q:"Wovon h\xe4ngt es ab ob ein Aktionspotential gebildet wird oder nicht? (Seite 3, Absatz 2)",a:""},cardID:"9"},11:{type:"Q-A",content:{q:"Was sind Dendriten? (Seite 3, Absatz 3)",a:""},cardID:"11"},13:{type:"Q-A",content:{q:"Wie wird im Falle einer Erregung der Nervenzelle sichergestellt, dass Aktionspotentiale am Axonh\xfcgel entstehen und \xfcber deren Axon weitergeleitet werden? (Seite 4, Absatz 1)",a:""},cardID:"13"},15:{type:"Q-A",content:{q:"Was ist das Axon einer Nervenzelle? (Seite 4, Absatz 2)",a:""},cardID:"15"}},lastCardIDNumber:16}],type:Ya.toString()}),tc=Object(bt.a)({name:"documentDB",initialState:ec,reducers:{storeInDocumentDB:function(e,t){var n=t.payload;return Object(Q.a)(Object(Q.a)({},e),{},Object(M.a)({},n.name,n))},removeFromDocumentDB:function(e,t){var n=t.payload;return Object.fromEntries(Object.entries(e).filter((function(e){return e[0]!==n})))},updateDocumentDB:Ya}}),nc=tc.actions,rc=tc,ac=n(158),cc=n.n(ac),oc=n(155),ic=n.n(oc),uc=function(e,t){if(void 0!==Ga.selectors.getPDFName(t)){var n=$a(t);e(nc.storeInDocumentDB(n))}},lc=(n(219),function(e){e(Jr.actions.allRiversReset()),e(tn.actions.allCardsReset()),e(qt.ActionCreators.clearHistory())}),dc=function(e,t,n){e(tn.actions.allCardsReplace({cards:t.cards,lastCardIDNumber:t.lastCardIDNumber})),e(Jr.actions.allRiversReplace(t.riverMakeUps)),void 0!==n&&t.name!==n&&e(Ga.actions.existingDocumentPayload({pdfName:t.name,currentPage:t.currentPage,totalPages:t.totalPages})),e(qt.ActionCreators.clearHistory())},sc=function(e){return function(t,n){var r=n(),a=Ga.selectors.getPDFName(r);t(a&&a===e?function(e,t){lc(e);var n=t(),r=Ga.selectors.getPDFName(n);e(nc.removeFromDocumentDB(r))}:nc.removeFromDocumentDB(e))}},fc=function(e){var t=e.document,n=e.afterClick,r=Object(T.b)();return R.a.createElement(gt.components.BiggerTooltip,{title:gt.constants.loadSavedDocumentTooltip,enterDelay:gt.constants.defaultEnterDelay,enterNextDelay:gt.constants.defaultEnterNextDelay},R.a.createElement(Re.a,{type:"button",onClick:function(){r(function(e){return function(t,n){var r=n(),a=Ga.selectors.getPDFName(r),c=Ga.selectors.getPDF(r),o=Za(r);uc(t,r);var i=o[e];dc(t,i,c||a?a:"")}}(t)),n()}},R.a.createElement(ic.a,{fontSize:"small"})))},mc=n(309),pc=n(295),vc=n(296),gc=n(297),bc=n(298),Ec=n(156),Oc=n.n(Ec),hc=function(e){var t=e.document,n=e.handleClose,r=e.open,a=Object(T.b)();return R.a.createElement(mc.a,{open:r,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},R.a.createElement(pc.a,{id:"alert-dialog-title"},"Delete "+t+" and all associated card data?"),R.a.createElement(vc.a,null,R.a.createElement(gc.a,{id:"alert-dialog-description"},"This change can not be undone.")),R.a.createElement(bc.a,null,R.a.createElement(Kr.a,{onClick:n,color:"primary"},"Abort"),R.a.createElement(Kr.a,{onClick:function(){a(sc(t)),n()},color:"primary",autoFocus:!0},"Delete document and associated card data")))},jc=function(e){var t=e.document,n=e.afterClick,r=Object(x.useState)(!1),a=Object(xt.a)(r,2),c=a[0],o=a[1];return R.a.createElement("div",null,R.a.createElement(gt.components.BiggerTooltip,{title:gt.constants.deleteDocumentTooltip,enterDelay:gt.constants.defaultEnterDelay,enterNextDelay:gt.constants.defaultEnterNextDelay},R.a.createElement(Re.a,{type:"button",onClick:function(){o(!0)}},R.a.createElement(Oc.a,{fontSize:"small"}))),R.a.createElement(hc,{document:t,open:c,handleClose:function(){o(!1),n()}}))},yc=function(e){var t=e.document,n=e.afterClick;return R.a.createElement(At.a,{container:!0,direction:"row"},R.a.createElement(At.a,{item:!0},R.a.createElement(fc,{document:t,afterClick:n})),R.a.createElement(At.a,{item:!0},R.a.createElement(Pt.a,{orientation:"vertical"})),R.a.createElement(At.a,{item:!0},R.a.createElement(jc,{document:t,afterClick:n})))},Dc=function(e){var t=e.document,n=e.afterClick;return R.a.createElement(At.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:1},R.a.createElement(At.a,{item:!0},t.replace(".pdf","")),R.a.createElement(At.a,{item:!0},R.a.createElement(Rt.a,{variant:"outlined"},R.a.createElement(yc,{document:t,afterClick:n}))))},Cc=function(e){var t=e.afterClick,n=Object(T.c)(Ga.selectors.getPDFName),r=Object(T.c)(Ja).filter((function(e){return e!==n})).sort(),a=yn();return R.a.createElement("span",null,r.length>0&&[R.a.createElement(Mn.a,{key:a(),component:"span",variant:"h6"},gt.constants.existingDataText),R.a.createElement(Mn.a,{key:a(),component:"span"},R.a.createElement("ul",{style:{listStyleType:"square"}},r.map((function(e){return e?R.a.createElement("li",{key:a()},R.a.createElement(Dc,{document:e,afterClick:t,key:a()})):null}))))])},Sc=function(e){var t=e.afterClick,n=Object(T.c)(Ga.selectors.getPDFName),r=yn();return R.a.createElement("span",null,n&&[R.a.createElement(Mn.a,{key:r(),component:"span",variant:"h6"},gt.constants.activeDocumentText),R.a.createElement(At.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:1},R.a.createElement(At.a,{item:!0},n.replace(".pdf","")),R.a.createElement(At.a,{item:!0},R.a.createElement(Rt.a,{variant:"outlined"},R.a.createElement(jc,{document:n,afterClick:t})))),R.a.createElement(Pt.a,{key:r(),style:{marginTop:"6px"}})])},Ic=n(157),kc=n.n(Ic),wc=function(e){var t=e.handleClose,n=e.label,r=Object(T.b)(),a=Object(x.useRef)(null);return R.a.createElement(x.Fragment,null,R.a.createElement(hr.a,{onClick:function(){a.current.click()}},R.a.createElement(Kr.a,{variant:"contained",color:"primary",disableElevation:!0,startIcon:R.a.createElement(kc.a,null)},n)),R.a.createElement("input",{ref:a,style:{display:"none"},onChange:function(e){var n,a=e.target.files,c=a?a[0]:null;c&&r((n=c,function(e,t){var r=n.name,a=t(),c=Ga.selectors.getPDFName(a),o=Za(a);if(uc(e,a),e(Ga.actions.pdfUpload(n)),r!==c){var i=o[r];i?dc(e,i):lc(e)}})),t()},type:"file",accept:".pdf"}))},Nc=function(){var e=R.a.useState(null),t=Object(xt.a)(e,2),n=t[0],r=t[1],a=function(){r(null)};return R.a.createElement("div",null,R.a.createElement(Re.a,{type:"button",onClick:function(e){r(e.currentTarget)}},R.a.createElement(cc.a,null)),R.a.createElement(Or.a,{id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:a,MenuListProps:{style:{paddingLeft:"8px",paddingRight:"8px"}}},R.a.createElement(wc,{handleClose:a,label:"Load document"}),R.a.createElement(Pt.a,null),R.a.createElement(Sc,{afterClick:a}),R.a.createElement(Cc,{afterClick:a})))},xc=rc.reducer,Rc={name:rc.name,reducer:xc,selectors:I,components:k},Ac=n(159),Pc=n.n(Ac),Tc=function(){var e=Object(T.b)(),t=Object(T.c)(Jr.selectors.getRiverContentFilter),n=Object(x.useState)(t),r=Object(xt.a)(n,2),a=r[0],c=r[1];Object(x.useEffect)((function(){a!==t&&c(t)}),[t]);var o=Object(x.useState)("cards"),i=Object(xt.a)(o,2),u=i[0],l=(i[1],function(){e(Jr.actions.riverContentFilter(""))}),d=function(){e(Ga.actions.documentSearch(""))},s="cards"===u?function(t){""===t&&e(Jr.actions.riverContentFilter("")),c(t)}:function(t){""===t&&e(Ga.actions.documentSearch("")),c(t)},f="cards"===u?l:d,m="cards"===u?function(){return e(Jr.actions.riverContentFilter(a))}:function(){return e(Ga.actions.documentSearch(a))};return R.a.createElement(At.a,{container:!0,direction:"row",alignItems:"center",spacing:1},R.a.createElement(At.a,{item:!0},R.a.createElement(Pc.a,{value:a,placeholder:"cards"===u?"Filter cards":"Search document",onChange:s,onCancelSearch:f,onRequestSearch:m,cancelOnEscape:!0})))},Mc=n(303),Fc=n(299),Uc=function(e){return e.displayData},qc=Object(W.a)(Uc,(function(e){return e.windowMeasurements})),Bc=Object(W.a)(Uc,(function(e){return e.topOffset})),zc=Object(W.a)(Uc,(function(e){return e.currentView}));!function(e){e[e.RiverMaterial=0]="RiverMaterial",e[e.RiverExplorer=1]="RiverExplorer",e[e.CardExplorer=2]="CardExplorer"}(Fa||(Fa={}));var Lc,Wc={windowMeasurements:null,topOffset:0,currentView:Fa.RiverMaterial},Qc=Dn("topOffset"),Vc=Dn("windowMeasurements"),Hc=Dn("currentView"),_c=Object(bt.a)({name:"displayData",initialState:Wc,reducers:{topOffset:Qc,windowMeasurements:Vc,currentView:Hc},extraReducers:(Ua={},Object(M.a)(Ua,tn.actions.allCardsReplace.type,(function(e,t){var n=t.payload;return Object(Q.a)(Object(Q.a)({},e),{},{currentView:n.lastCardIDNumber>1?Fa.RiverExplorer:Fa.RiverMaterial})})),Object(M.a)(Ua,Ga.actions.pdfUpload.type,(function(e){return Object(Q.a)(Object(Q.a)({},e),{},{currentView:Fa.RiverMaterial})})),Ua)}),Kc=_c.actions,Gc=_c,Zc=function(){var e=Object(T.c)(zc),t=Object(T.b)();return R.a.createElement(Rt.a,null,R.a.createElement(Mc.a,{value:e,onChange:function(e,n){t(Kc.currentView(n))}},R.a.createElement(Fc.a,{label:"River-Material"}),R.a.createElement(Fc.a,{label:"River Explorer"})))},Jc=function(){var e=Object(T.c)(Ga.selectors.getPDFName),t=Object(T.c)(Bc),n=Object(x.useRef)(null),r=Object(T.b)();return Object(x.useLayoutEffect)((function(){if(n.current){var e=n.current.getBoundingClientRect().bottom;e!==t&&r(Kc.topOffset(e))}}),[n,r,t]),R.a.createElement(Ga.components.PageKeyboardControl,null,R.a.createElement(Xr.a,{ref:n,position:"sticky"},R.a.createElement($r.a,{variant:"regular",disableGutters:!0},R.a.createElement(At.a,{container:!0,direction:"row",alignItems:"center",justify:"space-between"},R.a.createElement(At.a,{item:!0,xs:6},R.a.createElement(At.a,{container:!0,direction:"row",alignItems:"center",spacing:1,style:{paddingLeft:"4px"}},R.a.createElement(At.a,{item:!0,style:{maxWidth:"15%"}},R.a.createElement(Ga.components.PageChooser,null)),R.a.createElement(At.a,{item:!0},R.a.createElement(Ga.components.PageNavigation,null)),R.a.createElement(At.a,{item:!0},R.a.createElement(tn.components.UndoRedoCard,null)),R.a.createElement(At.a,{item:!0},R.a.createElement(Zc,null)))),R.a.createElement(At.a,{item:!0,xs:2},R.a.createElement(At.a,{container:!0,justify:"center"},R.a.createElement(At.a,{item:!0,style:{overflowX:"auto"}},R.a.createElement(Mn.a,{variant:"subtitle1"},null===e||void 0===e?void 0:e.replace(".pdf",""))))),R.a.createElement(At.a,{item:!0,xs:4},R.a.createElement(At.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center"},R.a.createElement(At.a,{item:!0},R.a.createElement(Tc,null)),R.a.createElement(At.a,{item:!0},R.a.createElement(Rc.components.DataOptions,null))))))))},Xc=n(160),$c=function(){var e=Object(T.b)(),t=Object(Xc.debounce)(50,(function(){var t=document.documentElement,n=t.clientWidth,r=t.clientHeight;e(Kc.windowMeasurements({width:n,height:r}))}));return Object(x.useLayoutEffect)((function(){t()}),[t]),Object(x.useEffect)((function(){return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}})),null},Yc=n(167),eo=function(e){var t=e.riverID,n=e.materialHeight,r=e.materialWidth;return R.a.createElement("div",{style:{maxWidth:.35*r}},R.a.createElement(Jr.components.CardRiver,{riverID:t,materialHeight:n}))},to=function(e){var t,n=e.index,r=e.data,a=e.style,c=n+1,o=Jr.model.pageNumberToRiverMakeUpID(c),i=r.materialHeights,u=Object(T.c)(Jr.selectors.getRiverShowState),l=Object(T.c)(Ga.selectors.getPDFShowStatus),d=null===(t=Object(T.c)(qc))||void 0===t?void 0:t.width;return R.a.createElement("div",{style:Object(Q.a)({},a)},R.a.createElement(Jr.components.SwitchActiveRiver,{riverID:o},R.a.createElement(At.a,{container:!0,justify:"space-between",direction:"row",alignItems:"flex-start"},R.a.createElement(At.a,{item:!0,hidden:"HIDE"===u},R.a.createElement(eo,{riverID:o,materialHeight:i.get(c),materialWidth:d})),R.a.createElement(At.a,{item:!0,hidden:"HIDE"===l},R.a.createElement(Ga.components.PDFPage,{pageNumber:c,materialWidth:d})))),R.a.createElement(Pt.a,{style:{marginTop:10}}))},no=function(e){var t=e.listRef,n=Object(T.c)(zc),r=Object(T.c)(Ga.selectors.getScrollToPage),a=Object(T.c)(Ga.selectors.getCurrentPage),c=Object(T.c)(Jr.selectors.getOriginRequest);Object(x.useEffect)((function(){var e;null===(e=t.current)||void 0===e||e.scrollToItem(a-1,"start")}),[]);var o=Object(T.b)();return Object(x.useEffect)((function(){var e,i;if(console.log(r,a,c),(c||r)&&n!==Fa.RiverMaterial&&o(Kc.currentView(Fa.RiverMaterial)),c)return null===(e=t.current)||void 0===e||e.scrollToItem(c.page-1,"auto"),o(Ga.actions.spanOrigin(c)),o(Ga.actions.pageUpdate({page:c.page,shouldScroll:!1})),void o(Jr.actions.riverOriginRequest(null));r&&(null===(i=t.current)||void 0===i||i.scrollToItem(r-1,"start"),o(Ga.actions.pageUpdate({page:r,shouldScroll:!1})))}),[o,t,r,c,n]),null},ro=function(e){var t=e.listRef,n=e.materialHeights,r=Object(x.useRef)(n);return Object(x.useEffect)((function(){var e;n!==r.current&&(null===(e=t.current)||void 0===e||e.resetAfterIndex(0),r.current=n)})),null},ao=function(e){var t=e.pdfProxyRef,n=e.cachedPageDimensions,r=Object(x.useRef)(),a=Object(T.c)(qc),c=a?Array.from(n.keys()).reduce((function(e,t){return e.set(t,function(e,t,n){var r=t.get(e),a=n*Ga.constants.MaterialMultiplier/r[0];return r[1]*a+20}(t,n,a.width)),e}),new Map):void 0,o=Object(T.b)(),i=Object(T.c)(Bc);return R.a.createElement(x.Fragment,null,a&&c&&R.a.createElement(Yc.a,{height:a.height-i,itemCount:t.current.numPages,itemSize:function(e){return c.get(e+1)+20},itemData:{materialHeights:c},ref:r,width:"100%",onItemsRendered:function(e){o(Ga.actions.pageUpdate({page:e.visibleStopIndex+1,shouldScroll:!1}))}},to),c&&R.a.createElement(ro,{listRef:r,materialHeights:c}),R.a.createElement(no,{listRef:r}))},co=function(){return R.a.createElement(x.Fragment,null,R.a.createElement(Ga.components.PDFDocument,{ChildComponent:ao}),R.a.createElement(Ga.components.OriginMarkedSnackbar,null))},oo=function(e){var t=e.riverID,n=Object(T.c)(qc),r=Object(T.c)(Bc);return n&&r?R.a.createElement("div",{style:{marginBottom:"8px",marginTop:"4px"}},R.a.createElement(Jr.components.CardRiver,{riverID:t,materialHeight:(null===n||void 0===n?void 0:n.height)-r-10})):null},io=function(){var e=Object(T.c)(cn),t=yn();return R.a.createElement(At.a,{container:!0,justify:"space-evenly",alignItems:"center",spacing:2,style:{width:"100%",height:"100%"}},e.map((function(e){return R.a.createElement(At.a,{item:!0,xs:4,key:t()},R.a.createElement(Jr.components.SwitchActiveRiver,{riverID:e},R.a.createElement(oo,{riverID:e})))})))},uo=function(){var e=Object(T.c)(zc);return R.a.createElement(x.Fragment,null,R.a.createElement("div",{hidden:e!==Fa.RiverMaterial,style:{width:"100%",height:"100%"}},R.a.createElement(co,null)),R.a.createElement("div",{hidden:e!==Fa.RiverExplorer,style:{width:"100%",height:"100%"}},R.a.createElement(io,null)),R.a.createElement(wr.components.ContextMenu,null),R.a.createElement(wr.components.SelectionSnackbar,null))},lo=function(){return R.a.createElement(tn.components.UndoRedoKeyListener,null,R.a.createElement("div",null,R.a.createElement($c,null),R.a.createElement(At.a,{container:!0,justify:"center",direction:"column",alignItems:"stretch",style:{height:"100%",width:"100%"}},R.a.createElement(At.a,{item:!0},R.a.createElement(Jc,null)),R.a.createElement(At.a,{item:!0},R.a.createElement(uo,null)))))},so=Gc.reducer,fo={actions:Gc.actions,components:N,name:Gc.name,reducer:so,selectors:w},mo=n(74),po=n(161),vo=n.n(po),go=Object(mo.a)((function(e){return e}),(function(e){return t=e,Object(Q.a)(Object(Q.a)({},t),{},{pdf:null});var t}),{whitelist:[Ga.name]}),bo={key:"root",storage:vo.a,transforms:[go]},Eo=n(162),Oo=[tn.actions.cardPush.type,tn.actions.cardRemove.type,tn.actions.cardReplace.type,tn.actions.cardFieldReplace.type],ho=Object(F.combineReducers)((Lc={},Object(M.a)(Lc,Rc.name,Rc.reducer),Object(M.a)(Lc,wr.name,wr.reducer),Object(M.a)(Lc,Jr.constants.NAME,Bt()(Jr.reducer,{filter:Object(qt.includeAction)(Oo)})),Object(M.a)(Lc,tn.name,Bt()(tn.reducer,{filter:Object(qt.includeAction)(Oo)})),Object(M.a)(Lc,Ga.name,Ga.reducer),Object(M.a)(Lc,fo.name,fo.reducer),Lc)),jo=Object(mo.b)(bo,ho),yo=Object(Eo.composeWithDevTools)({})(Object(F.applyMiddleware)(U.a)),Do=Object(F.createStore)(jo,yo),Co=Object(mo.c)(Do),So=n(163);n(250),P.a.render(R.a.createElement(R.a.StrictMode,null,R.a.createElement(T.a,{store:Do},R.a.createElement(So.a,{loading:null,persistor:Co},R.a.createElement(fo.components.Display,null)))),document.getElementById("root"))}},[[177,1,2]]]);
//# sourceMappingURL=main.2c768960.chunk.js.map