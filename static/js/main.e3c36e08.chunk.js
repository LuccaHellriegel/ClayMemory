(this.webpackJsonprem=this.webpackJsonprem||[]).push([[0],{123:function(e,t,n){e.exports=n(189)},142:function(e,t,n){},143:function(e,t,n){},147:function(e,t){},149:function(e,t){},150:function(e,t){},151:function(e,t){},152:function(e,t){},189:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"NAME",(function(){return w}));var a={};n.r(a),n.d(a,"PDF_UPLOADED",(function(){return _})),n.d(a,"MATERIAL_LOADED",(function(){return L})),n.d(a,"DISPLAY_STATUS",(function(){return x})),n.d(a,"PAGE_UPDATE",(function(){return F})),n.d(a,"ZOOM_QUEUE",(function(){return Q})),n.d(a,"MATERIAL_DATA",(function(){return q}));var c={};n.r(c),n.d(c,"getAll",(function(){return V})),n.d(c,"getPDF",(function(){return H})),n.d(c,"getRenderCritialData",(function(){return W})),n.d(c,"getTotalPages",(function(){return G})),n.d(c,"getCurrentPage",(function(){return X})),n.d(c,"getPageControlData",(function(){return z})),n.d(c,"getDocumentRef",(function(){return Z})),n.d(c,"getMaterialData",(function(){return J})),n.d(c,"getTimeStamp",(function(){return Y})),n.d(c,"getMaterialSpans",(function(){return K})),n.d(c,"getSpanIndex",(function(){return $})),n.d(c,"getMaterialBoundingRects",(function(){return ee})),n.d(c,"getDataExists",(function(){return te})),n.d(c,"getDisplayStatus",(function(){return ne})),n.d(c,"displayStatusIsShow",(function(){return re})),n.d(c,"getZoomQueue",(function(){return ae}));var u={};n.r(u),n.d(u,"materialUploaded",(function(){return le})),n.d(u,"materialLoaded",(function(){return se})),n.d(u,"materialRendered",(function(){return fe})),n.d(u,"tryInterval",(function(){return de})),n.d(u,"captureMaterialData",(function(){return pe})),n.d(u,"setPage",(function(){return ve})),n.d(u,"movePage",(function(){return be})),n.d(u,"nextPage",(function(){return Ee})),n.d(u,"previousPage",(function(){return je})),n.d(u,"toggleDisplayState",(function(){return ge})),n.d(u,"setZoomQueue",(function(){return Ce})),n.d(u,"zoomToCardOrigin",(function(){return De})),n.d(u,"emptyZoomQueue",(function(){return ye}));var o={};n.r(o),n.d(o,"PDFDocumentContainer",(function(){return he})),n.d(o,"PDFUploadContainer",(function(){return Ae})),n.d(o,"PageChooser",(function(){return He})),n.d(o,"NextButton",(function(){return we})),n.d(o,"PreviousButton",(function(){return ke})),n.d(o,"ShowMaterialButton",(function(){return Qe}));var i={};n.r(i),n.d(i,"NAME",(function(){return Ze}));var l={};n.r(l),n.d(l,"getAll",(function(){return Ye})),n.d(l,"getFocus",(function(){return Ke}));var s={};n.r(s),n.d(s,"updateFocus",(function(){return $e})),n.d(s,"tryUpdateFocus",(function(){return et})),n.d(s,"toggleContextMenuFocus",(function(){return tt}));var f={};n.r(f),n.d(f,"NAME",(function(){return at}));var d={};n.r(d),n.d(d,"TOGGLE_CONTEXT_MENU",(function(){return ct})),n.d(d,"CLOSE_CONTEXT_MENU",(function(){return ut})),n.d(d,"OPEN_CONTEXT_MENU",(function(){return ot})),n.d(d,"SELECTED_STRING",(function(){return it})),n.d(d,"SELECTED_PARENT",(function(){return lt}));var p={};n.r(p),n.d(p,"selectedStringToConfig",(function(){return dt}));var v={};n.r(v),n.d(v,"NAME",(function(){return pt}));var O={};n.r(O),n.d(O,"CARD_UPDATE",(function(){return vt})),n.d(O,"CARD_PUSH",(function(){return Ot})),n.d(O,"CARD_REMOVE",(function(){return mt}));var m={};n.r(m),n.d(m,"getAll",(function(){return bt})),n.d(m,"getLastCardIDNumber",(function(){return Et})),n.d(m,"getCards",(function(){return jt}));var b={};n.r(b),n.d(b,"cardPush",(function(){return gt})),n.d(b,"cardUpdate",(function(){return Ct})),n.d(b,"updateCardContent",(function(){return Dt})),n.d(b,"pushCardContent",(function(){return yt})),n.d(b,"removeCard",(function(){return St}));var E={};n.r(E),n.d(E,"NAME",(function(){return At}));var j={};n.r(j),n.d(j,"getAll",(function(){return Mt})),n.d(j,"getRiverMakeUps",(function(){return Pt})),n.d(j,"getActiveRiverMakeUpID",(function(){return Tt})),n.d(j,"getActiveRiverMakeUp",(function(){return Nt})),n.d(j,"getActiveRiverCardIDs",(function(){return Ut})),n.d(j,"getActiveRiverCards",(function(){return kt})),n.d(j,"getRiverShowState",(function(){return wt})),n.d(j,"riverShowStateIsShow",(function(){return _t}));var g={};n.r(g),n.d(g,"ActiveCardRiver",(function(){return tn})),n.d(g,"ShowRiverButton",(function(){return on})),n.d(g,"SummaryRiver",(function(){return ln}));var C={};n.r(C),n.d(C,"getAll",(function(){return En})),n.d(C,"getContextMenuState",(function(){return jn})),n.d(C,"getContextMenuRef",(function(){return gn})),n.d(C,"getContextMenuQARefs",(function(){return Cn})),n.d(C,"getCurrentSelectionPosition",(function(){return Dn})),n.d(C,"getContextMenuInitData",(function(){return yn})),n.d(C,"getCurrentSelectedString",(function(){return Sn})),n.d(C,"getCurrentSelectedParent",(function(){return In}));var D={};n.r(D),n.d(D,"toggleContextMenu",(function(){return Rn})),n.d(D,"closeContextMenu",(function(){return hn})),n.d(D,"openContextMenu",(function(){return An})),n.d(D,"triggerSelectionGrab",(function(){return Mn})),n.d(D,"updateManuallySelectedString",(function(){return Pn})),n.d(D,"resetManuallySelectedString",(function(){return Tn})),n.d(D,"selectedParent",(function(){return Nn}));var y={};n.r(y),n.d(y,"ContextMenuContainer",(function(){return Vn}));var S={};n.r(S),n.d(S,"contextMenuContainsTargetNode",(function(){return Hn}));var I={};n.r(I),n.d(I,"ControlContainer",(function(){return Jn})),n.d(I,"ControlBar",(function(){return $n}));var R=n(0),h=n.n(R),A=n(10),M=n.n(A),P=n(16),T=n(230),N=n(100),U=n(191),k=n(2),w="displayData",_=w+"/PDF_UPLOADED",L=w+"/MATERIAL_LOADED",x=w+"/DISPLAY_STATUS",F=w+"/PAGE_UPDATE",Q=w+"/ZOOM_QUEUE",q=w+"/MATERIAL_DATA",B=n(8),V=function(e){return e[w]},H=Object(B.a)(V,(function(e){return{pdf:e.pdf}})),W=Object(B.a)(V,(function(e){return{pdf:e.pdf,currentPage:e.currentPage,documentRef:e.documentRef}})),G=Object(B.a)(V,(function(e){return e.totalPages})),X=Object(B.a)(V,(function(e){return e.currentPage})),z=Object(B.a)(G,X,(function(e,t){return{currentPage:t,totalPages:e}})),Z=Object(B.a)(V,(function(e){return e.documentRef})),J=Object(B.a)(V,(function(e){return e.materialData})),Y=Object(B.a)(J,(function(e){return e.materialDataTimeStamp})),K=Object(B.a)(J,(function(e){return e.materialSpans})),$=function(e,t){return K(e).indexOf(t)},ee=Object(B.a)(J,(function(e){return e.materialBoundingRects})),te=Object(B.a)(Y,(function(e){return e>0})),ne=Object(B.a)(V,(function(e){return e.displayStatus})),re=Object(B.a)(ne,(function(e){return"SHOW"===e})),ae=Object(B.a)(V,(function(e){return e.zoomQueue})),ce=function(){var e=0;return function(){var t=e;return e++,t}},ue=n(47),oe=function(e){return{span:e,rect:e.getBoundingClientRect()}},ie=function(e){var t=Array.from(e.querySelectorAll("span"));if(0===t.length)return null;var n=function(e){var t,n=[],r=[],a=Object(ue.a)(e);try{for(a.s();!(t=a.n()).done;){var c=t.value;n.push(c.span),r.push(c.rect)}}catch(u){a.e(u)}finally{a.f()}return{spans:n,boundingRects:r}}(function(e){return e.map(oe)}(t).sort((function(e,t){return e.rect.y-t.rect.y})));return{materialSpans:n.spans,materialBoundingRects:n.boundingRects}},le=function(e){return function(t){var n=e.target.files,r=n?n[0]:null;r&&t({type:_,payload:r})}},se=function(e){return{type:L,payload:e}},fe=function(){return{type:x,payload:"SHOW"}},de=function(e,t,n){var r=ce(),a=setInterval((function(){(r()>e||n())&&clearInterval(a)}),t)};function pe(e){return function(t,n){var r=n(),a=e.current;if(a){var c=Date.now(),u=ie(a);if(u&&Y(r)<c){var o=Object(k.a)(Object(k.a)({},u),{},{materialDataTimeStamp:c});t({type:q,payload:o}),t(ye())}else de(10,20,(function(){var e=ie(a);if(e&&Y(n())<c){var r=Object(k.a)(Object(k.a)({},e),{},{materialDataTimeStamp:c});return t({type:q,payload:r}),!0}return!1}))}}}var ve=function(e){return{type:F,payload:e}},Oe=function(e,t){return e===t+1?1:e},me=function(e,t){return 0===e?t:e},be=function(e){return function(t,n){var r=z(n()),a=r.currentPage,c=r.totalPages;if(c)switch(e){case"NEXT":t({type:F,payload:Oe(a+1,c)});break;case"PREVIOUS":t({type:F,payload:me(a-1,c)})}}},Ee=function(){return be("NEXT")},je=function(){return be("PREVIOUS")},ge=function(){return function(e,t){var n="SHOW"===ne(t())?"HIDE":"SHOW";e({type:x,payload:n})}},Ce=function(e){return{type:Q,payload:e}},De=function(e,t){return function(n){n(ve(t)),n(Ce(e))}},ye=function(){return function(e,t){var n=t(),r=ae(n);if(r){var a=K(n)[r];a.focus(),a.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),e(Ce(null))}}},Se=(n(142),n(143),n(62)),Ie=n(7);Se.pdfjs.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(Se.pdfjs.version,"/pdf.worker.js");var Re={cMapUrl:"cmaps/",cMapPacked:!0};var he=Object(Ie.b)(W,{materialRendered:fe,materialLoaded:se,captureMaterialData:pe})((function(e){var t=e.parentSize,n=e.pdf,r=e.currentPage,a=e.materialRendered,c=e.materialLoaded,u=e.captureMaterialData,o=e.documentRef,i=Object(Ie.c)();return h.a.createElement(Se.Document,{file:n,options:Re,onLoadSuccess:function(e){var t=e.numPages;c(t)},inputRef:o,onItemClick:function(e){var t=e.pageNumber;i(ve(parseInt(t)))}},n&&h.a.createElement(Se.Page,{width:t.width,pageNumber:r,onRenderSuccess:function(){document.querySelectorAll(".react-pdf__Page__textContent").forEach((function(e){var t=e.style;t.top="0",t.left="0",t.transform=""})),a(),u(o)}}))}));var Ae=Object(Ie.b)(H,{onUpload:le})((function(e){var t=e.pdf,n=e.onUpload;return t?null:h.a.createElement("input",{onChange:n,type:"file",accept:".pdf"})})),Me=n(190),Pe=n(103),Te=n.n(Pe),Ne=n(102),Ue=n.n(Ne),ke=function(){var e=Object(Ie.c)();return h.a.createElement(Me.a,{type:"button",onClick:function(){e(je())}},h.a.createElement(Ue.a,null))},we=function(){var e=Object(Ie.c)();return h.a.createElement(Me.a,{type:"button",onClick:function(){e(Ee())}},h.a.createElement(Te.a,null))},_e=n(104),Le=n.n(_e),xe=n(105),Fe=n.n(xe),Qe=function(){var e=Object(R.useState)(!0),t=Object(P.a)(e,2),n=t[0],r=t[1],a=Object(Ie.c)();return h.a.createElement(Me.a,{type:"button",onClick:function(){a(ge()),r(!n)}},n?h.a.createElement(Le.a,null):h.a.createElement(Fe.a,null))},qe=n(229),Be=n(236),Ve=/(\D)/,He=function(){var e=Object(Ie.c)(),t=Object(Ie.d)(z),n=t.currentPage,r=t.totalPages,a=Object(R.useState)({error:!1,value:null===n||void 0===n?void 0:n.toString(),userInput:null===n||void 0===n?void 0:n.toString()}),c=Object(P.a)(a,2),u=c[0],o=c[1];return u.value!==n.toString()&&o({error:!1,value:n.toString(),userInput:n.toString()}),h.a.createElement(qe.a,{variant:"h6"},h.a.createElement(Be.a,{type:"text",variant:"filled",value:u.userInput,onKeyDown:function(t){if("Enter"===t.key){t.preventDefault();var n=t.target.value;u.error||e(ve(parseInt(n)))}},onChange:function(e){var t=e.target.value;!function(e,t){if(""===e||null!==e.trim().match(Ve))return!1;var n=parseInt(e);return!(n<1||t<n)}(t,r)?o(Object(k.a)(Object(k.a)({},u),{},{error:!0,userInput:t})):o(Object(k.a)(Object(k.a)({},u),{},{error:!1,userInput:t}))},error:u.error}),"of ",r)},We=n(18),Ge={displayStatus:"SHOW",currentPage:1,documentRef:Object(R.createRef)(),pageSpans:{},zoomQueue:null,materialData:{materialDataTimeStamp:-1/0}},Xe={actions:u,actionTypes:a,components:o,constants:r,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case _:return Object(k.a)(Object(k.a)({},e),{},{pdf:r});case L:return Object(k.a)(Object(k.a)({},e),{},{totalPages:r});case F:return Object(k.a)(Object(k.a)({},e),{},{currentPage:r});case x:return Object(k.a)(Object(k.a)({},e),{},{displayStatus:r});case q:return Object(k.a)(Object(k.a)({},e),{},{materialData:r,pageSpans:Object(k.a)(Object(k.a)({},e.pageSpans),{},Object(We.a)({},e.currentPage,r.materialSpans.length-1))});default:return e}},selectors:c},ze=function(e,t){var n=Object(R.useRef)((function(){}));Object(R.useEffect)((function(){n.current=t}),[t]),Object(R.useEffect)((function(){var t=function(e){return n.current(e)};return document.addEventListener(e,t),function(){document.removeEventListener(e,t)}}),[e])},Ze="userFocus",Je=Ze+"/FOCUS_UPDATE",Ye=function(e){return e[Ze]},Ke=Object(B.a)(Ye,(function(e){return e.focus})),$e=function(e){return{type:Je,payload:e}},et=function(e){return function(t,n){Ke(n())!==e&&t($e(e))}},tt=function(){return function(e,t){var n=t();if(Xe.selectors.getDataExists(n))switch(Ke(t())){case"CONTEXT_MENU":e($e("SELECTION"));break;case"SELECTION":e($e("CONTEXT_MENU"))}}},nt={focus:"CONTROL"},rt={actions:s,constants:i,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Je:return Object(k.a)(Object(k.a)({},e),{},{focus:r});default:return e}},selectors:l},at="creationData",ct=at+"/TOGGLE_CONTEXT_MENU",ut=at+"/CLOSE_CONTEXT_MENU",ot=at+"/OPEN_CONTEXT_MENU",it=at+"/SELECTED_STRING",lt=at+"/SELECTED_PARENT",st={REPLACE:function(e,t){return t},APPEND:function(e,t){return e+t}},ft={NOTE:function(e,t){return Object(k.a)(Object(k.a)({},e),{},{content:t(e.content)})},Q:function(e,t){var n=e.content;return Object(k.a)(Object(k.a)({},e),{},{content:Object(k.a)(Object(k.a)({},n),{},{q:t(n.q)})})},A:function(e,t){var n=e.content;return Object(k.a)(Object(k.a)({},e),{},{content:Object(k.a)(Object(k.a)({},n),{},{a:t(n.a)})})}},dt=function(e,t,n,r,a){var c=function(e,t){return function(n){return st[e](n,t)}}(r,e);return!!a?ft[n](a,c):ft[n]({type:t,content:"Q-A"===t?{q:"",a:""}:""},c)},pt="cards",vt=pt+"/CARD_UPDATE",Ot=pt+"/CARD_PUSH",mt=pt+"/CARD_REMOVE",bt=function(e){return e.cards},Et=Object(B.a)(bt,(function(e){return e.lastCardIDNumber})),jt=Object(B.a)(bt,(function(e){return e.cards})),gt=function(e){return function(t,n){var r;t({type:Ot,payload:Object(k.a)(Object(k.a)({},e),{},{card:Object(k.a)(Object(k.a)({},e.card),{},{cardID:(r=Et(n()),(r+1).toString())})})})}},Ct=function(e){return{type:vt,payload:e}},Dt=function(e,t,n,r,a,c){return function(u,o){var i=o(),l=jt(i)[t],s=dt(e,l.type,n,r,l);u(Ct({riverID:a,card:c?Object(k.a)(Object(k.a)({},s),{},{origin:c}):s}))}},yt=function(e,t,n,r,a,c){var u=dt(e,a,t,n);return gt(c?{riverID:r,card:Object(k.a)(Object(k.a)({},u),{},{origin:c})}:{riverID:r,card:u})},St=function(e){return{type:mt,payload:e}},It={cards:{0:{cardID:"0",type:"Q-A",content:{q:"Was ist der Sinn des Lebens?",a:"42"}},1:{cardID:"1",type:"Q-A",content:{q:"Welches Layout macht mehr Sinn?",a:"??"}},2:{cardID:"2",type:"Note",content:"Note here"}},lastCardIDNumber:2},Rt=function(e,t){var n=Object(k.a)({},e.cards);return delete n[t],Object(k.a)(Object(k.a)({},e),{},{cards:n})},ht={services:p,constants:v,actionTypes:O,actions:b,reducer:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,r=arguments.length>1?arguments[1]:void 0,a=r.type,c=r.payload;switch(a){case Ot:var u=n.lastCardIDNumber+1;return(t=Object(k.a)({},n.cards))[c.card.cardID]=c.card,Object(k.a)(Object(k.a)({},n),{},{cards:t,lastCardIDNumber:u});case vt:return e=c.card.cardID,(t=Object(k.a)({},n.cards))[e]=c.card,Object(k.a)(Object(k.a)({},n),{},{cards:t});case mt:return Rt(n,c);default:return n}},selectors:m},At="cardRiverState",Mt=function(e){return e[At]},Pt=Object(B.a)(Mt,(function(e){return e.riverMakeUps})),Tt=Object(B.a)(Mt,(function(e){return e.activeRiverMakeUpID})),Nt=Object(B.a)(Pt,Tt,(function(e,t){return e[t]})),Ut=Object(B.a)(Nt,(function(e){return e.cardIDs})),kt=Object(B.a)(Ut,ht.selectors.getCards,(function(e,t){return e.map((function(e){return t[e]}))})),wt=Object(B.a)(Mt,(function(e){return e.riverShowState})),_t=Object(B.a)(wt,(function(e){return"SHOW"===e})),Lt=n(61),xt=function(e){var t=e.storeValue,n=void 0===t?"":t,r=e.saveChanges,a=e.style,c=Object(Lt.a)(e,["storeValue","saveChanges","style"]),u=Object(Ie.c)(),o=Object(R.useState)({storeValue:n,mutableValue:n}),i=Object(P.a)(o,2),l=i[0],s=i[1];return l.storeValue!==n&&s({storeValue:n,mutableValue:n}),h.a.createElement(Be.a,Object.assign({multiline:!0,onClick:function(){u(rt.actions.tryUpdateFocus("EDITOR"))},variant:"filled",value:l.mutableValue,onChange:function(e){var t=e.target.value;s(Object(k.a)(Object(k.a)({},l),{},{mutableValue:t}))},onBlur:function(e){r(e.target.value)},style:a},c))},Ft=n(106),Qt=n.n(Ft),qt=function(e){var t=e.cardID,n=Object(Ie.c)();return h.a.createElement(Me.a,{type:"button",onClick:function(){n(ht.actions.removeCard(t))}},h.a.createElement(Qt.a,null))},Bt=n(107),Vt=n.n(Bt),Ht=function(e){var t=e.cardOrigin,n=Object(Ie.c)();return h.a.createElement(Me.a,{type:"button",onClick:function(){n(Xe.actions.zoomToCardOrigin(t.spanIndex,t.page))}},h.a.createElement(Vt.a,null))},Wt=function(e){var t=e.config,n=e.riverID,r=Object(Ie.c)();return h.a.createElement("div",null,h.a.createElement(xt,{saveChanges:function(e){r(ht.actions.updateCardContent(e,t.cardID,"NOTE","REPLACE",n))},storeValue:t.content,label:"Note",variant:"filled",style:{backgroundColor:"#CBF3F0"},InputLabelProps:{style:{color:"#000000"}}}),h.a.createElement(qt,{cardID:t.cardID}),t.origin&&h.a.createElement(Ht,{cardOrigin:t.origin}))},Gt=function(e){var t=e.config,n=e.riverID,r=Object(Ie.c)();return h.a.createElement(T.a,{container:!0,direction:"column",spacing:1},h.a.createElement(T.a,{item:!0},h.a.createElement(xt,{saveChanges:function(e){r(ht.actions.updateCardContent(e,t.cardID,"Q","REPLACE",n))},storeValue:t.content.q,label:"Question",variant:"filled",style:{backgroundColor:"#FFBF69"},InputLabelProps:{style:{color:"#000000"}}})),h.a.createElement(T.a,{item:!0},h.a.createElement(xt,{saveChanges:function(e){r(ht.actions.updateCardContent(e,t.cardID,"A","REPLACE",n))},storeValue:t.content.a,label:"Answer",variant:"filled",style:{backgroundColor:"#2EC4B6"},InputLabelProps:{style:{color:"#000000"}}})),h.a.createElement(T.a,{item:!0},h.a.createElement(qt,{cardID:t.cardID}),t.origin&&h.a.createElement(Ht,{cardOrigin:t.origin})))},Xt=function(e){var t=e.config,n=e.riverID;switch(t.type){case"Note":return h.a.createElement(Wt,{config:t,riverID:n});case"Q-A":return h.a.createElement(Gt,{config:t,riverID:n})}},zt=n(231),Zt=function(){return h.a.createElement(T.a,{item:!0},h.a.createElement(zt.a,null))},Jt=n(238),Yt=n(232),Kt=n(233),$t=function(e){var t=e.gridItems,n=e.summary,r=Object(R.useState)(3),a=Object(P.a)(r,2),c=a[0],u=a[1];return h.a.createElement(Jt.a,{defaultExpanded:!0,onMouseEnter:function(){u(20)},onMouseLeave:function(){u(3)},elevation:c},h.a.createElement(Yt.a,null,n),h.a.createElement(Kt.a,null,h.a.createElement(T.a,{container:!0,direction:"column",spacing:2,justify:"center",alignItems:"stretch"},t)))},en=function(e){var t=e.riverID,n=e.riverCards,r=Object(R.useMemo)((function(){return function(e,t){var n=ce();return e.reduce((function(e,r,a,c){return e.push(h.a.createElement(T.a,{item:!0,key:n()},h.a.createElement(Xt,{config:r,riverID:t,key:n()}))),a<c.length-1&&e.push(h.a.createElement(Zt,{key:n()})),e}),[])}(n,t)}),[n,t]);return n.length>0?h.a.createElement($t,{gridItems:r,summary:t}):null},tn=function(){var e=Object(Ie.d)(Tt),t=Object(Ie.d)(kt);return h.a.createElement(en,{riverID:e,riverCards:t})},nn=n(108),rn=n.n(nn),an=n(109),cn=n.n(an),un=At+"/RIVER_SHOW_STATE",on=function(){var e=Object(R.useState)(!0),t=Object(P.a)(e,2),n=t[0],r=t[1],a=Object(Ie.c)();return h.a.createElement(Me.a,{type:"button",onClick:function(){a((function(e,t){e({type:un,payload:_t(t())?"HIDE":"SHOW"})})),r(!n)}},n?h.a.createElement(rn.a,null):h.a.createElement(cn.a,null))},ln=function(){var e=Object(Ie.d)(ht.selectors.getCards),t=Object.values(Object(Ie.d)(Pt));return h.a.createElement(U.a,{elevation:5},h.a.createElement(qe.a,{variant:"h4",align:"center"},"SummaryRiver"),t.map((function(t){return h.a.createElement(en,{riverID:t.riverID,riverCards:t.cardIDs.length>0?t.cardIDs.map((function(t){return e[t]})):[]})})))},sn=n(77),fn=function(e){return"CardRiver "+e},dn={riverMakeUps:Object(We.a)({},fn(1),{riverID:fn(1),cardIDs:["2","0","1"],active:!0}),activeRiverMakeUpID:fn(1),lastRiverIDNumber:1,riverShowState:"SHOW"},pn=function(e){return{riverID:fn(e),cardIDs:[],active:!0}},vn=function(e){for(var t=Object(k.a)({},e),n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach((function(e){t.riverMakeUps[e.riverID]=e})),t},On=function(e){return Object(k.a)(Object(k.a)({},e.riverMakeUps[e.activeRiverMakeUpID]),{},{active:!1})},mn=function(e,t){var n=Object.fromEntries(Object.entries(e.riverMakeUps).map((function(e){return[e[0],Object(k.a)(Object(k.a)({},e[1]),{},{cardIDs:e[1].cardIDs.filter((function(e){return e!==t}))})]})));return Object(k.a)(Object(k.a)({},e),{},{riverMakeUps:n})},bn={constants:E,components:g,reducer:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn,r=arguments.length>1?arguments[1]:void 0,a=r.type,c=r.payload;switch(a){case Xe.actionTypes.PAGE_UPDATE:var u;u=n.riverMakeUps[fn(c)]?Object(k.a)(Object(k.a)({},n.riverMakeUps[fn(c)]),{},{active:!0}):pn(c);var o=On(n);return Object(k.a)(Object(k.a)({},vn(n,u,o)),{},{activeRiverMakeUpID:u.riverID});case ht.actionTypes.CARD_PUSH:return e=Object(k.a)(Object(k.a)({},n.riverMakeUps[c.riverID]),{},{cardIDs:[].concat(Object(sn.a)(n.riverMakeUps[c.riverID].cardIDs),[c.card.cardID])}),(t=Object(k.a)({},n.riverMakeUps))[c.riverID]=e,Object(k.a)(Object(k.a)({},n),{},{riverMakeUps:t});case ht.actionTypes.CARD_REMOVE:return mn(n,c);case un:return Object(k.a)(Object(k.a)({},n),{},{riverShowState:c});default:return n}},selectors:j},En=function(e){return e[at]},jn=Object(B.a)(En,(function(e){return e.open})),gn=Object(B.a)(En,(function(e){return e.menuRef})),Cn=Object(B.a)(En,(function(e){return e.qaRefs})),Dn=function(e){return{x:0,y:0}},yn=Object(B.a)(Dn,jn,gn,Cn,bn.selectors.getActiveRiverCards,(function(e,t,n,r,a){return{position:e,state:t,menuRef:n,qaRefs:r,riverCards:a}})),Sn=Object(B.a)(En,(function(e){return e.manuallySelectedString})),In=Object(B.a)(En,(function(e){return e.selectedParentSpan})),Rn=function(){return function(e){e({type:ct}),e(rt.actions.toggleContextMenuFocus())}},hn=function(){return function(e){e({type:ut}),e(rt.actions.updateFocus("SELECTION"))}},An=function(){return function(e){e({type:ot}),e(rt.actions.updateFocus("SELECTION"))}},Mn=function(e,t,n,r){return function(a,c){a(hn());var u=c(),o="Q-A"===t?"REPLACE":"APPEND",i=Sn(u),l=void 0!==r,s=In(u),f=s?{spanIndex:Xe.selectors.getSpanIndex(u,s),page:Xe.selectors.getCurrentPage(u)}:void 0;a(l?ht.actions.updateCardContent(i,r,n,o,e,f):ht.actions.pushCardContent(i,n,o,e,t,f))}},Pn=function(e){return{type:it,payload:e}},Tn=function(){return Pn("")},Nn=function(e){return{type:lt,payload:e}},Un={open:!1,menuRef:Object(R.createRef)(),qaRefs:[Object(R.createRef)(),Object(R.createRef)()],manuallySelectedString:"",selectedParentSpan:null},kn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Un,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case ct:return Object(k.a)(Object(k.a)({},e),{},{open:!e.open});case ut:return Object(k.a)(Object(k.a)({},e),{},{open:!1});case ot:return Object(k.a)(Object(k.a)({},e),{},{open:!0});case ht.actionTypes.CARD_PUSH:return"Q-A"===r.card.type?Object(k.a)(Object(k.a)({},e),{},{qaRefs:[].concat(Object(sn.a)(e.qaRefs),[Object(R.createRef)()])}):e;case it:return Object(k.a)(Object(k.a)({},e),{},{manuallySelectedString:r});case lt:return Object(k.a)(Object(k.a)({},e),{},{selectedParentSpan:r});default:return e}},wn=n(115),_n=n(116),Ln=n(239),xn=function(e){var t=e.onClick;return h.a.createElement(Ln.a,{onClick:t},"New: Q-A")},Fn=function(e){var t=e.onClick;return h.a.createElement(Ln.a,{onClick:t},"New: Note")},Qn=function(e){var t=e.cardConfig,n=e.dispatchRiver;return h.a.createElement(Ln.a,{onClick:function(){n(t.type,"NOTE",t.cardID)}},t.type)},qn=function(e){var t=e.cardConfig,n=e.dispatchRiver,r=e.qaRef;return h.a.createElement(_n.a,{label:"Q-A",parentMenuOpen:!0},h.a.createElement(Ln.a,{ref:r,onClick:function(){n("Q-A","Q",t.cardID)}},"Q"),h.a.createElement(Ln.a,{onClick:function(){n("Q-A","A",t.cardID)}},"A"))},Bn=function(e){var t=e.cardConfig,n=e.dispatchRiver,r=e.qaRef;switch(t.type){case"Q-A":return h.a.createElement(qn,{cardConfig:t,dispatchRiver:n,qaRef:r});default:return h.a.createElement(Qn,{cardConfig:t,dispatchRiver:n})}};var Vn=Object(Ie.b)(yn)((function(e){var t=e.position,n=e.state,r=e.menuRef,a=e.qaRefs,c=e.riverCards,u=Object(Ie.c)(),o=function(e,t){return function(n,r,a){t(Mn(e,n,r,a))}}(Object(Ie.d)(bn.selectors.getActiveRiverMakeUpID),u),i=ce(),l=ce();return h.a.createElement(wn.a,{ref:r,keepMounted:!0,open:n,anchorReference:"anchorPosition",anchorPosition:n?{top:t.y,left:t.x}:void 0},n&&c.map((function(e){return h.a.createElement(Bn,{cardConfig:e,dispatchRiver:o,key:i(),qaRef:"Q-A"===e.type?a[l()]:void 0})})),n&&c.length>0&&h.a.createElement(zt.a,null),h.a.createElement(xn,{onClick:function(){o("Q-A","Q")}}),h.a.createElement(Fn,{onClick:function(){o("Note","NOTE")}}))})),Hn=function(e,t){var n,r=gn(e).current,a=Cn(e).map((function(e){return e.current})).filter((function(e){return!!e})).map((function(e){return e.parentNode})),c=t.target;if(null===r||void 0===r||null===(n=r.querySelector("div.MuiPaper-root"))||void 0===n?void 0:n.contains(c))return!0;var u,o=Object(ue.a)(a);try{for(o.s();!(u=o.n()).done;){if(u.value.contains(c))return!0}}catch(i){o.e(i)}finally{o.f()}return!1},Wn={actions:D,actionTypes:d,constants:f,components:y,reducer:kn,selectors:C,utils:S},Gn=function(e){return function(t,n){var r=e[t.key];r&&(t.preventDefault(),n(r))}},Xn={ArrowLeft:Xe.actions.previousPage(),ArrowRight:Xe.actions.nextPage()},zn={t:Wn.actions.toggleContextMenu()},Zn={SELECTION:Gn(Object(k.a)(Object(k.a)({},Xn),zn)),CONTEXT_MENU:Gn(Object(k.a)({},zn)),EDITOR:function(e,t){},CONTROL:function(e,t){}};var Jn=Object(Ie.b)((function(){return{}}),{keyDownControl:function(e){return function(t,n){var r=n(),a=rt.selectors.getFocus(r);(0,Zn[a])(e,t,r)}},mouseDownControl:function(e){return function(t,n){var r=n();Wn.selectors.getContextMenuState(r)&&(!Wn.utils.contextMenuContainsTargetNode(r,e)&&t(Wn.actions.closeContextMenu()))}},mouseUpControl:function(e){return function(e,t){var n=document.getSelection();if(n){var r=n.toString();if(""!==r){var a,c=t(),u=rt.selectors.getFocus(c);if("SELECTION"===u||"EDITOR"===u)e(Wn.actions.selectedParent(null===(a=n.anchorNode)||void 0===a?void 0:a.parentNode)),e(Wn.actions.updateManuallySelectedString(r)),e(Wn.actions.openContextMenu())}}}}})((function(e){var t=e.keyDownControl,n=e.mouseDownControl,r=e.mouseUpControl;return ze("keydown",t),ze("mousedown",n),ze("mouseup",r),null})),Yn=n(234),Kn=n(235),$n=function(){var e=Object(Ie.d)(Xe.selectors.getTotalPages);return h.a.createElement(Yn.a,{position:"static"},h.a.createElement(Kn.a,{variant:"dense"},h.a.createElement(T.a,null),h.a.createElement(bn.components.ShowRiverButton,null),h.a.createElement(Xe.components.ShowMaterialButton,null),h.a.createElement(zt.a,{orientation:"vertical",flexItem:!0}),e&&h.a.createElement(Xe.components.PageChooser,null),e&&h.a.createElement(Xe.components.PreviousButton,null),e&&h.a.createElement(Xe.components.NextButton,null)))},er={components:I},tr=function(){return h.a.createElement(T.a,{item:!0,style:{width:"38%"}},h.a.createElement(T.a,{container:!0,justify:"center",direction:"row",alignItems:"stretch",spacing:1},h.a.createElement(T.a,{item:!0},h.a.createElement(bn.components.SummaryRiver,null)),h.a.createElement(T.a,{item:!0},h.a.createElement(bn.components.ActiveCardRiver,null))))};var nr=Object(N.withSize)({monitorHeight:!0,noPlaceholder:!0})((function(e){var t=e.size,n=Object(Ie.c)(),r=Object(R.useState)(3),a=Object(P.a)(r,2),c=a[0],u=a[1];return h.a.createElement(T.a,{item:!0,style:{width:"60%"},onMouseEnter:function(){n(rt.actions.tryUpdateFocus("SELECTION")),u(20)},onMouseLeave:function(){u(3)}},h.a.createElement(U.a,{elevation:c},h.a.createElement(zt.a,null),h.a.createElement(Xe.components.PDFDocumentContainer,{parentSize:t}),h.a.createElement(Xe.components.PDFUploadContainer,null)))}));function rr(){var e=Object(Ie.c)(),t=Object(Ie.d)(Xe.selectors.displayStatusIsShow),n=Object(Ie.d)(bn.selectors.riverShowStateIsShow);return h.a.createElement("div",null,h.a.createElement(er.components.ControlContainer,null),h.a.createElement(T.a,{container:!0,justify:"center",direction:"column",alignItems:"stretch",spacing:1},h.a.createElement(T.a,{item:!0,onMouseEnter:function(){e(rt.actions.tryUpdateFocus("CONTROL"))}},h.a.createElement(er.components.ControlBar,null)),h.a.createElement(T.a,{item:!0,onMouseEnter:function(){e(rt.actions.tryUpdateFocus("EDITOR"))}},h.a.createElement(T.a,{container:!0,justify:"space-around",direction:"row",alignItems:"stretch"},n&&h.a.createElement(tr,null),t&&h.a.createElement(nr,null)))),h.a.createElement(Wn.components.ContextMenuContainer,null))}var ar,cr=n(17),ur=n(111),or=n(112),ir=n(63),lr=n(113),sr=n.n(lr),fr=Object(cr.combineReducers)((ar={},Object(We.a)(ar,rt.constants.NAME,rt.reducer),Object(We.a)(ar,Wn.constants.NAME,Wn.reducer),Object(We.a)(ar,bn.constants.NAME,bn.reducer),Object(We.a)(ar,Xe.constants.NAME,Xe.reducer),Object(We.a)(ar,ht.constants.NAME,ht.reducer),ar)),dr=Object(ir.a)((function(e){return Object(k.a)(Object(k.a)({},e),{},{menuRef:null,qaRefs:e.qaRefs.map((function(e){return null})),selectedParentSpan:null})}),(function(e){return Object(k.a)(Object(k.a)({},e),{},{menuRef:Object(R.createRef)(),qaRefs:e.qaRefs.map((function(e){return Object(R.createRef)()}))})}),{whitelist:[Wn.constants.NAME]}),pr=Object(ir.a)((function(e){return Object(k.a)(Object(k.a)({},e),{},{pdf:null,documentRef:null,materialData:null})}),(function(e){return Object(k.a)(Object(k.a)({},e),{},{pdf:void 0,documentRef:Object(R.createRef)(),materialData:{materialDataTimeStamp:-1/0}})}),{whitelist:[Xe.constants.NAME]}),vr={key:"root",storage:sr.a,transforms:[dr,pr]},Or=Object(ir.b)(vr,fr),mr=Object(ur.composeWithDevTools)({stateSanitizer:function(e){return e.displayData.pdf?Object(k.a)(Object(k.a)({},e),{},{displayData:Object(k.a)(Object(k.a)({},e.displayData),{},{pdf:"PDF_FILE_IS_HERE"})}):e}})(Object(cr.applyMiddleware)(or.a)),br=Object(cr.createStore)(Or,mr),Er=Object(ir.c)(br),jr=n(114);M.a.render(h.a.createElement(h.a.StrictMode,null,h.a.createElement(Ie.a,{store:br},h.a.createElement(jr.a,{loading:null,persistor:Er},h.a.createElement(rr,null)))),document.getElementById("root"))},66:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=66}},[[123,1,2]]]);
//# sourceMappingURL=main.e3c36e08.chunk.js.map