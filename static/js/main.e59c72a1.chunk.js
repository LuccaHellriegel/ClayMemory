(this.webpackJsonpclaymemory=this.webpackJsonpclaymemory||[]).push([[0],{173:function(e,t,n){e.exports=n(245)},182:function(e,t,n){},205:function(e,t){},206:function(e,t){},207:function(e,t){},208:function(e,t){},209:function(e,t){},245:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"NAME",(function(){return Q}));var a={};n.r(a),n.d(a,"PDF_UPLOADED",(function(){return W})),n.d(a,"MATERIAL_LOADED",(function(){return z})),n.d(a,"DISPLAY_STATUS",(function(){return J})),n.d(a,"PAGE_UPDATE",(function(){return K})),n.d(a,"SPAN_ORIGIN",(function(){return Y})),n.d(a,"DOCUMENT_SEARCH",(function(){return X})),n.d(a,"WINDOW_LAYOUT",(function(){return $})),n.d(a,"TOP_OFFSET",(function(){return Z})),n.d(a,"VIEW_CHANGE",(function(){return ee}));var c={};n.r(c),n.d(c,"getAll",(function(){return ce})),n.d(c,"getPDF",(function(){return oe})),n.d(c,"getWindowMeasurements",(function(){return ie})),n.d(c,"getPDFName",(function(){return ue})),n.d(c,"getTotalPages",(function(){return le})),n.d(c,"getCurrentPage",(function(){return se})),n.d(c,"getScrollToPage",(function(){return de})),n.d(c,"getPageControlData",(function(){return fe})),n.d(c,"getDisplayStatus",(function(){return me})),n.d(c,"displayStatusIsShow",(function(){return pe})),n.d(c,"getSpanOrigin",(function(){return Ee})),n.d(c,"getDocumentSearch",(function(){return ve})),n.d(c,"getTopOffset",(function(){return be})),n.d(c,"getCurrentView",(function(){return Oe}));var o={};n.r(o),n.d(o,"widthPixels",(function(){return ye})),n.d(o,"pdfUpload",(function(){return De})),n.d(o,"materialLoaded",(function(){return je})),n.d(o,"setPage",(function(){return Ce})),n.d(o,"movePage",(function(){return he})),n.d(o,"nextPage",(function(){return Se})),n.d(o,"previousPage",(function(){return Te})),n.d(o,"pageControlDispatcher",(function(){return Ie})),n.d(o,"toggleDisplayState",(function(){return Ne})),n.d(o,"setSpanOrigin",(function(){return Re})),n.d(o,"resetSpanOrigin",(function(){return we})),n.d(o,"setDocumentSearch",(function(){return ke})),n.d(o,"resetDocumentSearch",(function(){return Me})),n.d(o,"setTopOffset",(function(){return xe})),n.d(o,"setView",(function(){return Pe}));var i={};n.r(i),n.d(i,"switchToActiveRiverTooltip",(function(){return Qe})),n.d(i,"switchToSummaryRiverTooltip",(function(){return We})),n.d(i,"undoTooltip",(function(){return ze})),n.d(i,"redoTooltip",(function(){return Je})),n.d(i,"nextPageTooltip",(function(){return Ke})),n.d(i,"previousPageTooltip",(function(){return Ye})),n.d(i,"deleteCardTooltip",(function(){return Xe})),n.d(i,"jumpToOriginTooltip",(function(){return $e})),n.d(i,"ChoiceCardAsAppendGoal",(function(){return Ze})),n.d(i,"AppendToCardTooltip",(function(){return et})),n.d(i,"CardIsAppendGoalTooltip",(function(){return tt})),n.d(i,"ChoiceCardAsReplaceGoal",(function(){return nt})),n.d(i,"ReplaceCardTooltip",(function(){return rt})),n.d(i,"CardIsReplaceGoalTooltip",(function(){return at})),n.d(i,"newQACardTooltip",(function(){return ct})),n.d(i,"newNoteCardTooltip",(function(){return ot})),n.d(i,"deleteDocumentTooltip",(function(){return it})),n.d(i,"loadSavedDocumentTooltip",(function(){return ut})),n.d(i,"noMaterialText",(function(){return lt})),n.d(i,"loadingMaterialText",(function(){return st})),n.d(i,"activeDocumentText",(function(){return dt})),n.d(i,"existingDataText",(function(){return ft})),n.d(i,"loadMaterialText",(function(){return mt})),n.d(i,"downloadDatasetsText",(function(){return pt})),n.d(i,"uploadDatasetsText",(function(){return Et})),n.d(i,"noteText",(function(){return vt})),n.d(i,"questionText",(function(){return bt})),n.d(i,"answerText",(function(){return Ot})),n.d(i,"defaultEnterDelay",(function(){return gt})),n.d(i,"defaultEnterNextDelay",(function(){return yt}));var u={};n.r(u),n.d(u,"NewNoteCardTooltip",(function(){return Dt})),n.d(u,"AddQAButtonTooltip",(function(){return jt})),n.d(u,"DeleteCardButtonTooltip",(function(){return Ct}));var l={};n.r(l),n.d(l,"NAME",(function(){return Ut}));var s={};n.r(s),n.d(s,"CARD_REPLACE",(function(){return _t})),n.d(s,"CARD_PUSH",(function(){return Ft})),n.d(s,"CARD_REMOVE",(function(){return Ht}));var d={};n.r(d),n.d(d,"toFieldValue",(function(){return Vt})),n.d(d,"createReplace",(function(){return Gt})),n.d(d,"changeCardObject",(function(){return Qt}));var f={};n.r(f),n.d(f,"emptyContent",(function(){return Jt})),n.d(f,"noteContentIsEmpty",(function(){return Kt})),n.d(f,"qaContentIsNotFull",(function(){return Yt})),n.d(f,"strToCardContent",(function(){return Zt})),n.d(f,"strToNewCardContent",(function(){return en})),n.d(f,"noteContentContainsStringOrEmpty",(function(){return tn})),n.d(f,"qaContentContainsStringOrEmpty",(function(){return nn}));var m={};n.r(m),n.d(m,"cardIDToNumber",(function(){return rn})),n.d(m,"nextCardID",(function(){return an})),n.d(m,"cardIsNotFull",(function(){return on})),n.d(m,"strToCardConfig",(function(){return un})),n.d(m,"cardFieldToType",(function(){return sn}));var p={};n.r(p),n.d(p,"getAll",(function(){return dn})),n.d(p,"getLastCardIDNumber",(function(){return fn})),n.d(p,"getCards",(function(){return mn})),n.d(p,"getCardByID",(function(){return pn}));var E={};n.r(E),n.d(E,"cardPush",(function(){return En})),n.d(E,"emptyNoteCard",(function(){return vn})),n.d(E,"emptyQACard",(function(){return bn})),n.d(E,"cardReplace",(function(){return On})),n.d(E,"replaceCardFieldContent",(function(){return gn})),n.d(E,"removeCard",(function(){return yn}));var v={};n.r(v),n.d(v,"AddNoteButton",(function(){return Cn})),n.d(v,"AddQAButton",(function(){return Tn})),n.d(v,"DeleteCardButton",(function(){return Nn}));var b={};n.r(b),n.d(b,"emptyOrigin",(function(){return kn})),n.d(b,"singleOriginToCardOrigin",(function(){return Mn}));var O={};n.r(O),n.d(O,"config",(function(){return m})),n.d(O,"origin",(function(){return b})),n.d(O,"permutation",(function(){return d})),n.d(O,"content",(function(){return f}));var g={};n.r(g),n.d(g,"NAME",(function(){return _n}));var y={};n.r(y),n.d(y,"ARCHIVE_CURRENT_DATA",(function(){return Fn})),n.d(y,"LOAD_DOCUMENT_DATA_SETS",(function(){return Hn})),n.d(y,"DELETE_DOCUMENT_DATA_SET",(function(){return Bn})),n.d(y,"DOCUMENT_CHANGE",(function(){return Vn}));var D={};n.r(D),n.d(D,"archiveDBData",(function(){return qn})),n.d(D,"loadDocumentDataSets",(function(){return Gn})),n.d(D,"deleteDocumentDataSet",(function(){return Qn}));var j={};n.r(j),n.d(j,"getAll",(function(){return $n})),n.d(j,"getDocumentNames",(function(){return Zn})),n.d(j,"getDocumentDataSets",(function(){return er}));var C={};n.r(C),n.d(C,"NAME",(function(){return ar}));var h={};n.r(h),n.d(h,"pageNumberToRiverMakeUpID",(function(){return ur})),n.d(h,"riverMakeUpIDToPageNumber",(function(){return lr})),n.d(h,"emptyCardRiver",(function(){return sr})),n.d(h,"updateStateWithMakeUps",(function(){return dr})),n.d(h,"removeCardFromRivers",(function(){return fr}));var S={};n.r(S),n.d(S,"getAll",(function(){return mr})),n.d(S,"getRiverMakeUps",(function(){return pr})),n.d(S,"getNonEmptyRiverIDs",(function(){return Er})),n.d(S,"getNonEmptyRiverIDsSorted",(function(){return vr})),n.d(S,"getNonEmptyRiverMakeUpsSorted",(function(){return br})),n.d(S,"getNonEmptyRiverCardsSorted",(function(){return Or})),n.d(S,"getActiveRiverMakeUpID",(function(){return gr})),n.d(S,"getActiveRiverMakeUp",(function(){return yr})),n.d(S,"getActiveRiverCardIDs",(function(){return Dr})),n.d(S,"getActiveRiverCards",(function(){return jr})),n.d(S,"getRiverShowState",(function(){return Cr})),n.d(S,"riverShowStateIsShow",(function(){return hr})),n.d(S,"getLastRiverIDNumber",(function(){return Sr})),n.d(S,"getRiverContentState",(function(){return Tr})),n.d(S,"getRiverContentFilter",(function(){return Ar})),n.d(S,"getOriginRequest",(function(){return Ir}));var T={};n.r(T),n.d(T,"toggleRiverShowState",(function(){return xr})),n.d(T,"setRiverContentState",(function(){return Pr})),n.d(T,"setActiveRiver",(function(){return Lr})),n.d(T,"trySetActiveRiver",(function(){return Ur})),n.d(T,"setContentFilter",(function(){return _r})),n.d(T,"resetContentFilter",(function(){return Fr})),n.d(T,"setOriginRequest",(function(){return Hr})),n.d(T,"resetOriginRequest",(function(){return Br}));var A={};n.r(A),n.d(A,"NAME",(function(){return Xr}));var I={};n.r(I),n.d(I,"SELECTION_SOURCE",(function(){return $r})),n.d(I,"SELECTION_GOAL",(function(){return Zr}));var N={};n.r(N),n.d(N,"getAll",(function(){return ea})),n.d(N,"getGoalConfig",(function(){return ta})),n.d(N,"getSourceConfig",(function(){return na})),n.d(N,"sourceConfigExists",(function(){return ra}));var R={};n.r(R),n.d(R,"selectionToCard",(function(){return aa}));var w={};n.r(w),n.d(w,"resetSelectionSource",(function(){return ia})),n.d(w,"resetSelectionGoal",(function(){return ua})),n.d(w,"addSelectionSource",(function(){return la})),n.d(w,"addMaterialSelectionSource",(function(){return sa})),n.d(w,"addCardSelectionSource",(function(){return da})),n.d(w,"addSelectionGoal",(function(){return fa})),n.d(w,"addCardAppendSelectionGoal",(function(){return ma})),n.d(w,"addCardReplaceSelectionGoal",(function(){return pa}));var k={};n.r(k),n.d(k,"SelectionSnackbar",(function(){return ya})),n.d(k,"MaterialMouseUp",(function(){return Da})),n.d(k,"CardFieldMouseUp",(function(){return ja})),n.d(k,"AppendButton",(function(){return Aa})),n.d(k,"ContextMenu",(function(){return Ra})),n.d(k,"ReplaceButton",(function(){return Pa}));var M={};n.r(M),n.d(M,"getSelectionWorkaround",(function(){return ca})),n.d(M,"use_selection",(function(){return R}));var x={};n.r(x),n.d(x,"RiverContentFormGroup",(function(){return Wr})),n.d(x,"CardRiver",(function(){return za})),n.d(x,"SwitchActiveRiver",(function(){return Ja})),n.d(x,"ClayCard",(function(){return Qa}));var P={};n.r(P),n.d(P,"PageChooser",(function(){return Mt})),n.d(P,"PageNavigation",(function(){return At})),n.d(P,"PageKeyboardControl",(function(){return xt})),n.d(P,"HTMLElementMeasurer",(function(){return Lt})),n.d(P,"Display",(function(){return yc})),n.d(P,"ViewTabs",(function(){return Cc}));var L={};n.r(L),n.d(L,"collectCurrentDBData",(function(){return Ic}));var U={};n.r(U),n.d(U,"archiveCurrentDBData",(function(){return Nc})),n.d(U,"downloadDBData",(function(){return wc})),n.d(U,"changeDocument",(function(){return kc})),n.d(U,"loadSavedDocument",(function(){return Mc})),n.d(U,"deleteDocument",(function(){return xc}));var _={};n.r(_),n.d(_,"ControlBar",(function(){return To}));var F,H=n(0),B=n.n(H),V=n(16),q=n.n(V),G=n(281),Q="displayData",W=Q+"/PDF_UPLOADED",z=Q+"/MATERIAL_LOADED",J=Q+"/DISPLAY_STATUS",K=Q+"/PAGE_UPDATE",Y=Q+"/SPAN_ORIGIN",X=Q+"/DOCUMENT_SEARCH",$=Q+"/WINDOW_LAYOUT",Z=Q+"/TOP_OFFSET",ee=Q+"/VIEW_CHANGE";!function(e){e[e.RiverMaterial=0]="RiverMaterial",e[e.RiverExplorer=1]="RiverExplorer",e[e.CardExplorer=2]="CardExplorer"}(F||(F={}));var te,ne=function(e,t){return e===t+1?1:e},re=function(e,t){return 0===e?t:e},ae=n(12),ce=function(e){return e[Q]},oe=Object(ae.a)(ce,(function(e){return e.pdf})),ie=Object(ae.a)(ce,(function(e){return e.windowMeasurements})),ue=Object(ae.a)(ce,(function(e){return e.pdfName})),le=Object(ae.a)(ce,(function(e){return e.totalPages})),se=Object(ae.a)(ce,(function(e){return e.currentPage})),de=Object(ae.a)(ce,(function(e){return e.scrollToPage})),fe=Object(ae.a)(le,se,(function(e,t){return{currentPage:t,totalPages:e}})),me=Object(ae.a)(ce,(function(e){return e.displayStatus})),pe=Object(ae.a)(me,(function(e){return"SHOW"===e})),Ee=Object(ae.a)(ce,(function(e){return e.spanOrigin})),ve=Object(ae.a)(ce,(function(e){return e.documentSearch})),be=Object(ae.a)(ce,(function(e){return e.topOffset})),Oe=Object(ae.a)(ce,(function(e){return e.currentView})),ge=function(){var e=0;return function(){var t=e;return e++,t}},ye=function(e){return{type:$,payload:e}},De=function(e){return{type:W,payload:e}},je=function(e){return{type:z,payload:e}},Ce=function(e,t){return{type:K,payload:{page:e,shouldScroll:t}}},he=function(e){return function(t,n){var r=fe(n()),a=r.currentPage,c=r.totalPages;switch(e){case"NEXT":t(Ce(ne(a+1,c),!0));break;case"PREVIOUS":t(Ce(re(a-1,c),!0))}}},Se=function(){return he("NEXT")},Te=function(){return he("PREVIOUS")},Ae={ArrowLeft:Te(),ArrowRight:Se()},Ie=(te=Ae,function(e,t){var n=te[e.key];n&&(e.preventDefault(),t(n))}),Ne=function(){return function(e,t){var n="SHOW"===me(t())?"HIDE":"SHOW";e({type:J,payload:n})}},Re=function(e){return{type:Y,payload:e}},we=function(){return Re(null)},ke=function(e){return{type:X,payload:e}},Me=function(){return ke("")},xe=function(e){return{type:Z,payload:e}},Pe=function(e){return{type:ee,payload:e}},Le=n(5),Ue=n(302),_e=n(105),Fe=n(280),He=n(282),Be=n(133),Ve=n.n(Be),qe=n(132),Ge=n.n(qe),Qe="Switch to the Active-River view",We="Switch to the Summary-River view",ze="Undo last action",Je="Redo last action",Ke="Next page",Ye="Previous page",Xe="Delete this card",$e="Jump to the origin of the card content",Ze="Mark this card field as the goal of the next selection",et="Add the current selection to this card field",tt="The next selection will be added to this card field (click to unselect)",nt="Mark this card field to be replaced by the next selection",rt="Replace this card field with the current selection",at="The next selection will replace this card field (click to unselect)",ct="Create new QA-card",ot="Create new Note-card",it="Delete this document and all its corresponding cards",ut="Load the card data of this document",lt="No PDF file specified.",st="Loading PDF\u2026",dt="Active Document:",ft="Inactive documents with existing data:",mt="Load document",pt="Download document datasets",Et="Upload document datasets",vt="Note",bt="Question",Ot="Answer",gt=500,yt=1e3,Dt=function(e){var t=e.children;return B.a.createElement(Ue.a,{title:ot,enterDelay:gt,enterNextDelay:yt},t)},jt=function(e){var t=e.children;return B.a.createElement(Ue.a,{title:ct,enterDelay:gt,enterNextDelay:yt},t)},Ct=function(e){var t=e.children;return B.a.createElement(Ue.a,{title:Xe,enterDelay:gt,enterNextDelay:yt},t)},ht={components:u,constants:i},St=function(){var e=Object(Le.b)();return B.a.createElement(Ue.a,{title:ht.constants.previousPageTooltip,enterDelay:ht.constants.defaultEnterDelay,enterNextDelay:ht.constants.defaultEnterNextDelay},B.a.createElement(_e.a,{type:"button",onClick:function(){e(Te())}},B.a.createElement(Ge.a,null)))},Tt=function(){var e=Object(Le.b)();return B.a.createElement(Ue.a,{title:ht.constants.nextPageTooltip,enterDelay:ht.constants.defaultEnterDelay,enterNextDelay:ht.constants.defaultEnterNextDelay},B.a.createElement(_e.a,{type:"button",onClick:function(){e(Se())}},B.a.createElement(Ve.a,null)))},At=function(){return B.a.createElement(Fe.a,{variant:"outlined"},B.a.createElement(G.a,{container:!0,direction:"row"},B.a.createElement(G.a,{item:!0},B.a.createElement(St,null)),B.a.createElement(G.a,{item:!0},B.a.createElement(He.a,{orientation:"vertical"})),B.a.createElement(G.a,{item:!0},B.a.createElement(Tt,null))))},It=n(6),Nt=n(20),Rt=n(297),wt=n(108),kt=/(\D)/,Mt=function(){var e=Object(Le.b)(),t=Object(Le.c)(fe),n=t.currentPage,r=t.totalPages,a=Object(H.useState)({error:!1,value:null===n||void 0===n?void 0:n.toString(),userInput:null===n||void 0===n?void 0:n.toString()}),c=Object(Nt.a)(a,2),o=c[0],i=c[1];return o.value!==n.toString()&&i({error:!1,value:n.toString(),userInput:n.toString()}),B.a.createElement(Fe.a,{variant:"outlined"},B.a.createElement(G.a,{item:!0},B.a.createElement(G.a,{container:!0,direction:"row",alignItems:"center",justify:"space-between"},B.a.createElement(G.a,{item:!0,style:{width:"37%"}},B.a.createElement(Rt.a,{inputProps:{style:{padding:"0px",fontSize:"1.25rem",fontFamily:'"Roboto", "Helvetica", "Arial", sansSerif',fontWeight:500,lineHeight:1.6,letterSpacing:"0.0075em"}},type:"text",variant:"filled",value:o.userInput,onKeyDown:function(t){if("Enter"===t.key){t.preventDefault();var n=t.target.value;o.error||e(Ce(parseInt(n),!0))}},onChange:function(e){var t=e.target.value;!function(e,t){if(""===e||null!==e.trim().match(kt))return!1;var n=parseInt(e);return!(n<1||t<n)}(t,r)?i(Object(It.a)(Object(It.a)({},o),{},{error:!0,userInput:t})):i(Object(It.a)(Object(It.a)({},o),{},{error:!1,userInput:t}))},error:o.error})),B.a.createElement(G.a,{item:!0,style:{width:"61%"}},B.a.createElement(wt.a,{variant:"h6"},"of ",r)))))},xt=function(e){var t=e.children,n=Object(Le.b)(),r=Object(H.useRef)(null);return B.a.createElement("span",{ref:r,onKeyDown:function(e){Ie(e,n)},tabIndex:0},t)},Pt=n(134),Lt=function(){var e=Object(Le.b)(),t=Object(Pt.debounce)(50,(function(){var t=document.documentElement,n=t.clientWidth,r=t.clientHeight;e(ye({width:n,height:r}))}));return Object(H.useLayoutEffect)((function(){t()}),[t]),Object(H.useEffect)((function(){return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}})),null},Ut="cards",_t=Ut+"/CARD_REPLACE",Ft=Ut+"/CARD_PUSH",Ht=Ut+"/CARD_REMOVE",Bt={note:function(e){return e},q:function(e){return e.q},a:function(e){return e.a}},Vt=function(e,t){return Bt[e](t)},qt={note:function(e,t){return t(e)},q:function(e,t){return Object(It.a)(Object(It.a)({},e),{},{q:t(e.q)})},a:function(e,t){return Object(It.a)(Object(It.a)({},e),{},{a:t(e.a)})}},Gt=function(e){return function(t){return e}},Qt=function(e){var t=Vt(e.inputField,e.inputObject),n=e.createModify(t);return function(e,t,n){return qt[e](t,n)}(e.fieldToBeChanged,e.objectToBeChanged,n)},Wt=function(){return{q:"",a:""}},zt={q:Wt,a:Wt,note:function(){return""}},Jt=function(e){return zt[e]()},Kt=function(e){return""===e},Yt=function(e){return""===e.q||""===e.a},Xt={APPEND:function(e){return function(t){return(t+" "+e).trim()}},REPLACE:Gt},$t=function(e){return Xt[e]},Zt=function(e,t,n,r){var a={inputObject:e,inputField:"note",fieldToBeChanged:t,objectToBeChanged:r,createModify:$t(n)};return Qt(a)},en=function(e,t){var n=Jt(t);return Zt(e,t,"REPLACE",n)},tn=function(e,t){return""===e.content||e.content.includes(t)},nn=function(e,t){return""===e.content.a||""===e.content.q||e.content.a.includes(t)||e.content.q.includes(t)},rn=function(e){return parseInt(e)},an=function(e){return(e+1).toString()},cn={Note:function(e){return Kt(e.content)},"Q-A":function(e){return Yt(e.content)}},on=function(e){return cn[e.type](e)},un=function(e,t,n,r){var a=Zt(e,t,n,r.content);return Object(It.a)(Object(It.a)({},r),{},{content:a})},ln={q:"Q-A",a:"Q-A",note:"Note"},sn=function(e){return ln[e]},dn=function(e){return e[Ut].present},fn=Object(ae.a)(dn,(function(e){return e.lastCardIDNumber})),mn=Object(ae.a)(dn,(function(e){return e.cards})),pn=function(e,t){return mn(e)[t]},En=function(e){return function(t,n){var r,a;t({type:Ft,payload:(r=e,a=n(),Object(It.a)(Object(It.a)({},r),{},{cardID:an(fn(a))}))})}},vn=function(){return En({type:"Note",content:""})},bn=function(){return En({type:"Q-A",content:{q:"",a:""}})},On=function(e){return{type:_t,payload:e}},gn=function(e,t,n){return On(un(n,e,"REPLACE",t))},yn=function(e){return{type:Ht,payload:e}},Dn=n(135),jn=n.n(Dn),Cn=function(){var e=Object(Le.b)();return B.a.createElement(ht.components.NewNoteCardTooltip,null,B.a.createElement(_e.a,{type:"button",onClick:function(){e(vn())}},B.a.createElement(jn.a,null)))},hn=n(136),Sn=n.n(hn),Tn=function(){var e=Object(Le.b)();return B.a.createElement(ht.components.AddQAButtonTooltip,null,B.a.createElement(_e.a,{type:"button",onClick:function(){e(bn())}},B.a.createElement(Sn.a,null)))},An=n(137),In=n.n(An),Nn=function(e){var t=e.cardID,n=Object(Le.b)();return B.a.createElement(ht.components.DeleteCardButtonTooltip,null,B.a.createElement(_e.a,{type:"button",onClick:function(){n(yn(t))}},B.a.createElement(In.a,{fontSize:"small"})))},Rn=function(){return{q:{},a:{}}},wn={q:Rn,a:Rn,note:function(){return""}},kn=function(e){return wn[e]()},Mn=function(e,t,n){var r={inputObject:e,inputField:"note",fieldToBeChanged:t,objectToBeChanged:n||kn(t),createModify:Gt};return Qt(r)},xn=function(e,t){var n=Object(It.a)({},e.cards);return delete n[t],Object(It.a)(Object(It.a)({},e),{},{cards:n})},Pn=function(e,t,n){return Object(It.a)(Object(It.a)({},e),{},{cards:t,lastCardIDNumber:n})},Ln=function(e,t){var n=Object(It.a)({},e);return n[t.cardID]=t,n},Un=Ln,_n="documentDB",Fn=_n+"/ARCHIVE_CURRENT_DATA",Hn=_n+"/LOAD_DOCUMENT_DATA_SETS",Bn=_n+"/DELETE_DOCUMENT_DATA_SET",Vn=_n+"/DOCUMENT_CHANGE",qn=function(e){return{type:Fn,payload:e}},Gn=function(e,t){return{type:Hn,payload:{dbData:e,newActiveDataSet:t}}},Qn=function(e){return{type:Bn,payload:e}},Wn=n(38),zn=function(e,t){return Object(It.a)(Object(It.a)({},e),{},Object(Wn.a)({},t.name,t))},Jn=function(e,t){return Object(It.a)(Object(It.a)({},e),t.reduce((function(e,t){return e[t.name]=t,e}),{}))},Kn=function(e,t){return Object.fromEntries(Object.entries(e).filter((function(e){return e[0]!==t})))},Yn={},Xn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yn,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Fn:return zn(e,r);case Hn:return Jn(e,r.dbData);case Bn:return Kn(e,r);default:return e}},$n=function(e){return e[_n].present},Zn=Object(ae.a)($n,(function(e){return Object.keys(e)})),er=Object(ae.a)($n,(function(e){return Object.values(e)})),tr={actions:D,actionTypes:y,constants:g,reducer:Xn,selectors:j},nr={cards:{0:{cardID:"0",type:"Q-A",content:{q:"Was ist der Sinn des Lebens?",a:"42"}},1:{cardID:"1",type:"Q-A",content:{q:"Welches Layout macht mehr Sinn?",a:"??"}},2:{cardID:"2",type:"Note",content:"Note here"}},lastCardIDNumber:2},rr={constants:l,actionTypes:s,actions:E,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nr,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Ft:var a=rn(r.cardID)+1;return Object(It.a)(Object(It.a)({},e),{},{cards:Un(e.cards,r),lastCardIDNumber:a});case _t:var c=null;return Object(It.a)(Object(It.a)({},e),{},{cards:Ln(e.cards,r),goalCard:c});case Ht:return xn(e,r);case tr.actionTypes.DOCUMENT_CHANGE:return r?Pn(nr,r.cards,r.lastCardIDNumber):nr;case tr.actionTypes.LOAD_DOCUMENT_DATA_SETS:return r.newActiveDataSet?Pn(nr,r.cards,r.lastCardIDNumber):e;default:return e}},selectors:p,components:v,model:O},ar="cardRiverState",cr=n(284),or=n(285),ir=n(72),ur=function(e){return"CardRiver "+e},lr=function(e){return parseInt(e.replace("CardRiver ",""))},sr=function(e){return{riverID:ur(e),cardIDs:[]}},dr=function(e){for(var t=Object(It.a)({},e),n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach((function(e){t.riverMakeUps[e.riverID]=e})),t},fr=function(e,t){var n=Object.fromEntries(Object.entries(e.riverMakeUps).map((function(e){return[e[0],Object(It.a)(Object(It.a)({},e[1]),{},{cardIDs:e[1].cardIDs.filter((function(e){return e!==t}))})]})).filter((function(e){return 0!==e[1].cardIDs.length})));return Object(It.a)(Object(It.a)({},e),{},{riverMakeUps:n})},mr=function(e){return e[ar].present},pr=Object(ae.a)(mr,(function(e){return e.riverMakeUps})),Er=Object(ae.a)(pr,(function(e){return Object.keys(e)})),vr=Object(ae.a)(Er,(function(e){return e.sort((function(e,t){return lr(e)-lr(t)}))})),br=Object(ae.a)(pr,(function(e){return Object.values(e).sort((function(e,t){return lr(e.riverID)-lr(t.riverID)}))})),Or=Object(ae.a)(br,rr.selectors.getCards,(function(e,t){var n,r=[],a=Object(ir.a)(e);try{for(a.s();!(n=a.n()).done;){var c,o=n.value,i=Object(ir.a)(o.cardIDs);try{for(i.s();!(c=i.n()).done;){var u=c.value;r.push(t[u])}}catch(l){i.e(l)}finally{i.f()}}}catch(l){a.e(l)}finally{a.f()}return r})),gr=Object(ae.a)(mr,(function(e){return e.activeRiverMakeUpID})),yr=Object(ae.a)(pr,gr,(function(e,t){var n=e[t];return n||{cardIDs:[]}})),Dr=Object(ae.a)(yr,(function(e){return e.cardIDs})),jr=Object(ae.a)(Dr,rr.selectors.getCards,(function(e,t){return e.map((function(e){return t[e]}))})),Cr=Object(ae.a)(mr,(function(e){return e.riverShowState})),hr=Object(ae.a)(Cr,(function(e){return"SHOW"===e})),Sr=Object(ae.a)(mr,(function(e){return e.lastRiverIDNumber})),Tr=Object(ae.a)(mr,(function(e){return e.riverContentState})),Ar=Object(ae.a)(mr,(function(e){return e.contentFilter})),Ir=Object(ae.a)(mr,(function(e){return e.requestedOrigin})),Nr=ar+"/RIVER_ACTIVE_ID",Rr=ar+"/RIVER_SHOW_STATE",wr=ar+"/RIVER_CONTENT_STATE",kr=ar+"/RIVER_CONTENT_FILTER",Mr=ar+"/ORIGIN_REQUEST",xr=function(){return function(e,t){e({type:Rr,payload:hr(t())?"HIDE":"SHOW"})}},Pr=function(e){return{type:wr,payload:e}},Lr=function(e){return{type:Nr,payload:e}},Ur=function(e){return function(t,n){gr(n())!==e&&t(Lr(e))}},_r=function(e){return{type:kr,payload:e}},Fr=function(){return{type:kr,payload:""}},Hr=function(e){return{type:Mr,payload:e}},Br=function(){return Hr(null)},Vr=n(8),qr=n(299),Gr=n(91),Qr=Object(Vr.a)({root:{color:Gr.a[400],"&$checked":{color:Gr.a[600]}},checked:{}})((function(e){return B.a.createElement(qr.a,Object.assign({color:"default"},e))})),Wr=function(){var e=Object(Le.c)(Tr),t=Object(Le.b)(),n="ALL"===e||"QAS"===e,r="ALL"===e||"NOTES"===e,a=function(e){n||"QAS"!==e?r||"NOTES"!==e?n&&"QAS"===e?t(Pr(r?"NOTES":"NONE")):r&&"NOTES"===e&&t(Pr(n?"QAS":"NONE")):t(Pr(n?"ALL":"NOTES")):t(Pr(r?"ALL":"QAS"))};return B.a.createElement(cr.a,null,B.a.createElement(or.a,{control:B.a.createElement(Qr,{checked:n,onClick:function(){a("QAS")}}),label:"QAs"}),B.a.createElement(or.a,{control:B.a.createElement(Qr,{checked:r,onClick:function(){a("NOTES")}}),label:"Notes"}))},zr=n(301),Jr=n(286),Kr=n(287),Yr=n(161),Xr="selectionData",$r=Xr+"/SELECTION_SOURCE",Zr=Xr+"/SELECTION_GOAL",ea=function(e){return e[Xr].present},ta=Object(ae.a)(ea,(function(e){return e.goalConfig})),na=Object(ae.a)(ea,(function(e){return e.sourceConfig})),ra=Object(ae.a)(na,(function(e){return!!e})),aa=function(e,t,n,r){if(function(e){return!!!e.cardID}(t)){var a=function(e,t){var n=e.contentOrigin,r=e.contentStr,a=t.cardField;return{type:rr.model.config.cardFieldToType(a),content:rr.model.content.strToNewCardContent(r,a),origin:n?rr.model.origin.singleOriginToCardOrigin(n,a):void 0}}(e,t);n(rr.actions.cardPush(a))}else{var c=function(e,t,n){var r=rr.selectors.getCardByID(n,t.cardID),a=e.contentOrigin,c=e.contentStr,o=t.cardField;return Object(It.a)(Object(It.a)({},r),{},{content:rr.model.content.strToCardContent(c,o,t.updateType,r.content),origin:a?rr.model.origin.singleOriginToCardOrigin(a,o,r.origin):r.origin})}(e,t,r);n(rr.actions.cardReplace(c))}},ca=function(){var e=window.getSelection();if(!e)return null;try{var t=document.activeElement;if(t&&t.value){var n=t.value.substring(t.selectionStart,t.selectionEnd);return""===n?null:{text:n,selection:e}}var r=e.toString();return""===r?null:{text:r,selection:e}}catch(a){return null}},oa=function(e){var t=ca();return!!t&&function(e,t){var n,r,a=e.selection,c=null===(n=a.anchorNode)||void 0===n?void 0:n.parentNode,o=null===(r=a.focusNode)||void 0===r?void 0:r.parentNode;if(!c||!o||"SPAN"!==c.nodeName||"SPAN"!==o.nodeName)return!1;var i=c.parentNode;if(!i||"DIV"!==i.nodeName)return!1;var u=Array.from(i.children);if(0===u.length)return!1;var l=u.indexOf(c),s=u.indexOf(o);return-1!==l&&-1!==s&&{contentStr:e.text,contentOrigin:{spanIndexStart:l,spanIndexEnd:s,page:t}}}(t,e)},ia=function(){return{type:$r,payload:null}},ua=function(){return{type:Zr,payload:null}},la=function(e){return function(t,n){var r=n(),a=ta(r);a?(aa(e,a,t,r),t(ua())):t(function(e){return{type:$r,payload:e}}(e))}},sa=function(e){var t=oa(e);return!!t&&la(t)},da=function(e){var t=function(e){var t=ca();return!!t&&{contentStr:t.text,contentOrigin:e}}(e);return!!t&&la(t)},fa=function(e){return function(t,n){var r=n(),a=na(r);a?(aa(a,e,t,r),t(ia())):t(function(e){return{type:Zr,payload:e}}(e))}},ma=function(e,t){return fa({cardID:e,cardField:t,updateType:"APPEND"})},pa=function(e,t){return fa({cardID:e,cardField:t,updateType:"REPLACE"})},Ea={sourceConfig:null,goalConfig:null},va=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case $r:return Object(It.a)(Object(It.a)({},e),{},{sourceConfig:r});case Zr:return Object(It.a)(Object(It.a)({},e),{},{goalConfig:r});default:return e}},ba=n(303),Oa=n(138),ga=n.n(Oa),ya=function(){var e=Object(H.useState)(!1),t=Object(Nt.a)(e,2),n=t[0],r=t[1],a=Object(Le.b)(),c=Object(Le.c)(na);!c&&n&&r(!1),c&&!n&&r(!0);var o=function(){r(!1),a(ia())},i=B.a.createElement(H.Fragment,null,B.a.createElement("div",null,"Current Selection: "),B.a.createElement("div",{style:{color:"green"}}," ",null===c||void 0===c?void 0:c.contentStr),(null===c||void 0===c?void 0:c.contentOrigin)&&B.a.createElement("div",{style:{color:"red"}}," From Page ",c.contentOrigin.page)),u=function(e){!n||"Escape"!==e.key&&"Esc"!==e.key||o()};return Object(H.useEffect)((function(){return document.addEventListener("keydown",u),function(){document.removeEventListener("keydown",u)}})),B.a.createElement(ba.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:n,onClose:function(e,t){"clickaway"===t?e.preventDefault():(r(!1),a(ia()))},message:i,action:B.a.createElement(_e.a,{size:"small","aria-label":"close",color:"inherit",onClick:o},B.a.createElement(ga.a,{fontSize:"small"}))})},Da=function(e){var t=e.children,n=e.page,r=Object(Le.b)();return B.a.createElement("span",{onMouseUp:function(){var e=sa(n);e&&r(e)},onMouseDown:function(e){var t;0===e.button&&(null===(t=window.getSelection())||void 0===t||t.empty())}},t)},ja=function(e){var t=e.children,n=e.fieldOrigin,r=Object(Le.b)();return B.a.createElement("span",{onMouseUp:function(){var e=da(n);e&&r(e)}},t)},Ca=n(140),ha=n.n(Ca),Sa=n(139),Ta=n.n(Sa),Aa=function(e){var t=e.cardField,n=e.cardID,r=Object(Le.b)(),a=Object(Le.c)(na),c=Object(Le.c)(ta),o=Object(H.useState)(!1),i=Object(Nt.a)(o,2),u=i[0],l=i[1],s=!!c&&!!c.cardID&&c.cardID===n&&c.cardField===t&&"APPEND"===c.updateType;return s?u||l(!0):u&&l(!1),B.a.createElement(Ue.a,{title:s?ht.constants.CardIsAppendGoalTooltip:a?ht.constants.AppendToCardTooltip:ht.constants.ChoiceCardAsAppendGoal,enterDelay:ht.constants.defaultEnterDelay,enterNextDelay:ht.constants.defaultEnterNextDelay},B.a.createElement(_e.a,{type:"button",onClick:function(){u||c?s&&r(ua()):r(ma(n,t))}},u?B.a.createElement(Ta.a,{fontSize:"small"}):B.a.createElement(ha.a,{fontSize:"small"})))},Ia=n(160),Na=n(306),Ra=function(){var e=Object(H.useState)(void 0),t=Object(Nt.a)(e,2),n=t[0],r=t[1],a=Object(H.useRef)(null),c=Object(H.useCallback)((function(e){!function(e,t){var n,r,a=t.target;return!!(null===(n=e.current)||void 0===n||null===(r=n.querySelector("div.MuiPaper-root"))||void 0===r?void 0:r.contains(a))}(a,e)&&r(void 0)}),[a,r]);Object(H.useEffect)((function(){return document.addEventListener("mousedown",c),function(){document.removeEventListener("mousedown",c)}}),[c]);var o=Object(Le.c)(ra),i=Object(H.useCallback)((function(e){o&&(e.preventDefault(),r({left:e.x,top:e.y}))}),[o,r]);Object(H.useEffect)((function(){return document.addEventListener("contextmenu",i),function(){document.removeEventListener("contextmenu",i)}}),[i]);var u=!!n,l=Object(Le.b)();return B.a.createElement(Ia.a,{ref:a,keepMounted:!0,open:u,anchorReference:"anchorPosition",anchorPosition:n},B.a.createElement(Na.a,{onClick:function(){l(fa({cardField:"note",updateType:"REPLACE"})),r(void 0)}},"New: Note"),B.a.createElement(He.a,null),B.a.createElement(Na.a,{onClick:function(){l(fa({cardField:"q",updateType:"REPLACE"})),r(void 0)}},"New: Q (Q-A)"),B.a.createElement(Na.a,{onClick:function(){l(fa({cardField:"a",updateType:"REPLACE"})),r(void 0)}},"New: A (Q-A)"))},wa=n(141),ka=n.n(wa),Ma=n(142),xa=n.n(Ma),Pa=function(e){var t=e.cardField,n=e.cardID,r=Object(Le.b)(),a=Object(Le.c)(na),c=Object(Le.c)(ta),o=Object(H.useState)(!1),i=Object(Nt.a)(o,2),u=i[0],l=i[1],s=!!c&&!!c.cardID&&c.cardID===n&&c.cardField===t&&"REPLACE"===c.updateType;return s?u||l(!0):u&&l(!1),B.a.createElement(Ue.a,{title:s?ht.constants.CardIsReplaceGoalTooltip:a?ht.constants.ReplaceCardTooltip:ht.constants.ChoiceCardAsReplaceGoal,enterDelay:ht.constants.defaultEnterDelay,enterNextDelay:ht.constants.defaultEnterNextDelay},B.a.createElement(_e.a,{type:"button",onClick:function(){u||c?s&&r(ua()):r(pa(n,t))}},u?B.a.createElement(ka.a,{fontSize:"small"}):B.a.createElement(xa.a,{fontSize:"small"})))},La={actions:w,actionTypes:I,constants:A,components:k,reducer:va,selectors:N,services:M},Ua=function(e){var t=e.storeValue,n=void 0===t?"":t,r=e.saveChanges,a=e.fieldOrigin,c=e.style,o=Object(Yr.a)(e,["storeValue","saveChanges","fieldOrigin","style"]),i=Object(H.useState)({storeValue:n,mutableValue:n}),u=Object(Nt.a)(i,2),l=u[0],s=u[1];return l.storeValue!==n&&s({storeValue:n,mutableValue:n}),B.a.createElement(La.components.CardFieldMouseUp,{fieldOrigin:a&&void 0!==a.spanIndexStart?a:void 0},B.a.createElement(Rt.a,Object.assign({InputProps:{disableUnderline:!0,style:{minWidth:"400px"}},multiline:!0,variant:"filled",value:l.mutableValue,onChange:function(e){var t=e.target.value;s(Object(It.a)(Object(It.a)({},l),{},{mutableValue:t}))},onBlur:function(e){r(e.target.value)},style:c},o)))},_a=n(143),Fa=n.n(_a),Ha=function(e){var t=e.cardOrigin,n=Object(Le.b)();return B.a.createElement(Ue.a,{title:ht.constants.jumpToOriginTooltip,enterDelay:ht.constants.defaultEnterDelay,enterNextDelay:ht.constants.defaultEnterNextDelay},B.a.createElement(_e.a,{type:"button",onClick:function(){n(Hr(t))}},B.a.createElement(Fa.a,{fontSize:"small"})))},Ba=n(87),Va=function(e){var t=e.config,n=e.cardField,r=t.origin?rr.model.permutation.toFieldValue(n,t.origin):null,a=void 0!==(null===r||void 0===r?void 0:r.page);return B.a.createElement(Ba.a,{variant:"outlined"},B.a.createElement(G.a,{container:!0,direction:"row"},B.a.createElement(G.a,{item:!0},B.a.createElement(La.components.AppendButton,{cardID:t.cardID,cardField:n})),B.a.createElement(G.a,{item:!0},B.a.createElement(La.components.ReplaceButton,{cardID:t.cardID,cardField:n})),B.a.createElement(G.a,{item:!0},a&&B.a.createElement(Ha,{cardOrigin:r}))))},qa=function(e){var t,n,r=e.config,a=Object(Le.b)();return B.a.createElement(Fe.a,{variant:"elevation",elevation:5,style:{padding:"3px"}},B.a.createElement(G.a,{container:!0,direction:"row",justify:"space-between"},B.a.createElement(G.a,{item:!0},B.a.createElement(G.a,{container:!0,direction:"column",spacing:1},B.a.createElement(G.a,{item:!0},B.a.createElement(G.a,{container:!0,direction:"row",spacing:1},B.a.createElement(G.a,{item:!0},B.a.createElement(Ua,{saveChanges:function(e){a(rr.actions.replaceCardFieldContent("q",r,e))},storeValue:r.content.q,label:ht.constants.questionText,variant:"filled",style:{backgroundColor:"#FFBF69"},InputLabelProps:{style:{color:"#000000"}},fieldOrigin:null===(t=r.origin)||void 0===t?void 0:t.q})),B.a.createElement(G.a,{item:!0},B.a.createElement(Va,{cardField:"q",config:r})))),B.a.createElement(G.a,{item:!0},B.a.createElement(G.a,{container:!0,direction:"row",spacing:1},B.a.createElement(G.a,{item:!0},B.a.createElement(Ua,{saveChanges:function(e){a(rr.actions.replaceCardFieldContent("a",r,e))},storeValue:r.content.a,label:ht.constants.answerText,style:{backgroundColor:"#2EC4B6"},InputLabelProps:{style:{color:"#000000"}},fieldOrigin:null===(n=r.origin)||void 0===n?void 0:n.a})),B.a.createElement(G.a,{item:!0},B.a.createElement(Va,{cardField:"a",config:r})))))),B.a.createElement(G.a,{item:!0},B.a.createElement(rr.components.DeleteCardButton,{cardID:r.cardID}))))},Ga=function(e){var t=e.config,n=Object(Le.b)();return B.a.createElement(Fe.a,{variant:"elevation",elevation:5,style:{padding:"3px"}},B.a.createElement(G.a,{container:!0,direction:"row",justify:"space-between"},B.a.createElement(G.a,{item:!0},B.a.createElement(G.a,{container:!0,direction:"row",spacing:1},B.a.createElement(G.a,{item:!0},B.a.createElement(Ua,{saveChanges:function(e){n(rr.actions.cardReplace(Object(It.a)(Object(It.a)({},t),{},{content:e})))},storeValue:t.content,label:ht.constants.noteText,variant:"filled",style:{backgroundColor:"#CBF3F0"},InputLabelProps:{style:{color:"#000000"}},fieldOrigin:t.origin})),B.a.createElement(G.a,{item:!0},B.a.createElement(Va,{cardField:"note",config:t})))),B.a.createElement(G.a,{item:!0},B.a.createElement(rr.components.DeleteCardButton,{cardID:t.cardID}))))},Qa=function(e){var t=e.config;switch(t.type){case"Note":return B.a.createElement(Ga,{config:t});case"Q-A":return B.a.createElement(qa,{config:t})}},Wa=function(){return B.a.createElement(G.a,{item:!0},B.a.createElement(He.a,null))},za=function(e){var t=e.riverID,n=e.materialHeight,r=Object(Le.c)(rr.selectors.getCards),a=Object(Le.c)(pr)[t],c=a?a.cardIDs.map((function(e){return r[e]})):[],o=Object(Le.c)(Tr),i=Object(Le.c)(Ar),u=Object(H.useMemo)((function(){var e=c;return"NONE"===o?[]:("ALL"!==o&&("QAS"===o&&(e=c.filter((function(e){return"Q-A"===e.type}))),"NOTES"===o&&(e=c.filter((function(e){return"Note"===e.type})))),""!==i&&(e=e.filter((function(e){switch(e.type){case"Note":return rr.model.content.noteContentContainsStringOrEmpty(e,i);case"Q-A":return rr.model.content.qaContentContainsStringOrEmpty(e,i)}return!1}))),function(e){var t=ge();return e.reduce((function(e,n,r,a){return e.push(B.a.createElement(G.a,{item:!0,key:t()},B.a.createElement(Qa,{config:n,key:t()}))),r<a.length-1&&e.push(B.a.createElement(Wa,{key:t()})),e}),[])}(e))}),[c,o,i]);return B.a.createElement(zr.a,{expanded:!0,defaultExpanded:!0,style:{overflow:"auto",height:n},elevation:5},B.a.createElement(Jr.a,null,B.a.createElement(wt.a,{variant:"h6",align:"center",style:{MozUserSelect:"none",WebkitUserSelect:"none",msUserSelect:"none"}},t)),B.a.createElement(Kr.a,null,B.a.createElement(G.a,{container:!0,direction:"column",spacing:2,justify:"center",alignItems:"stretch"},B.a.createElement(G.a,{item:!0},B.a.createElement(rr.components.AddQAButton,null),B.a.createElement(rr.components.AddNoteButton,null),B.a.createElement(He.a,null)),B.a.createElement(G.a,{item:!0},B.a.createElement(G.a,{container:!0,direction:"column",spacing:2,justify:"center",alignItems:"stretch"},u)))))},Ja=function(e){var t=e.children,n=e.riverID,r=Object(Le.b)();return B.a.createElement("span",{onMouseEnter:function(){r(Ur(n))}},t)},Ka=n(159),Ya={requestedOrigin:null,riverMakeUps:Object(Wn.a)({},ur(1),{riverID:ur(1),cardIDs:["2","0","1"]}),activeRiverMakeUpID:ur(1),lastRiverIDNumber:1,riverShowState:"SHOW",riverContentState:"ALL",contentFilter:""},Xa={constants:C,components:x,reducer:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ya,r=arguments.length>1?arguments[1]:void 0,a=r.type,c=r.payload;switch(a){case Nr:return Object(It.a)(Object(It.a)({},n),{},{activeRiverMakeUpID:c});case Rr:return Object(It.a)(Object(It.a)({},n),{},{riverShowState:c});case wr:return Object(It.a)(Object(It.a)({},n),{},{riverContentState:c});case rr.actionTypes.CARD_PUSH:return e=n.riverMakeUps[n.activeRiverMakeUpID]?Object(It.a)(Object(It.a)({},n.riverMakeUps[n.activeRiverMakeUpID]),{},{cardIDs:[].concat(Object(Ka.a)(n.riverMakeUps[n.activeRiverMakeUpID].cardIDs),[c.cardID])}):{riverID:n.activeRiverMakeUpID,cardIDs:[c.cardID]},(t=Object(It.a)({},n.riverMakeUps))[n.activeRiverMakeUpID]=e,Object(It.a)(Object(It.a)({},n),{},{riverMakeUps:t});case rr.actionTypes.CARD_REMOVE:return fr(n,c);case tr.actionTypes.DOCUMENT_CHANGE:return c?Object(It.a)(Object(It.a)({},Ya),{},{riverMakeUps:c.riverMakeUps,lastRiverIDNumber:c.lastRiverIDNumber}):Ya;case tr.actionTypes.LOAD_DOCUMENT_DATA_SETS:return c.newActiveDataSet?Object(It.a)(Object(It.a)({},Ya),{},{riverMakeUps:c.newActiveDataSet.riverMakeUps,lastRiverIDNumber:c.newActiveDataSet.lastRiverIDNumber}):n;case kr:return Object(It.a)(Object(It.a)({},n),{},{contentFilter:c});case Mr:return Object(It.a)(Object(It.a)({},n),{},{requestedOrigin:c});default:return n}},selectors:S,actions:T,model:h},$a=function(){var e=Object(Le.c)(Xa.selectors.getNonEmptyRiverCardsSorted),t=Object(Le.c)(Xa.selectors.getRiverContentState),n=Object(Le.c)(Xa.selectors.getRiverContentFilter),r=Object(H.useMemo)((function(){var r=e;return"NONE"===t?[]:("ALL"!==t&&("QAS"===t&&(r=e.filter((function(e){return"Q-A"===e.type}))),"NOTES"===t&&(r=e.filter((function(e){return"Note"===e.type})))),""!==n&&(r=r.filter((function(e){switch(e.type){case"Note":return rr.model.content.noteContentContainsStringOrEmpty(e,n);case"Q-A":return rr.model.content.qaContentContainsStringOrEmpty(e,n)}return!1}))),function(e){var t=ge();return e.reduce((function(e,n){return e.push(B.a.createElement(G.a,{item:!0,key:t(),xs:5},B.a.createElement(Xa.components.ClayCard,{config:n,key:t()}))),e}),[])}(r))}),[e,t,n]);return B.a.createElement(G.a,{container:!0,justify:"space-evenly",alignItems:"flex-start",spacing:2,style:{margin:"6px",width:"100%",height:"100%"}},r)},Za=n(288),ec=function(){var e=Object(H.useState)(!1),t=Object(Nt.a)(e,2),n=t[0],r=t[1],a=Object(Le.c)(Ee),c=Object(Le.b)();!a&&n&&r(!1),a&&!n&&r(!0);var o=function(){r(!1),c(we())},i=function(e){!n||"Escape"!==e.key&&"Esc"!==e.key||o()};return Object(H.useEffect)((function(){return document.addEventListener("keydown",i),function(){document.removeEventListener("keydown",i)}})),B.a.createElement(ba.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:n,onClose:function(e,t){"clickaway"===t?e.preventDefault():(r(!1),c(we()))},message:"Origin is marked",action:B.a.createElement(Za.a,{color:"secondary",size:"small",onClick:o},"UNMARK")})},tc=(n(182),n(183),n(64)),nc=n(162),rc=function(e){var t=e.page,n=e.pageRef,r=Object(Le.c)(Ee),a=Object(H.useRef)(0),c=Object(Le.b)(),o=Object(H.useCallback)((function(){var e=setInterval((function(){var t;if(10===a.current)return a.current=0,clearInterval(e),console.log("invalid origin clicked",r),void c(we());var o=null===(t=n.current)||void 0===t?void 0:t.children.item(1);if(o){var i=o.children.item(r.spanIndexStart);if(i)return i.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"}),a.current=0,void clearInterval(e)}a.current=a.current+1}),10)}),[c,a,r,n]);return Object(H.useEffect)((function(){if(r&&r.page===t&&n.current){var e=n.current.children.item(1);if(e){var c=e.children.item(r.spanIndexStart);c?(c.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"}),a.current=0):o()}else o()}}),[c,t,n,r,o]),null},ac=function(e){return function(t){return function(e,t){var n=e.itemIndex;return n>=t.spanIndexStart&&n<=t.spanIndexEnd?B.a.createElement("mark",{style:cc},e.str):e.str}(t,e)}},cc={backgroundColor:"blue"};function oc(e){return function(t){return function(e,t){var n=e.length,r=t.length;if(""===t||""===e||r>n)return e;var a=e.indexOf(t);if(-1===a)return e;var c=B.a.createElement("mark",{style:cc},t),o=a>0&&e.slice(0,a),i=[];o&&i.push(o),i.push(c);var u=e.indexOf(t,a+r);if(-1===u){var l=a+r,s=l<n&&e.slice(l);return s&&i.push(s),i}var d=a+r,f=d!==u&&e.slice(d,u);f&&i.push(f),i.push(c);var m=e.indexOf(t,u+r);if(-1===m){var p=u+r;return p<n&&e.slice(p)&&i.push(f),i}var E=u+r,v=E<n&&e.slice(E,m);if(v&&i.push(v),i.push(c),m+r===n)return i;var b=e.slice(m+r);if(b===t)return i.push(c),i;var O=b.split(t);if(O.length<=1)return i.push(b),i;for(var g=0;g<O.length;g++){var y=O[g];0!==g||""!==y?g!==O.length-1||""===y?(""!==y&&i.push(y),i.push(c)):i.push(y):i.push(c)}return i}(t.str,e)}}var ic=function(e){var t,n=e.pageNumber,r=null===(t=Object(Le.c)(ie))||void 0===t?void 0:t.width,a=Object(Le.c)(ve),c=Object(Le.c)(Ee),o=c?ac(c):""!==a?oc(a):void 0,i=Object(H.useRef)(null);return B.a.createElement("div",{style:{overflow:"auto"}},B.a.createElement(La.components.MaterialMouseUp,{page:n},B.a.createElement(xt,null,B.a.createElement(tc.b,{inputRef:function(e){i.current=e},pageNumber:n,width:r*dc,customTextRenderer:o}))),B.a.createElement(rc,{page:n,pageRef:i}))},uc=function(e){var t,n=e.riverID,r=e.materialHeight,a=null===(t=Object(Le.c)(ie))||void 0===t?void 0:t.width;return B.a.createElement("div",{style:{maxWidth:a*fc}},B.a.createElement(Xa.components.CardRiver,{riverID:n,materialHeight:r}))},lc=function(e){var t=e.index,n=e.data,r=e.style,a=t+1,c=Xa.model.pageNumberToRiverMakeUpID(a),o=n.materialHeights,i=Object(Le.c)(Xa.selectors.getRiverShowState),u=Object(Le.c)(me);return B.a.createElement("div",{style:Object(It.a)({},r)},B.a.createElement(Xa.components.SwitchActiveRiver,{riverID:c},B.a.createElement(G.a,{container:!0,justify:"space-between",direction:"row",alignItems:"flex-start"},B.a.createElement(G.a,{item:!0,hidden:"HIDE"===i},B.a.createElement(uc,{riverID:c,materialHeight:o.get(a)})),B.a.createElement(G.a,{item:!0,hidden:"HIDE"===u},B.a.createElement(ic,{pageNumber:a})))),B.a.createElement(He.a,{style:{marginTop:mc/2}}))},sc=function(e){var t=e.listRef,n=Object(Le.c)(Oe),r=Object(Le.c)(de),a=Object(Le.c)(se),c=Object(Le.c)(Xa.selectors.getOriginRequest);Object(H.useEffect)((function(){var e;null===(e=t.current)||void 0===e||e.scrollToItem(a-1,"start")}),[]);var o=Object(Le.b)();return Object(H.useEffect)((function(){var e,a;if((c||r)&&n!==F.RiverMaterial&&o(Pe(F.RiverMaterial)),c)return null===(e=t.current)||void 0===e||e.scrollToItem(c.page-1,"auto"),o(Re(c)),o(Ce(c.page,!1)),void o(Xa.actions.resetOriginRequest());r&&(null===(a=t.current)||void 0===a||a.scrollToItem(r-1,"start"),o(Ce(r,!1)))}),[o,t,r,c,n]),null},dc=.63,fc=.35,mc=20,pc=function(e){var t=e.listRef,n=e.materialHeights,r=Object(H.useRef)(n);return Object(H.useEffect)((function(){var e;n!==r.current&&(null===(e=t.current)||void 0===e||e.resetAfterIndex(0),r.current=n)})),null},Ec=function(e){var t=e.pdfProxyRef,n=e.cachedPageDimensions,r=Object(H.useRef)(),a=Object(Le.c)(ie),c=a?Array.from(n.keys()).reduce((function(e,t){return e.set(t,function(e,t,n){var r=t.get(e),a=n*dc/r[0];return r[1]*a+20}(t,n,a.width)),e}),new Map):void 0,o=Object(Le.b)(),i=Object(Le.c)(be);return B.a.createElement(H.Fragment,null,a&&c&&B.a.createElement(nc.a,{height:a.height-i,itemCount:t.current.numPages,itemSize:function(e){return c.get(e+1)+mc},itemData:{materialHeights:c},ref:r,width:"100%",onItemsRendered:function(e){o(Ce(e.visibleStopIndex+1,!1))}},lc),c&&B.a.createElement(pc,{listRef:r,materialHeights:c}),B.a.createElement(sc,{listRef:r}))};tc.c.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(tc.c.version,"/pdf.worker.js");var vc={cMapUrl:"cmaps/",cMapPacked:!0},bc=function(){var e=Object(Le.c)(oe),t=Object(H.useState)(),n=Object(Nt.a)(t,2),r=n[0],a=n[1],c=Object(H.useRef)(),o=Object(Le.b)(),i=null===e||void 0===e?void 0:e.name,u=Object(H.useRef)(i);return u.current!==i&&(u.current=i),B.a.createElement(tc.a,{loading:ht.constants.loadingMaterialText,noData:ht.constants.noMaterialText,options:vc,file:e,renderMode:"canvas",onLoadSuccess:function(t){o(je(t.numPages)),e&&function(e,t,n,r){var a=Array.from({length:e.numPages},(function(e,t){return t+1})).map((function(t){return e.getPage(t)}));Promise.all(a).then((function(e){if(t===n.current){var a,c=new Map,o=Object(ir.a)(e);try{for(o.s();!(a=o.n()).done;){var i=a.value,u=1*i.view[2],l=1*i.view[3];c.set(i._pageIndex+1,[u,l])}}catch(s){o.e(s)}finally{o.f()}r(c)}}))}(t,i,u,a),c.current=t},onItemClick:function(e){var t=e.pageNumber;o(Ce(parseInt(t),!0))}},r&&u.current===i&&B.a.createElement(Ec,{pdfProxyRef:c,cachedPageDimensions:r}))},Oc=function(e){var t=e.riverID,n=Object(Le.c)(ie),r=Object(Le.c)(be);return n&&r?B.a.createElement("div",{style:{marginBottom:"8px",marginTop:"4px"}},B.a.createElement(Xa.components.CardRiver,{riverID:t,materialHeight:(null===n||void 0===n?void 0:n.height)-r-10})):null},gc=function(){var e=Object(Le.c)(vr),t=ge();return B.a.createElement(G.a,{container:!0,justify:"space-evenly",alignItems:"center",spacing:2,style:{width:"100%",height:"100%"}},e.map((function(e){return B.a.createElement(G.a,{item:!0,xs:4,key:t()},B.a.createElement(Xa.components.SwitchActiveRiver,{riverID:e},B.a.createElement(Oc,{riverID:e})))})))},yc=function(){var e=Object(Le.c)(Oe);return B.a.createElement(H.Fragment,null,B.a.createElement("div",{hidden:e!==F.RiverMaterial,style:{width:"100%",height:"100%"}},B.a.createElement(bc,null),B.a.createElement(ec,null)),B.a.createElement("div",{hidden:e!==F.RiverExplorer,style:{width:"100%",height:"100%"}},B.a.createElement(gc,null)),e===F.CardExplorer&&B.a.createElement($a,null))},Dc=n(296),jc=n(289),Cc=function(){var e=Object(Le.c)(Oe),t=Object(Le.b)();return B.a.createElement(Fe.a,null,B.a.createElement(Dc.a,{value:e,onChange:function(e,n){t(Pe(n))}},B.a.createElement(jc.a,{label:"River-Material"}),B.a.createElement(jc.a,{label:"River Explorer"}),B.a.createElement(jc.a,{label:"Card Explorer"})))},hc={displayStatus:"SHOW",totalPages:1e3,currentPage:1,scrollToPage:null,windowMeasurements:null,spanOrigin:null,documentSearch:"",topOffset:0,currentView:F.RiverMaterial},Sc={actions:o,actionTypes:a,components:P,constants:r,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hc,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case W:return Object(It.a)(Object(It.a)({},e),{},{pdf:r,pdfName:r.name});case tr.actionTypes.DOCUMENT_CHANGE:return r?r.name===e.pdfName?e:Object(It.a)(Object(It.a)({},hc),{},{pdf:void 0,pdfName:r.name,totalPages:r.totalPages,currentPage:r.currentPage}):e;case z:return Object(It.a)(Object(It.a)({},e),{},{totalPages:r});case K:return Object(It.a)(Object(It.a)({},e),{},{currentPage:r.page,scrollToPage:r.shouldScroll?r.page:null});case J:return Object(It.a)(Object(It.a)({},e),{},{displayStatus:r});case Y:return Object(It.a)(Object(It.a)({},e),{},{spanOrigin:r});case X:return Object(It.a)(Object(It.a)({},e),{},{documentSearch:r});case Z:return Object(It.a)(Object(It.a)({},e),{},{topOffset:r});case $:return Object(It.a)(Object(It.a)({},e),{},{windowMeasurements:r});case ee:return Object(It.a)(Object(It.a)({},e),{},{currentView:r});default:return e}},selectors:c},Tc=n(29),Ac=n.n(Tc),Ic=Object(ae.a)(Sc.selectors.getPDFName,Sc.selectors.getTotalPages,Sc.selectors.getCurrentPage,Xa.selectors.getRiverMakeUps,Xa.selectors.getActiveRiverMakeUpID,Xa.selectors.getLastRiverIDNumber,rr.selectors.getCards,rr.selectors.getLastCardIDNumber,(function(e,t,n,r,a,c,o,i){return{name:e,totalPages:t,currentPage:n,riverMakeUps:r,activeRiverMakeUpID:a,lastRiverIDNumber:c,cards:o,lastCardIDNumber:i}})),Nc=function(){return function(e,t){var n=t();if(void 0!==Sc.selectors.getPDFName(n)){var r=Ic(n);e(tr.actions.archiveDBData(r))}}},Rc=n(212),wc=function(){return function(e,t){e(Nc());var n=tr.selectors.getDocumentDataSets(t()),r=(new Date).toLocaleString();Rc(JSON.stringify(n),r+" ClayMemory.txt")}},kc=function(e){return function(t,n){var r=e.name,a=n(),c=Sc.selectors.getPDFName(a),o=tr.selectors.getAll(a);if(void 0!==c){var i=Ic(a);t(tr.actions.archiveDBData(i))}if(t(Sc.actions.pdfUpload(e)),r!==c){var u=o[r];t(u?{type:tr.actionTypes.DOCUMENT_CHANGE,payload:u}:{type:tr.actionTypes.DOCUMENT_CHANGE}),t(Tc.ActionCreators.clearHistory())}}},Mc=function(e){return function(t,n){var r=n(),a=Sc.selectors.getPDFName(r),c=tr.selectors.getAll(r);if(void 0!==a){var o=Ic(r);t(tr.actions.archiveDBData(o))}var i=c[e];t({type:tr.actionTypes.DOCUMENT_CHANGE,payload:i}),t(Tc.ActionCreators.clearHistory())}},xc=function(e){return function(t,n){var r=n(),a=Sc.selectors.getPDFName(r);a&&a===e&&(t({type:tr.actionTypes.DOCUMENT_CHANGE}),t(Tc.ActionCreators.clearHistory())),t(tr.actions.deleteDocumentDataSet(e))}},Pc=n(294),Lc=n(295),Uc=n(149),_c=n.n(Uc),Fc=n(150),Hc=n.n(Fc),Bc=n(304),Vc=n(290),qc=n(291),Gc=n(292),Qc=n(293),Wc=n(145),zc=n.n(Wc),Jc=function(e){var t=e.document,n=e.handleClose,r=e.open,a=Object(Le.b)();return B.a.createElement(Bc.a,{open:r,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},B.a.createElement(Vc.a,{id:"alert-dialog-title"},"Delete "+t+" and all associated card data?"),B.a.createElement(qc.a,null,B.a.createElement(Gc.a,{id:"alert-dialog-description"},"This change can not be undone.")),B.a.createElement(Qc.a,null,B.a.createElement(Za.a,{onClick:n,color:"primary"},"Abort"),B.a.createElement(Za.a,{onClick:function(){a(xc(t)),n()},color:"primary",autoFocus:!0},"Delete document and associated card data")))},Kc=function(e){var t=e.document,n=Object(H.useState)(!1),r=Object(Nt.a)(n,2),a=r[0],c=r[1];return B.a.createElement("div",null,B.a.createElement(Ue.a,{title:ht.constants.deleteDocumentTooltip,enterDelay:ht.constants.defaultEnterDelay,enterNextDelay:ht.constants.defaultEnterNextDelay},B.a.createElement(_e.a,{type:"button",onClick:function(){c(!0)}},B.a.createElement(zc.a,{fontSize:"small"}))),B.a.createElement(Jc,{document:t,open:a,handleClose:function(){c(!1)}}))},Yc=n(146),Xc=n.n(Yc),$c=function(e){var t=e.handleClose,n=e.label,r=Object(Le.b)(),a=Object(Le.c)(Sc.selectors.getPDFName),c=Object(H.useRef)(null);return B.a.createElement(H.Fragment,null,B.a.createElement(Na.a,{onClick:function(){c.current.click()}},B.a.createElement(Za.a,{variant:"contained",color:"primary",disableElevation:!0,startIcon:B.a.createElement(Xc.a,null)},n)),B.a.createElement("input",{ref:c,style:{display:"none"},onChange:function(e){var n=e.target.files,c=n?n[0]:null;if(c){var o=new FileReader;o.readAsText(c),o.onload=function(){var e=JSON.parse(o.result),t=e.find((function(e){return e.name===a}));r(tr.actions.loadDocumentDataSets(e,t))}}t()},type:"file",accept:".txt"}))},Zc=n(147),eo=n.n(Zc),to=function(e){var t=e.handleClose,n=e.label,r=Object(Le.b)(),a=Object(H.useRef)(null);return B.a.createElement(H.Fragment,null,B.a.createElement(Na.a,{onClick:function(){a.current.click()}},B.a.createElement(Za.a,{variant:"contained",color:"primary",disableElevation:!0,startIcon:B.a.createElement(eo.a,null)},n)),B.a.createElement("input",{ref:a,style:{display:"none"},onChange:function(e){var n=e.target.files,a=n?n[0]:null;a&&r(kc(a)),t()},type:"file",accept:".pdf"}))},no=n(148),ro=n.n(no),ao=function(e){var t=e.document,n=Object(Le.b)();return B.a.createElement(Ue.a,{title:ht.constants.loadSavedDocumentTooltip,enterDelay:ht.constants.defaultEnterDelay,enterNextDelay:ht.constants.defaultEnterNextDelay},B.a.createElement(_e.a,{type:"button",onClick:function(){n(Mc(t))}},B.a.createElement(ro.a,{fontSize:"small"})))},co=function(e){var t=e.document;return B.a.createElement(G.a,{container:!0,direction:"row"},B.a.createElement(G.a,{item:!0},B.a.createElement(ao,{document:t})),B.a.createElement(G.a,{item:!0},B.a.createElement(He.a,{orientation:"vertical"})),B.a.createElement(G.a,{item:!0},B.a.createElement(Kc,{document:t})))},oo=function(e){var t=e.document;return B.a.createElement(G.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:1},B.a.createElement(G.a,{item:!0},t.replace(".pdf","")),B.a.createElement(G.a,{item:!0},B.a.createElement(Fe.a,{variant:"outlined"},B.a.createElement(co,{document:t}))))},io=function(e){var t=e.document;return B.a.createElement(G.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:1},B.a.createElement(G.a,{item:!0},t.replace(".pdf","")),B.a.createElement(G.a,{item:!0},B.a.createElement(Fe.a,{variant:"outlined"},B.a.createElement(Kc,{document:t}))))},uo=function(){var e=Object(Le.c)(Sc.selectors.getPDFName),t=Object(Le.c)(tr.selectors.getDocumentNames).filter((function(t){return t!==e})),n=B.a.useState(null),r=Object(Nt.a)(n,2),a=r[0],c=r[1],o=function(){c(null)},i=Object(Le.b)(),u=ge();return B.a.createElement("div",null,B.a.createElement(_e.a,{type:"button",onClick:function(e){c(e.currentTarget)}},B.a.createElement(_c.a,null)),B.a.createElement(Ia.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:o,MenuListProps:{style:{paddingLeft:"8px",paddingRight:"8px"}}},e&&[B.a.createElement(wt.a,{key:u(),component:"span",variant:"h6"},ht.constants.activeDocumentText),B.a.createElement(io,{key:u(),document:e}),B.a.createElement(He.a,{key:u(),style:{marginTop:"6px"}})],t.length>0&&[B.a.createElement(wt.a,{key:u(),component:"span",variant:"h6"},ht.constants.existingDataText),B.a.createElement(wt.a,{key:u(),component:"span"},B.a.createElement("ul",{style:{listStyleType:"square"}},t.map((function(e){return e?B.a.createElement("li",{key:u()},B.a.createElement(oo,{document:e,key:u()})):null})))),B.a.createElement(He.a,{key:u(),style:{marginTop:"6px"}})],B.a.createElement(to,{handleClose:o,label:"Load document"}),B.a.createElement(He.a,null),B.a.createElement(Na.a,{onClick:function(){i(wc()),o()}},B.a.createElement(Za.a,{variant:"contained",color:"primary",disableElevation:!0,startIcon:B.a.createElement(Hc.a,null)},ht.constants.downloadDatasetsText)),B.a.createElement(He.a,null),B.a.createElement($c,{handleClose:o,label:ht.constants.uploadDatasetsText})))},lo=n(151),so=n.n(lo),fo=n(298),mo=function(){var e=Object(Le.b)(),t=Object(Le.c)(Xa.selectors.getRiverContentFilter),n=Object(H.useState)(t),r=Object(Nt.a)(n,2),a=r[0],c=r[1],o=Object(H.useState)("cards"),i=Object(Nt.a)(o,2),u=i[0],l=i[1],s=function(){e(Xa.actions.resetContentFilter())},d=function(){e(Sc.actions.resetDocumentSearch())},f="cards"===u?function(t){""===t&&e(Xa.actions.resetContentFilter()),c(t)}:function(t){""===t&&e(Sc.actions.resetDocumentSearch()),c(t)},m="cards"===u?s:d,p="cards"===u?function(){return e(Xa.actions.setContentFilter(a))}:function(){return e(Sc.actions.setDocumentSearch(a))};return B.a.createElement(G.a,{container:!0,direction:"row",alignItems:"center",spacing:1},B.a.createElement(G.a,{item:!0},B.a.createElement(fo.a,{variant:"outlined",color:"secondary",native:!0,value:"cards"===u?"Filter cards":"Search document",onChange:function(e){var t;t="Search document"===e.target.value?"document":"cards",l(t),"cards"===t?d():s(),c("")}},B.a.createElement("option",null,"Filter cards"),B.a.createElement("option",null,"Search document"))),B.a.createElement(G.a,{item:!0},B.a.createElement(so.a,{value:a,placeholder:"cards"===u?"Filter cards":"Search document",onChange:f,onCancelSearch:m,onRequestSearch:p,cancelOnEscape:!0})))},po=n(152),Eo=n.n(po),vo=n(153),bo=n.n(vo),Oo=function(){var e=Object(Le.b)();return B.a.createElement(Ue.a,{title:ht.constants.undoTooltip,enterDelay:ht.constants.defaultEnterDelay,enterNextDelay:ht.constants.defaultEnterNextDelay},B.a.createElement("span",null,B.a.createElement(_e.a,{type:"button",onClick:function(){e(Tc.ActionCreators.undo())}},B.a.createElement(Eo.a,null))))},go=function(){var e=Object(Le.b)();return B.a.createElement(Ue.a,{title:ht.constants.redoTooltip,enterDelay:ht.constants.defaultEnterDelay,enterNextDelay:ht.constants.defaultEnterNextDelay},B.a.createElement(_e.a,{type:"button",onClick:function(){e(Tc.ActionCreators.redo())}},B.a.createElement(bo.a,null)))},yo=function(){return B.a.createElement(Fe.a,{variant:"outlined"},B.a.createElement(G.a,{container:!0,direction:"row"},B.a.createElement(G.a,{item:!0},B.a.createElement(Oo,null)),B.a.createElement(G.a,{item:!0},B.a.createElement(He.a,{orientation:"vertical"})),B.a.createElement(G.a,{item:!0},B.a.createElement(go,null))))},Do=n(154),jo=n.n(Do),Co=function(){var e=Object(Le.b)(),t=Object(Le.c)(Xa.selectors.getRiverShowState);return B.a.createElement(Za.a,{startIcon:B.a.createElement(or.a,{label:"River",control:B.a.createElement(Qr,{checked:"SHOW"===t})}),variant:"contained",color:"primary",onClick:function(){e(Xa.actions.toggleRiverShowState())}})},ho=function(){var e=Object(Le.b)(),t=Object(Le.c)(Sc.selectors.getDisplayStatus);return B.a.createElement(Za.a,{startIcon:B.a.createElement(or.a,{label:"Material",control:B.a.createElement(Qr,{checked:"SHOW"===t})}),variant:"contained",color:"primary",onClick:function(){e(Sc.actions.toggleDisplayState())}})},So=function(){var e=B.a.useState(null),t=Object(Nt.a)(e,2),n=t[0],r=t[1];return B.a.createElement("div",null,B.a.createElement(_e.a,{type:"button",onClick:function(e){r(e.currentTarget)}},B.a.createElement(jo.a,null)),B.a.createElement(Ia.a,{anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:function(){r(null)},MenuListProps:{style:{paddingLeft:"8px",paddingRight:"8px"}}},B.a.createElement(wt.a,{variant:"h6"},"Show:"),B.a.createElement(G.a,{container:!0,direction:"row",justify:"space-between",spacing:1},B.a.createElement(G.a,{item:!0},B.a.createElement(Fe.a,{variant:"outlined",style:{paddingLeft:"4px",paddingRight:"4px"}},B.a.createElement(Xa.components.RiverContentFormGroup,null))),B.a.createElement(G.a,{item:!0},B.a.createElement(Fe.a,{variant:"outlined",style:{padding:"4px"}},B.a.createElement(G.a,{container:!0,direction:"column",spacing:1},B.a.createElement(G.a,{item:!0},B.a.createElement(Co,null)),B.a.createElement(G.a,{item:!0},B.a.createElement(ho,null))))))))},To=function(){var e=Object(Le.c)(Sc.selectors.getPDFName),t=Object(Le.c)(Sc.selectors.getTopOffset),n=Object(H.useRef)(null),r=Object(Le.b)();return Object(H.useLayoutEffect)((function(){if(n.current){var e=n.current.getBoundingClientRect().bottom;e!==t&&r(Sc.actions.setTopOffset(e))}}),[n,r,t]),B.a.createElement(Sc.components.PageKeyboardControl,null,B.a.createElement(Pc.a,{ref:n,position:"sticky"},B.a.createElement(Lc.a,{variant:"regular",disableGutters:!0},B.a.createElement(G.a,{container:!0,direction:"row",alignItems:"center",justify:"space-between"},B.a.createElement(G.a,{item:!0,xs:6},B.a.createElement(G.a,{container:!0,direction:"row",alignItems:"center",spacing:1,style:{paddingLeft:"4px"}},B.a.createElement(G.a,{item:!0,style:{maxWidth:"15%"}},B.a.createElement(Sc.components.PageChooser,null)),B.a.createElement(G.a,{item:!0},B.a.createElement(Sc.components.PageNavigation,null)),B.a.createElement(G.a,{item:!0},B.a.createElement(yo,null)),B.a.createElement(G.a,{item:!0},B.a.createElement(Sc.components.ViewTabs,null)))),B.a.createElement(G.a,{item:!0,xs:2},B.a.createElement(G.a,{container:!0,justify:"center"},B.a.createElement(G.a,{item:!0,style:{overflowX:"auto"}},B.a.createElement(wt.a,{variant:"subtitle1"},null===e||void 0===e?void 0:e.replace(".pdf",""))))),B.a.createElement(G.a,{item:!0,xs:4},B.a.createElement(G.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},B.a.createElement(G.a,{item:!0},B.a.createElement(mo,null)),B.a.createElement(G.a,{item:!0},B.a.createElement(So,null)),B.a.createElement(G.a,{item:!0},B.a.createElement(uo,null))))))))},Ao={actions:U,components:_,selectors:L};function Io(){return B.a.createElement("div",null,B.a.createElement(Sc.components.HTMLElementMeasurer,null),B.a.createElement(G.a,{container:!0,justify:"center",direction:"column",alignItems:"stretch",style:{height:"100%",width:"100%"}},B.a.createElement(G.a,{item:!0},B.a.createElement(Ao.components.ControlBar,null)),B.a.createElement(G.a,{item:!0},B.a.createElement(Sc.components.Display,null))),B.a.createElement(La.components.ContextMenu,null),B.a.createElement(La.components.SelectionSnackbar,null))}var No,Ro=n(30),wo=n(155),ko=n(65),Mo=n(156),xo=n.n(Mo),Po=Object(ko.a)((function(e){return function(e){return Object(It.a)(Object(It.a)({},e),{},{documentRef:null,materialData:null,pdf:null})}(e)}),(function(e){return function(e){return Object(It.a)(Object(It.a)({},e),{},{pdf:void 0,spanOrigin:null,windowMeasurements:null,documentSearch:""})}(e)}),{whitelist:[Sc.constants.NAME]}),Lo=function(e){return Object(It.a)(Object(It.a)({},e),{},{contentFilter:""})},Uo=Object(ko.a)((function(e){return e}),(function(e){return{present:Lo(e.present),future:e.future.map(Lo),past:e.past.map(Lo)}}),{whitelist:[Xa.constants.NAME]}),_o={key:"root",storage:xo.a,transforms:[Po,Uo]},Fo=n(157),Ho=Object(Ro.combineReducers)((No={},Object(Wn.a)(No,La.constants.NAME,Ac()(La.reducer,{filter:Object(Tc.includeAction)([La.actionTypes.SELECTION_GOAL,La.actionTypes.SELECTION_SOURCE])})),Object(Wn.a)(No,Xa.constants.NAME,Ac()(Xa.reducer,{filter:Object(Tc.includeAction)([rr.actionTypes.CARD_PUSH,rr.actionTypes.CARD_REMOVE,tr.actionTypes.LOAD_DOCUMENT_DATA_SETS])})),Object(Wn.a)(No,Sc.constants.NAME,Sc.reducer),Object(Wn.a)(No,rr.constants.NAME,Ac()(rr.reducer,{filter:Object(Tc.includeAction)([tr.actionTypes.LOAD_DOCUMENT_DATA_SETS,rr.actionTypes.CARD_PUSH,rr.actionTypes.CARD_REPLACE,rr.actionTypes.CARD_REMOVE])})),Object(Wn.a)(No,tr.constants.NAME,Ac()(tr.reducer,{filter:Object(Tc.includeAction)([tr.actionTypes.LOAD_DOCUMENT_DATA_SETS])})),No)),Bo=Object(ko.b)(_o,Ho),Vo=Object(Fo.composeWithDevTools)({stateSanitizer:function(e){return e.displayData.pdf?Object(It.a)(Object(It.a)({},e),{},{displayData:Object(It.a)(Object(It.a)({},e.displayData),{},{pdf:"PDF_FILE_IS_HERE"})}):e}})(Object(Ro.applyMiddleware)(wo.a)),qo=Object(Ro.createStore)(Bo,Vo),Go=Object(ko.c)(qo),Qo=n(158);n(244),q.a.render(B.a.createElement(B.a.StrictMode,null,B.a.createElement(Le.a,{store:qo},B.a.createElement(Qo.a,{loading:null,persistor:Go},B.a.createElement(Io,null)))),document.getElementById("root"))}},[[173,1,2]]]);
//# sourceMappingURL=main.e59c72a1.chunk.js.map