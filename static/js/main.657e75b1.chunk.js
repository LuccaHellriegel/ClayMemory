(this.webpackJsonpclaymemory=this.webpackJsonpclaymemory||[]).push([[0],{185:function(e,t,n){e.exports=n(268)},207:function(e,t,n){},208:function(e,t,n){},230:function(e,t){},231:function(e,t){},232:function(e,t){},233:function(e,t){},234:function(e,t){},268:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"NAME",(function(){return ne}));var a={};n.r(a),n.d(a,"PDF_UPLOADED",(function(){return re})),n.d(a,"MATERIAL_LOADED",(function(){return ae})),n.d(a,"DISPLAY_STATUS",(function(){return ce})),n.d(a,"PAGE_UPDATE",(function(){return oe})),n.d(a,"ZOOM_QUEUE",(function(){return ie})),n.d(a,"MATERIAL_DATA",(function(){return ue})),n.d(a,"MATERIAL_HEIGHT",(function(){return le}));var c={};n.r(c),n.d(c,"NAME",(function(){return me}));var o={};n.r(o),n.d(o,"SELECTED_STRING",(function(){return pe})),n.d(o,"SELECTED_PARENT",(function(){return ve})),n.d(o,"DOCUMENT_POSITION",(function(){return Ee})),n.d(o,"SOURCE_CARD",(function(){return be}));var i={};n.r(i),n.d(i,"getAll",(function(){return ge})),n.d(i,"getCurrentSelectionPosition",(function(){return Oe})),n.d(i,"getCurrentSelectedString",(function(){return De})),n.d(i,"currentSelectionExists",(function(){return ye})),n.d(i,"getCurrentSelectedParent",(function(){return je})),n.d(i,"getSourceCard",(function(){return Ce}));var u={};n.r(u),n.d(u,"updateManuallySelectedString",(function(){return he})),n.d(u,"resetManuallySelectedString",(function(){return Se})),n.d(u,"selectedParent",(function(){return Te})),n.d(u,"updateSelectionPosition",(function(){return Re})),n.d(u,"setSourceCard",(function(){return Ae})),n.d(u,"trySetSourceCard",(function(){return Ie})),n.d(u,"resetSourceCard",(function(){return Ne})),n.d(u,"tryResetSourceCard",(function(){return Pe}));var l={};n.r(l),n.d(l,"SelectionSnackbar",(function(){return He}));var s={};n.r(s),n.d(s,"toFieldValue",(function(){return qe})),n.d(s,"createReplace",(function(){return Ge})),n.d(s,"changeCardObject",(function(){return Qe}));var d={};n.r(d),n.d(d,"emptyOrigin",(function(){return Ye})),n.d(d,"singleOriginToCardOrigin",(function(){return Je}));var f={};n.r(f),n.d(f,"transformInputOrigin",(function(){return Ze}));var m={};n.r(m),n.d(m,"NAME",(function(){return Ke}));var p={};n.r(p),n.d(p,"CARD_UPDATE",(function(){return $e})),n.d(p,"CARD_PUSH",(function(){return et})),n.d(p,"CARD_REMOVE",(function(){return tt})),n.d(p,"CARD_GOAL",(function(){return nt}));var v={};n.r(v),n.d(v,"emptyContent",(function(){return ct})),n.d(v,"noteContentIsEmpty",(function(){return ot})),n.d(v,"qaContentIsNotFull",(function(){return it})),n.d(v,"strToCardContent",(function(){return st}));var E={};n.r(E),n.d(E,"cardIDToNumber",(function(){return dt})),n.d(E,"nextCardID",(function(){return ft})),n.d(E,"cardIsNotFull",(function(){return pt})),n.d(E,"strToCardConfig",(function(){return vt})),n.d(E,"originToCardConfig",(function(){return Et}));var b={};n.r(b),n.d(b,"getAll",(function(){return bt})),n.d(b,"getLastCardIDNumber",(function(){return gt})),n.d(b,"getCards",(function(){return Ot})),n.d(b,"getGoalCard",(function(){return Dt})),n.d(b,"getCardByID",(function(){return yt})),n.d(b,"getCardOriginByID",(function(){return jt}));var g={};n.r(g),n.d(g,"emptyNotePayload",(function(){return Ct})),n.d(g,"emptyQAPayload",(function(){return ht})),n.d(g,"strToCardPayload",(function(){return St})),n.d(g,"cardFieldToEmptyPayload",(function(){return Rt})),n.d(g,"cardPayloadToCardConfig",(function(){return At}));var O={};n.r(O),n.d(O,"cardPush",(function(){return It})),n.d(O,"emptyNoteCard",(function(){return Nt})),n.d(O,"emptyQACard",(function(){return Pt})),n.d(O,"cardUpdate",(function(){return Mt})),n.d(O,"replaceCardFieldContent",(function(){return _t})),n.d(O,"replaceCardFieldOrigin",(function(){return kt})),n.d(O,"replaceCardField",(function(){return wt})),n.d(O,"removeCard",(function(){return xt})),n.d(O,"setGoalCard",(function(){return Ut})),n.d(O,"resetGoalCard",(function(){return Ft}));var D={};n.r(D),n.d(D,"switchToActiveRiverTooltip",(function(){return Vt})),n.d(D,"switchToSummaryRiverTooltip",(function(){return qt})),n.d(D,"undoTooltip",(function(){return zt})),n.d(D,"redoTooltip",(function(){return Gt})),n.d(D,"nextPageTooltip",(function(){return Qt})),n.d(D,"previousPageTooltip",(function(){return Wt})),n.d(D,"deleteCardTooltip",(function(){return Xt})),n.d(D,"grabForCardTooltip",(function(){return Yt})),n.d(D,"jumpToOriginTooltip",(function(){return Jt})),n.d(D,"appendToCardTooltip",(function(){return Zt})),n.d(D,"newQACardTooltip",(function(){return Kt})),n.d(D,"newNoteCardTooltip",(function(){return $t})),n.d(D,"deleteDocumentTooltip",(function(){return en})),n.d(D,"loadSavedDocumentTooltip",(function(){return tn})),n.d(D,"noMaterialText",(function(){return nn})),n.d(D,"loadingMaterialText",(function(){return rn})),n.d(D,"activeDocumentText",(function(){return an})),n.d(D,"existingDataText",(function(){return cn})),n.d(D,"loadMaterialText",(function(){return on})),n.d(D,"downloadDatasetsText",(function(){return un})),n.d(D,"uploadDatasetsText",(function(){return ln})),n.d(D,"noteText",(function(){return sn})),n.d(D,"questionText",(function(){return dn})),n.d(D,"answerText",(function(){return fn})),n.d(D,"defaultEnterDelay",(function(){return mn})),n.d(D,"defaultEnterNextDelay",(function(){return pn}));var y={};n.r(y),n.d(y,"NewNoteCardTooltip",(function(){return vn})),n.d(y,"AddQAButtonTooltip",(function(){return En})),n.d(y,"AppendButtonTooltip",(function(){return gn})),n.d(y,"DeleteCardButtonTooltip",(function(){return bn}));var j={};n.r(j),n.d(j,"AddNoteButton",(function(){return Dn})),n.d(j,"AddQAButton",(function(){return Cn})),n.d(j,"DeleteCardButton",(function(){return Tn}));var C={};n.r(C),n.d(C,"model_config",(function(){return E})),n.d(C,"model_origin",(function(){return d})),n.d(C,"model_permutation",(function(){return s})),n.d(C,"model_content",(function(){return v})),n.d(C,"model_payload",(function(){return g}));var h={};n.r(h),n.d(h,"NAME",(function(){return Pn}));var S={};n.r(S),n.d(S,"ARCHIVE_CURRENT_DATA",(function(){return Mn})),n.d(S,"LOAD_DOCUMENT_DATA_SETS",(function(){return _n})),n.d(S,"DELETE_DOCUMENT_DATA_SET",(function(){return kn})),n.d(S,"DOCUMENT_CHANGE",(function(){return wn}));var T={};n.r(T),n.d(T,"archiveDBData",(function(){return xn})),n.d(T,"loadDocumentDataSets",(function(){return Un})),n.d(T,"deleteDocumentDataSet",(function(){return Fn}));var R={};n.r(R),n.d(R,"getAll",(function(){return Gn})),n.d(R,"getDocumentDB",(function(){return Qn})),n.d(R,"getDocumentNames",(function(){return Wn})),n.d(R,"getDocumentDataSets",(function(){return Xn}));var A={};n.r(A),n.d(A,"selectionToCardAppend",(function(){return $n})),n.d(A,"selectionToCardReplace",(function(){return er}));var I={};n.r(I),n.d(I,"getSelection",(function(){return Be})),n.d(I,"use_selection",(function(){return A}));var N={};n.r(N),n.d(N,"getAll",(function(){return nr})),n.d(N,"getPDF",(function(){return rr})),n.d(N,"getPDFName",(function(){return ar})),n.d(N,"getRenderCritialData",(function(){return cr})),n.d(N,"getTotalPages",(function(){return or})),n.d(N,"getCurrentPage",(function(){return ir})),n.d(N,"getPageControlData",(function(){return ur})),n.d(N,"getDocumentRef",(function(){return lr})),n.d(N,"getMaterialData",(function(){return sr})),n.d(N,"getTimeStamp",(function(){return dr})),n.d(N,"getMaterialSpans",(function(){return fr})),n.d(N,"getSpanIndex",(function(){return mr})),n.d(N,"getMaterialBoundingRects",(function(){return pr})),n.d(N,"getDataExists",(function(){return vr})),n.d(N,"getDisplayStatus",(function(){return Er})),n.d(N,"displayStatusIsShow",(function(){return br})),n.d(N,"getZoomTarget",(function(){return gr})),n.d(N,"getMaterialHeight",(function(){return Or})),n.d(N,"getCurrentOrigin",(function(){return Dr}));var P={};n.r(P),n.d(P,"pdfUpload",(function(){return Sr})),n.d(P,"materialUploaded",(function(){return Tr})),n.d(P,"materialLoaded",(function(){return Rr})),n.d(P,"captureMaterialData",(function(){return Ar})),n.d(P,"setPage",(function(){return Nr})),n.d(P,"movePage",(function(){return Pr})),n.d(P,"nextPage",(function(){return Mr})),n.d(P,"previousPage",(function(){return _r})),n.d(P,"pageControlDispatcher",(function(){return wr})),n.d(P,"toggleDisplayState",(function(){return xr})),n.d(P,"setZoomTarget",(function(){return Ur})),n.d(P,"zoomToCardOrigin",(function(){return Fr})),n.d(P,"scrollToZoomTarget",(function(){return Lr})),n.d(P,"setMaterialHeight",(function(){return Hr})),n.d(P,"mouseUpDocument",(function(){return Br}));var M={};n.r(M),n.d(M,"PageChooser",(function(){return ea})),n.d(M,"PageNavigation",(function(){return Jr})),n.d(M,"MaterialDisplayColumnWithSize",(function(){return ba})),n.d(M,"PageKeyboardControl",(function(){return aa}));var _={};n.r(_),n.d(_,"NAME",(function(){return ja}));var k={};n.r(k),n.d(k,"getAll",(function(){return Sa})),n.d(k,"getRiverMakeUps",(function(){return Ta})),n.d(k,"getActiveRiverMakeUpID",(function(){return Ra})),n.d(k,"getPushToRiver",(function(){return Aa})),n.d(k,"getPushToRiverMakeUp",(function(){return Ia})),n.d(k,"getActiveRiverMakeUp",(function(){return Na})),n.d(k,"getPushToRiverCardIDs",(function(){return Pa})),n.d(k,"getPushToRiverCards",(function(){return Ma})),n.d(k,"getActiveRiverCardIDs",(function(){return _a})),n.d(k,"getActiveRiverCards",(function(){return ka})),n.d(k,"getRiverShowState",(function(){return wa})),n.d(k,"riverShowStateIsShow",(function(){return xa})),n.d(k,"getHoveredCardData",(function(){return Ua})),n.d(k,"getLastRiverIDNumber",(function(){return Fa})),n.d(k,"getRiverContentState",(function(){return La})),n.d(k,"getRiverContentFilter",(function(){return Ha}));var w={};n.r(w),n.d(w,"toggleRiverShowState",(function(){return Qa})),n.d(w,"setRiverContentState",(function(){return Wa})),n.d(w,"setPushToRiver",(function(){return Xa})),n.d(w,"trySetPushToRiver",(function(){return Ya})),n.d(w,"setHoveredCard",(function(){return Ja})),n.d(w,"trySetHoveredCard",(function(){return Za})),n.d(w,"resetHoveredCard",(function(){return Ka})),n.d(w,"setContentFilter",(function(){return $a})),n.d(w,"resetContentFilter",(function(){return ec}));var x={};n.r(x),n.d(x,"NAME",(function(){return oc}));var U={};n.r(U),n.d(U,"DISPLAY_FOCUS_UPDATE",(function(){return ic}));var F={};n.r(F),n.d(F,"updateDisplayFocus",(function(){return uc}));var L={};n.r(L),n.d(L,"getAll",(function(){return dc})),n.d(L,"getDisplayFocus",(function(){return fc}));var H={};n.r(H),n.d(H,"ActiveCardRiver",(function(){return Gc})),n.d(H,"SummaryRiver",(function(){return zc})),n.d(H,"RiverContentFormGroup",(function(){return cc}));var B={};n.r(B),n.d(B,"collectCurrentDBData",(function(){return Yc}));var V={};n.r(V),n.d(V,"archiveCurrentDBData",(function(){return Jc})),n.d(V,"downloadDBData",(function(){return Kc})),n.d(V,"changeDocument",(function(){return $c})),n.d(V,"loadSavedDocument",(function(){return eo})),n.d(V,"deleteDocument",(function(){return to}));var q={};n.r(q),n.d(q,"ControlBar",(function(){return Ko}));var z={};n.r(z),n.d(z,"NAME",(function(){return ei}));var G={};n.r(G),n.d(G,"TOGGLE_CONTEXT_MENU",(function(){return ti})),n.d(G,"CLOSE_CONTEXT_MENU",(function(){return ni})),n.d(G,"OPEN_CONTEXT_MENU",(function(){return ri}));var Q={};n.r(Q),n.d(Q,"getAll",(function(){return ai})),n.d(Q,"getContextMenuState",(function(){return ci})),n.d(Q,"getContextMenuRef",(function(){return oi})),n.d(Q,"getContextMenuFullCardsRef",(function(){return ii})),n.d(Q,"getContextMenuQARefs",(function(){return ui})),n.d(Q,"getContextMenuInitData",(function(){return li}));var W={};n.r(W),n.d(W,"contextMenuContainsTargetNode",(function(){return si}));var X={};n.r(X),n.d(X,"toggleContextMenu",(function(){return di})),n.d(X,"closeContextMenu",(function(){return fi})),n.d(X,"openContextMenu",(function(){return mi})),n.d(X,"mouseDownControl",(function(){return pi})),n.d(X,"rightClickControl",(function(){return vi})),n.d(X,"dispatchCreationFromContextMenu",(function(){return Ei}));var Y={};n.r(Y),n.d(Y,"ContextMenuContainer",(function(){return Ai}));var J=n(0),Z=n.n(J),K=n(16),$=n.n(K),ee=n(307),te=n(3),ne="displayData",re=ne+"/PDF_UPLOADED",ae=ne+"/MATERIAL_LOADED",ce=ne+"/DISPLAY_STATUS",oe=ne+"/PAGE_UPDATE",ie=ne+"/ZOOM_QUEUE",ue=ne+"/MATERIAL_DATA",le=ne+"/MATERIAL_HEIGHT",se=function(e,t){return e===t+1?1:e},de=function(e,t){return 0===e?t:e},fe=n(10),me="selectionData",pe=me+"/SELECTED_STRING",ve=me+"/SELECTED_PARENT",Ee=me+"/SELECTION_POSITION",be=me+"/SOURCE_CARD",ge=function(e){return e[me].present},Oe=Object(fe.a)(ge,(function(e){return e.selectionPosition})),De=Object(fe.a)(ge,(function(e){return e.manuallySelectedString})),ye=Object(fe.a)(De,(function(e){return""!==e})),je=Object(fe.a)(ge,(function(e){return e.selectedParentSpan})),Ce=Object(fe.a)(ge,(function(e){return e.sourceCard})),he=function(e){return{type:pe,payload:e}},Se=function(){return he("")},Te=function(e){return{type:ve,payload:e}},Re=function(e,t){return{type:Ee,payload:{x:e,y:t}}},Ae=function(e,t){return{type:be,payload:{origin:t,sourceField:e}}},Ie=function(e,t){return function(n,r){(function(e,t,n){return!e||e.sourceField!==t||e.origin!==n})(Ce(r()),e,t)&&n(Ae(e,t))}},Ne=function(){return{type:be,payload:null}},Pe=function(){return function(e,t){null!==Ce(t())&&e(Ne())}},Me={manuallySelectedString:"",selectedParentSpan:null,selectionPosition:{x:0,y:0},sourceCard:null},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case pe:return Object(te.a)(Object(te.a)({},e),{},{manuallySelectedString:r});case ve:return Object(te.a)(Object(te.a)({},e),{},{sourceCard:null,selectedParentSpan:r});case Ee:return Object(te.a)(Object(te.a)({},e),{},{selectionPosition:r});case be:return Object(te.a)(Object(te.a)({},e),{},{sourceCard:r,selectedParentSpan:null});default:return e}},ke=n(22),we=n(329),xe=n(110),Ue=n(139),Fe=n.n(Ue),Le=n(6),He=function(){var e=Object(J.useState)(!1),t=Object(ke.a)(e,2),n=t[0],r=t[1],a=Object(Le.c)(),c=Object(Le.d)(De);""===c&&n&&r(!1),""===c||n||r(!0);var o=Z.a.createElement(J.Fragment,null,Z.a.createElement("div",null,"Current Selection: "),Z.a.createElement("div",{style:{color:"green"}}," ",c));return Z.a.createElement(we.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:n,onClose:function(e,t){"clickaway"===t?e.preventDefault():(r(!1),a(Se()))},message:o,action:Z.a.createElement(xe.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){r(!1),a(Se())}},Z.a.createElement(Fe.a,{fontSize:"small"}))})};function Be(){var e=window.getSelection();if(!e)return null;try{var t=document.activeElement;if(t&&t.value){var n=t.value.substring(t.selectionStart,t.selectionEnd);return""===n?null:{text:n,selection:e}}return{text:e.toString(),selection:e}}catch(r){return null}}var Ve={note:function(e){return e},q:function(e){return e.q},a:function(e){return e.a}},qe=function(e,t){return Ve[e](t)},ze={note:function(e,t){return t(e)},q:function(e,t){return Object(te.a)(Object(te.a)({},e),{},{q:t(e.q)})},a:function(e,t){return Object(te.a)(Object(te.a)({},e),{},{a:t(e.a)})}},Ge=function(e){return function(t){return e}},Qe=function(e){var t=qe(e.inputField,e.inputObject),n=e.createModify(t);return function(e,t,n){return ze[e](t,n)}(e.fieldToBeChanged,e.objectToBeChanged,n)},We=function(){return{q:{},a:{}}},Xe={q:We,a:We,note:function(){return""}},Ye=function(e){return Xe[e]()},Je=function(e,t,n){var r={inputObject:e,inputField:"note",fieldToBeChanged:t,objectToBeChanged:n||Ye(t),createModify:Ge};return Qe(r)},Ze=function(e,t,n,r){var a=r||Ye(n);return Qe({inputField:t,fieldToBeChanged:n,objectToBeChanged:a,inputObject:e,createModify:Ge})},Ke="cards",$e=Ke+"/CARD_UPDATE",et=Ke+"/CARD_PUSH",tt=Ke+"/CARD_REMOVE",nt=Ke+"/CARD_GOAL",rt=function(){return{q:"",a:""}},at={q:rt,a:rt,note:function(){return""}},ct=function(e){return at[e]()},ot=function(e){return""===e},it=function(e){return""===e.q||""===e.a},ut={APPEND:function(e){return function(t){return t+e}},REPLACE:Ge},lt=function(e){return ut[e]},st=function(e,t,n,r){var a={inputObject:e,inputField:"note",fieldToBeChanged:t,objectToBeChanged:r,createModify:lt(n)};return Qe(a)},dt=function(e){return parseInt(e)},ft=function(e){return(e+1).toString()},mt={Note:function(e){return ot(e.content)},"Q-A":function(e){return it(e.content)}},pt=function(e){return mt[e.type](e)},vt=function(e,t,n,r){var a=st(e,t,n,r.content);return Object(te.a)(Object(te.a)({},r),{},{content:a})},Et=function(e,t,n){var r={inputObject:e,inputField:"note",fieldToBeChanged:t,objectToBeChanged:n.origin?n.origin:Ye(t),createModify:Ge},a=Qe(r);return Object(te.a)(Object(te.a)({},n),{},{origin:a})},bt=function(e){return e[Ke].present},gt=Object(fe.a)(bt,(function(e){return e.lastCardIDNumber})),Ot=Object(fe.a)(bt,(function(e){return e.cards})),Dt=Object(fe.a)(bt,(function(e){return e.goalCard})),yt=function(e,t){return Ot(e)[t]},jt=function(e,t){return yt(e,t).origin},Ct=function(){return{type:"Note",content:""}},ht=function(){return{type:"Q-A",content:{q:"",a:""}}},St=function(e,t,n,r){var a=st(e,t,n,r.content);return Object(te.a)(Object(te.a)({},r),{},{content:a})},Tt={note:Ct,q:ht,a:ht},Rt=function(e){return Tt[e]()},At=function(e,t){return Object(te.a)(Object(te.a)({},e),{},{cardID:ft(gt(t))})},It=function(e){return function(t,n){t({type:et,payload:At(e,n())})}},Nt=function(){return It(Ct())},Pt=function(){return It(ht())},Mt=function(e){return{type:$e,payload:e}},_t=function(e,t,n){return Mt(vt(n,e,"REPLACE",t))},kt=function(e,t,n){return Mt(Et(n,e,t))},wt=function(e,t,n,r){var a=Object(te.a)(Object(te.a)({},t),{},{content:st(n,e,"REPLACE",t.content),origin:Je(r,e,t.origin)});return Mt(a)},xt=function(e){return{type:tt,payload:e}},Ut=function(e,t){return{type:nt,payload:Object(te.a)(Object(te.a)({},e),{},{creationType:t})}},Ft=function(){return{type:nt,payload:null}},Lt=n(141),Ht=n.n(Lt),Bt=n(330),Vt="Switch to the Active-River view",qt="Switch to the Summary-River view",zt="Undo last action",Gt="Redo last action",Qt="Next page",Wt="Previous page",Xt="Delete this card",Yt="Activate the document-selection grab for this card(-field)",Jt="Jump to the origin of the card content",Zt="Add the current selection to this card (only from document)",Kt="Create new QA-card",$t="Create new Note-card",en="Delete this document and all its corresponding cards",tn="Load the card data of this document",nn="No PDF file specified.",rn="Loading PDF\u2026",an="Active Document:",cn="Inactive documents with existing data:",on="Load document",un="Download document datasets",ln="Upload document datasets",sn="Note",dn="Question",fn="Answer",mn=500,pn=1e3,vn=function(e){var t=e.children;return Z.a.createElement(Bt.a,{title:$t,enterDelay:mn,enterNextDelay:pn},t)},En=function(e){var t=e.children;return Z.a.createElement(Bt.a,{title:Kt,enterDelay:mn,enterNextDelay:pn},t)},bn=function(e){var t=e.children;return Z.a.createElement(Bt.a,{title:Xt,enterDelay:mn,enterNextDelay:pn},t)},gn=function(e){var t=e.children;return Z.a.createElement(Bt.a,{title:Zt,enterDelay:mn,enterNextDelay:pn},t)},On={components:y,constants:D},Dn=function(){var e=Object(Le.c)();return Z.a.createElement(On.components.NewNoteCardTooltip,null,Z.a.createElement(xe.a,{type:"button",onClick:function(){e(Nt())}},Z.a.createElement(Ht.a,null)))},yn=n(142),jn=n.n(yn),Cn=function(){var e=Object(Le.c)();return Z.a.createElement(On.components.AddQAButtonTooltip,null,Z.a.createElement(xe.a,{type:"button",onClick:function(){e(Pt())}},Z.a.createElement(jn.a,null)))},hn=n(143),Sn=n.n(hn),Tn=function(e){var t=e.cardID,n=Object(Le.c)();return Z.a.createElement(On.components.DeleteCardButtonTooltip,null,Z.a.createElement(xe.a,{type:"button",onClick:function(){n(xt(t))}},Z.a.createElement(Sn.a,{fontSize:"small"})))},Rn=function(e,t){var n=Object(te.a)({},e.cards);return delete n[t],Object(te.a)(Object(te.a)({},e),{},{cards:n})},An=function(e,t,n){return Object(te.a)(Object(te.a)({},e),{},{cards:t,lastCardIDNumber:n})},In=function(e,t){var n=Object(te.a)({},e);return n[t.cardID]=t,n},Nn=In,Pn="documentDB",Mn=Pn+"/ARCHIVE_CURRENT_DATA",_n=Pn+"/LOAD_DOCUMENT_DATA_SETS",kn=Pn+"/DELETE_DOCUMENT_DATA_SET",wn=Pn+"/DOCUMENT_CHANGE",xn=function(e){return{type:Mn,payload:e}},Un=function(e,t){return{type:_n,payload:{dbData:e,newActiveDataSet:t}}},Fn=function(e){return{type:kn,payload:e}},Ln=n(32),Hn=function(e,t){return Object(te.a)(Object(te.a)({},e),{},{documentDB:Object(te.a)(Object(te.a)({},e.documentDB),{},Object(Ln.a)({},t.name,t))})},Bn=function(e,t){return Object(te.a)(Object(te.a)({},e),{},{documentDB:Object(te.a)(Object(te.a)({},e.documentDB),t.reduce((function(e,t){return e[t.name]=t,e}),{}))})},Vn=function(e,t){return Object(te.a)(Object(te.a)({},e),{},{documentDB:Object.fromEntries(Object.entries(e.documentDB).filter((function(e){return e[0]!==t})))})},qn={documentDB:{}},zn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Mn:return Hn(e,r);case _n:return Bn(e,r.dbData);case kn:return Vn(e,r);default:return e}},Gn=function(e){return e[Pn].present},Qn=Object(fe.a)(Gn,(function(e){return e.documentDB})),Wn=Object(fe.a)(Qn,(function(e){return Object.keys(e)})),Xn=Object(fe.a)(Qn,(function(e){return Object.values(e)})),Yn={actions:T,actionTypes:S,constants:h,reducer:zn,selectors:R},Jn={cards:{0:{cardID:"0",type:"Q-A",content:{q:"Was ist der Sinn des Lebens?",a:"42"}},1:{cardID:"1",type:"Q-A",content:{q:"Welches Layout macht mehr Sinn?",a:"??"}},2:{cardID:"2",type:"Note",content:"Note here"}},lastCardIDNumber:2,goalCard:null},Zn={services:f,constants:m,actionTypes:p,actions:O,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case et:var a=dt(r.cardID)+1;return Object(te.a)(Object(te.a)({},e),{},{cards:Nn(e.cards,r),lastCardIDNumber:a});case $e:var c=null;return Object(te.a)(Object(te.a)({},e),{},{cards:In(e.cards,r),goalCard:c});case tt:return Rn(e,r);case nt:return Object(te.a)(Object(te.a)({},e),{},{goalCard:r});case Yn.actionTypes.DOCUMENT_CHANGE:return r?An(Jn,r.cards,r.lastCardIDNumber):Jn;case Yn.actionTypes.LOAD_DOCUMENT_DATA_SETS:return r.newActiveDataSet?An(Jn,r.cards,r.lastCardIDNumber):e;default:return e}},selectors:b,components:j,model:C},Kn=function(e,t,n,r){return function(a,c){var o,i,u=c(),l=void 0!==r,s=Ce(u);s?(a(Ne()),o=s.sourceField,i=s.origin):(o="note",i=n);var d=De(u);if(l){var f=Zn.selectors.getCardByID(c(),r),m=i?Zn.services.transformInputOrigin(i,o,e,f.origin):void 0,p=Zn.model.model_config.strToCardConfig(d,e,t,f);a(Zn.actions.cardUpdate(Object(te.a)(Object(te.a)({},p),{},{origin:m})))}else{var v=i?Zn.services.transformInputOrigin(i,o,e):void 0,E=Zn.model.model_payload.cardFieldToEmptyPayload(e),b=Zn.model.model_payload.strToCardPayload(d,e,t,E);a(Zn.actions.cardPush(Object(te.a)(Object(te.a)({},b),{},{origin:v})))}a(Se())}},$n=function(e,t,n){return Kn(e,"APPEND",t,n)},er=function(e,t,n){return Kn(e,"REPLACE",t,n)},tr={actions:u,actionTypes:o,constants:c,components:l,reducer:_e,selectors:i,services:I},nr=function(e){return e[ne]},rr=Object(fe.a)(nr,(function(e){return{pdf:e.pdf?e.pdf:null}})),ar=Object(fe.a)(nr,(function(e){return e.pdfName})),cr=Object(fe.a)(nr,(function(e){return{pdf:e.pdf,currentPage:e.currentPage,documentRef:e.documentRef}})),or=Object(fe.a)(nr,(function(e){return e.totalPages})),ir=Object(fe.a)(nr,(function(e){return e.currentPage})),ur=Object(fe.a)(or,ir,(function(e,t){return{currentPage:t,totalPages:e}})),lr=Object(fe.a)(nr,(function(e){return e.documentRef})),sr=Object(fe.a)(nr,(function(e){return e.materialData})),dr=Object(fe.a)(sr,(function(e){return e.materialDataTimeStamp})),fr=Object(fe.a)(sr,(function(e){return e.materialSpans})),mr=function(e,t){return fr(e).indexOf(t)},pr=Object(fe.a)(sr,(function(e){return e.materialBoundingRects})),vr=Object(fe.a)(dr,(function(e){return e>0})),Er=Object(fe.a)(nr,(function(e){return e.displayStatus})),br=Object(fe.a)(Er,(function(e){return"SHOW"===e})),gr=Object(fe.a)(nr,(function(e){return e.zoomTargetSpanIndex})),Or=Object(fe.a)(nr,(function(e){return e.materialHeight})),Dr=Object(fe.a)((function(e){return e}),ir,tr.selectors.getCurrentSelectedParent,(function(e,t,n){return{spanIndex:mr(e,n),page:t}})),yr=function(){var e=0;return function(){var t=e;return e++,t}};var jr=n(53),Cr=function(e){return{span:e,rect:e.getBoundingClientRect()}},hr=function(e){var t=Array.from(e.querySelectorAll("span"));if(0===t.length)return null;var n=function(e){var t,n=[],r=[],a=Object(jr.a)(e);try{for(a.s();!(t=a.n()).done;){var c=t.value;n.push(c.span),r.push(c.rect)}}catch(o){a.e(o)}finally{a.f()}return{spans:n,boundingRects:r}}(function(e){return e.map(Cr)}(t).sort((function(e,t){return e.rect.y-t.rect.y})));return{materialSpans:n.spans,materialBoundingRects:n.boundingRects}},Sr=function(e){return{type:re,payload:e}},Tr=function(e){return function(t){var n=e.target.files,r=n?n[0]:null;r&&t(Sr(r))}},Rr=function(e){return{type:ae,payload:e}};function Ar(e){return function(t,n){var r=n(),a=e.current;if(a){var c=Date.now(),o=hr(a);if(o&&dr(r)<c){var i=Object(te.a)(Object(te.a)({},o),{},{materialDataTimeStamp:c});t({type:ue,payload:i})}else!function(e,t,n){var r=yr(),a=setInterval((function(){(r()>e||n())&&clearInterval(a)}),t)}(10,20,(function(){var e=hr(a);if(e&&dr(n())<c){var r=Object(te.a)(Object(te.a)({},e),{},{materialDataTimeStamp:c});return t({type:ue,payload:r}),!0}return!1}))}}}var Ir,Nr=function(e){return{type:oe,payload:e}},Pr=function(e){return function(t,n){var r=ur(n()),a=r.currentPage,c=r.totalPages;switch(e){case"NEXT":t(Nr(se(a+1,c)));break;case"PREVIOUS":t(Nr(de(a-1,c)))}}},Mr=function(){return Pr("NEXT")},_r=function(){return Pr("PREVIOUS")},kr={ArrowLeft:_r(),ArrowRight:Mr()},wr=(Ir=kr,function(e,t){var n=Ir[e.key];n&&(e.preventDefault(),t(n))}),xr=function(){return function(e,t){var n="SHOW"===Er(t())?"HIDE":"SHOW";e({type:ce,payload:n})}},Ur=function(e){return{type:ie,payload:e}},Fr=function(e,t){return function(n){console.log(t,e),n(Nr(t)),n(Ur(e))}},Lr=function(){return function(e,t){var n=t(),r=gr(n);if(r){var a=fr(n);if(a)a[r].scrollIntoView({behavior:"smooth",block:"center",inline:"center"});e(Ur(null))}}},Hr=function(e){return{type:le,payload:e}},Br=function(){return function(e,t){var n=tr.services.getSelection();if(n){var r,a=n.text,c=n.selection,o=t(),i=Zn.selectors.getGoalCard(o),u=null===(r=c.anchorNode)||void 0===r?void 0:r.parentNode;e(tr.actions.selectedParent(u)),e(i?Zn.actions.replaceCardField(i.creationType,i,a,Dr(t())):tr.actions.updateManuallySelectedString(a))}}},Vr=n(306),qr=n(308),zr=n(145),Gr=n.n(zr),Qr=n(144),Wr=n.n(Qr),Xr=function(){var e=Object(Le.c)();return Z.a.createElement(Bt.a,{title:On.constants.previousPageTooltip,enterDelay:On.constants.defaultEnterDelay,enterNextDelay:On.constants.defaultEnterNextDelay},Z.a.createElement(xe.a,{type:"button",onClick:function(){e(_r())}},Z.a.createElement(Wr.a,null)))},Yr=function(){var e=Object(Le.c)();return Z.a.createElement(Bt.a,{title:On.constants.nextPageTooltip,enterDelay:On.constants.defaultEnterDelay,enterNextDelay:On.constants.defaultEnterNextDelay},Z.a.createElement(xe.a,{type:"button",onClick:function(){e(Mr())}},Z.a.createElement(Gr.a,null)))},Jr=function(){return Z.a.createElement(Vr.a,{variant:"outlined"},Z.a.createElement(ee.a,{container:!0,direction:"row"},Z.a.createElement(ee.a,{item:!0},Z.a.createElement(Xr,null)),Z.a.createElement(ee.a,{item:!0},Z.a.createElement(qr.a,{orientation:"vertical"})),Z.a.createElement(ee.a,{item:!0},Z.a.createElement(Yr,null))))},Zr=n(325),Kr=n(114),$r=/(\D)/,ea=function(){var e=Object(Le.c)(),t=Object(Le.d)(ur),n=t.currentPage,r=t.totalPages,a=Object(J.useState)({error:!1,value:null===n||void 0===n?void 0:n.toString(),userInput:null===n||void 0===n?void 0:n.toString()}),c=Object(ke.a)(a,2),o=c[0],i=c[1];return o.value!==n.toString()&&i({error:!1,value:n.toString(),userInput:n.toString()}),Z.a.createElement(Vr.a,{variant:"outlined"},Z.a.createElement(ee.a,{item:!0},Z.a.createElement(ee.a,{container:!0,direction:"row",alignItems:"center",justify:"space-between"},Z.a.createElement(ee.a,{item:!0,style:{width:"37%"}},Z.a.createElement(Zr.a,{inputProps:{style:{padding:"0px",fontSize:"1.25rem",fontFamily:'"Roboto", "Helvetica", "Arial", sansSerif',fontWeight:500,lineHeight:1.6,letterSpacing:"0.0075em"}},type:"text",variant:"filled",value:o.userInput,onKeyDown:function(t){if("Enter"===t.key){t.preventDefault();var n=t.target.value;o.error||e(Nr(parseInt(n)))}},onChange:function(e){var t=e.target.value;!function(e,t){if(""===e||null!==e.trim().match($r))return!1;var n=parseInt(e);return!(n<1||t<n)}(t,r)?i(Object(te.a)(Object(te.a)({},o),{},{error:!0,userInput:t})):i(Object(te.a)(Object(te.a)({},o),{},{error:!1,userInput:t}))},error:o.error})),Z.a.createElement(ee.a,{item:!0,style:{width:"61%"}},Z.a.createElement(Kr.a,{variant:"h6"},"of ",r)))))},ta=n(146),na=n(90),ra=(n(207),n(208),n(42)),aa=function(e){var t=e.children,n=Object(Le.c)(),r=Object(J.useRef)(null);return Z.a.createElement("span",{ref:r,onKeyDown:function(e){wr(e,n)},tabIndex:0},t)};ra.c.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(ra.c.version,"/pdf.worker.js");var ca={cMapUrl:"cmaps/",cMapPacked:!0};var oa=Object(Le.b)(cr,{materialLoaded:Rr,captureMaterialData:Ar})((function(e){var t=e.parentSize,n=e.pdf,r=e.currentPage,a=e.materialLoaded,c=e.captureMaterialData,o=e.documentRef,i=Object(Le.c)(),u=Object(Le.d)(gr);return Object(J.useEffect)((function(){u&&n&&i(Lr())}),[u,n,i]),Z.a.createElement("span",{onMouseUp:function(){n&&i(Br())}},Z.a.createElement(aa,null,Z.a.createElement(ra.a,{file:n,options:ca,onLoadSuccess:function(e){var t=e.numPages;a(t)},inputRef:o,onItemClick:function(e){var t=e.pageNumber;i(Nr(parseInt(t)))},loading:On.constants.loadingMaterialText,noData:On.constants.noMaterialText,renderMode:"canvas"},n&&Z.a.createElement(ra.b,{width:t.width,pageNumber:r,onRenderSuccess:function(){document.querySelectorAll(".react-pdf__Page__textContent").forEach((function(e){var t=e.style;t.top="0",t.left="0",t.transform=""})),c(o)}}))))})),ia=n(148),ua=n(149),la=n(74),sa=n(171),da=n(170),fa=n(172),ma=n(95),pa=function(e){var t=e.index,n=e.data,r=e.style,a=n.scale,c=n.numPages,o=n.triggerResize,i=t+1;return Z.a.createElement("div",{style:r},Z.a.createElement("div",{ref:function(e){var t=n.pages,r=n.pageNumbers;if(!r.has(i)){var a={pageNumber:i};r.set(i,a)}t.set(r.get(i),e)}},Z.a.createElement(ra.b,Object.assign({pageNumber:i},{scale:a},{renderAnnotationLayer:!1,onLoadError:function(e){return console.error(e)},onLoadSuccess:function(e){e.pageNumber===c&&o()}}))))};ra.c.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(ra.c.version,"/pdf.worker.js");var va=function(){return Z.a.createElement("div",{className:"loader"},Z.a.createElement("div",{className:"loader-invert line-scale"},Z.a.createElement("div",null),Z.a.createElement("div",null),Z.a.createElement("div",null),Z.a.createElement("div",null),Z.a.createElement("div",null)))},Ea=function(e){Object(sa.a)(n,e);var t=Object(da.a)(n);function n(e){var r;return Object(ia.a)(this,n),(r=t.call(this,Object(te.a)(Object(te.a)({},e),{},{scale:1.2}))).props=void 0,r.state=void 0,r._callOrientationChangeHandler=void 0,r._callResizeHandler=void 0,r._list=void 0,r._mounted=!1,r.state={initialContainerHeight:null,containerHeight:null,pdf:null,currentPage:1,cachedPageDimensions:null,responsiveScale:1,pageNumbers:new Map,pages:new WeakMap},r._list=Object(J.createRef)(),r._callResizeHandler=Object(ma.debounce)(50,r.handleResize.bind(Object(la.a)(r))),r._callOrientationChangeHandler=Object(ma.debounce)(1e3,r.handleResize.bind(Object(la.a)(r))),r}return Object(ua.a)(n,[{key:"componentDidMount",value:function(){console.log("mounting"),this._mounted=!0,window.addEventListener("resize",this._callResizeHandler),window.addEventListener("orientationchange",this._callOrientationChangeHandler)}},{key:"componentWillUnmount",value:function(){this._mounted=!1,window.removeEventListener("resize",this._callResizeHandler),window.removeEventListener("orientationchange",this._callOrientationChangeHandler)}},{key:"cachePageDimensions",value:function(e){var t=this,n=Array.from({length:e.numPages},(function(e,t){return t+1})).map((function(t){return e.getPage(t)})),r=0;Promise.all(n).then((function(e){if(t._mounted){var n,a=new Map,c=Object(jr.a)(e);try{for(c.s();!(n=c.n()).done;){var o=n.value,i=o.view[2]*t.props.scale,u=o.view[3]*t.props.scale;console.log(t.props.scale,o,[i,u]),a.set(o._pageIndex+1,[i,u]),r+=u}}catch(l){c.e(l)}finally{c.f()}console.log(e,a),t.setState({cachedPageDimensions:a,initialContainerHeight:r,containerHeight:r})}}))}},{key:"recomputeRowHeights",value:function(){this._list.current.resetAfterIndex(0)}},{key:"computeRowHeight",value:function(e){var t=this.state,n=t.cachedPageDimensions,r=t.responsiveScale;return n&&r?n.get(e+1)[1]/r:768}},{key:"onDocumentLoadSuccess",value:function(e){this.setState({pdf:e}),this.cachePageDimensions(e)}},{key:"updateCurrentVisiblePage",value:function(e){var t=e.visibleStopIndex;this.setState({currentPage:t+1})}},{key:"computeResponsiveScale",value:function(e){var t=this.state,n=t.cachedPageDimensions,r=t.pages,a=t.pageNumbers,c=r.get(a.get(e));if(c)return n.get(e)[1]/c.clientHeight}},{key:"handleResize",value:function(){var e=this,t=this.state,n=t.currentPage,r=t.responsiveScale,a=t.initialContainerHeight,c=this.computeResponsiveScale(n);if(c&&r!==c){var o=a/c;this.setState({responsiveScale:c,containerHeight:o},(function(){return e.recomputeRowHeights()}))}}},{key:"render",value:function(){var e=this.props.scale,t=this.state,n=t.cachedPageDimensions,r=t.containerHeight,a=t.pdf,c=t.pages,o=t.pageNumbers;return Z.a.createElement(ra.a,{file:this.props.pdfFile,loading:Z.a.createElement(va,null),onLoadSuccess:this.onDocumentLoadSuccess.bind(this),onLoadError:function(e){return console.error(e)}},n&&Z.a.createElement(fa.a,{height:r,itemCount:a.numPages,itemSize:this.computeRowHeight.bind(this),itemData:{scale:e,pages:c,pageNumbers:o,numPages:a.numPages,triggerResize:this.handleResize.bind(this)},overscanCount:2,onItemsRendered:this.updateCurrentVisiblePage.bind(this),ref:this._list,width:"100%"},pa))}}]),n}(J.PureComponent);Ea.defaultProps={scale:1.2};var ba=Object(ta.withSize)({monitorHeight:!0,noPlaceholder:!0})((function(e){var t=e.size,n=e.hidden,r=Object(J.useState)(3),a=Object(ke.a)(r,2),c=a[0],o=a[1],i=Object(Le.c)(),u=Object(Le.d)(Or);Object(J.useLayoutEffect)((function(){u||i(Hr(t.height)),u&&u!==t.height&&i(Hr(t.height))}),[i,u,t.height]);var l=Object(Le.d)(rr);return Z.a.createElement(ee.a,{item:!0,style:{width:"60%"},onMouseEnter:function(){o(20)},onMouseLeave:function(){o(3)},hidden:n},Z.a.createElement(na.a,{elevation:c},Z.a.createElement(oa,{parentSize:t}),l.pdf&&!1))})),ga={displayStatus:"SHOW",totalPages:1e3,currentPage:1,documentRef:Object(J.createRef)(),pageSpans:{},zoomTargetSpanIndex:null,materialData:{materialDataTimeStamp:-1/0}},Oa={actions:P,actionTypes:a,components:M,constants:r,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ga,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case re:return Object(te.a)(Object(te.a)({},e),{},{pdf:r,pdfName:r.name});case Yn.actionTypes.DOCUMENT_CHANGE:return r?r.name===e.pdfName?e:Object(te.a)(Object(te.a)({},ga),{},{pdf:void 0,pdfName:r.name,totalPages:r.totalPages,currentPage:r.currentPage}):e;case ae:return Object(te.a)(Object(te.a)({},e),{},{totalPages:r});case oe:return Object(te.a)(Object(te.a)({},e),{},{currentPage:r});case ce:return Object(te.a)(Object(te.a)({},e),{},{displayStatus:r});case ue:return Object(te.a)(Object(te.a)({},e),{},{materialData:r,pageSpans:Object(te.a)(Object(te.a)({},e.pageSpans),{},Object(Ln.a)({},e.currentPage,r.materialSpans.length-1))});case le:return Object(te.a)(Object(te.a)({},e),{},{materialHeight:r});case ie:return Object(te.a)(Object(te.a)({},e),{},{zoomTargetSpanIndex:r});default:return e}},selectors:N},Da=n(28),ya=n.n(Da),ja="cardRiverState",Ca=n(309),ha=n(310),Sa=function(e){return e[ja].present},Ta=Object(fe.a)(Sa,(function(e){return e.riverMakeUps})),Ra=Object(fe.a)(Sa,(function(e){return e.activeRiverMakeUpID})),Aa=Object(fe.a)(Sa,(function(e){return e.pushToRiverID})),Ia=Object(fe.a)(Ta,Aa,(function(e,t){return e[t]})),Na=Object(fe.a)(Ta,Ra,(function(e,t){return e[t]})),Pa=Object(fe.a)(Ia,(function(e){return e.cardIDs})),Ma=Object(fe.a)(Pa,Zn.selectors.getCards,(function(e,t){return e.map((function(e){return t[e]}))})),_a=Object(fe.a)(Na,(function(e){return e.cardIDs})),ka=Object(fe.a)(_a,Zn.selectors.getCards,(function(e,t){return e.map((function(e){return t[e]}))})),wa=Object(fe.a)(Sa,(function(e){return e.riverShowState})),xa=Object(fe.a)(wa,(function(e){return"SHOW"===e})),Ua=Object(fe.a)(Sa,(function(e){return{id:e.highlightedCardID,field:e.highlightedCardField}})),Fa=Object(fe.a)(Sa,(function(e){return e.lastRiverIDNumber})),La=Object(fe.a)(Sa,(function(e){return e.riverContentState})),Ha=Object(fe.a)(Sa,(function(e){return e.contentFilter})),Ba=ja+"/RIVER_SHOW_STATE",Va=ja+"/RIVER_CONTENT_STATE",qa=ja+"/RIVER_PUSH_STATE",za=ja+"/RIVER_HOVERED_CARD",Ga=ja+"/RIVER_CONTENT_FILTER",Qa=function(){return function(e,t){e({type:Ba,payload:xa(t())?"HIDE":"SHOW"})}},Wa=function(e){return{type:Va,payload:e}},Xa=function(e){return{type:qa,payload:e}},Ya=function(e){return function(t,n){Aa(n())!==e&&t(Xa(e))}},Ja=function(e,t){return{payload:{id:e,field:t},type:za}},Za=function(e,t){return function(n,r){var a=r(),c=Ua(a);c.id===e&&c.field===t||n(Ja(e,t))}},Ka=function(){return{payload:{id:null,field:null},type:za}},$a=function(e){return{type:Ga,payload:e}},ec=function(){return{type:Ga,payload:""}},tc=n(7),nc=n(327),rc=n(99),ac=Object(tc.a)({root:{color:rc.a[400],"&$checked":{color:rc.a[600]}},checked:{}})((function(e){return Z.a.createElement(nc.a,Object.assign({color:"default"},e))})),cc=function(){var e=Object(Le.d)(La),t=Object(Le.c)(),n="ALL"===e||"QAS"===e,r="ALL"===e||"NOTES"===e,a=function(e){n||"QAS"!==e?r||"NOTES"!==e?n&&"QAS"===e?t(Wa(r?"NOTES":"NONE")):r&&"NOTES"===e&&t(Wa(n?"QAS":"NONE")):t(Wa(n?"ALL":"NOTES")):t(Wa(r?"ALL":"QAS"))};return Z.a.createElement(Ca.a,null,Z.a.createElement(ha.a,{control:Z.a.createElement(ac,{checked:n,onClick:function(){a("QAS")}}),label:"QAs"}),Z.a.createElement(ha.a,{control:Z.a.createElement(ac,{checked:r,onClick:function(){a("NOTES")}}),label:"Notes"}))},oc="appFocus",ic=oc+"/DISPLAY_FOCUS_UPDATE",uc=function(e){return{type:ic,payload:e}},lc={displayFocus:"ACTIVE_RIVER"},sc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lc,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case ic:return Object(te.a)(Object(te.a)({},e),{},{displayFocus:r});default:return e}},dc=function(e){return e[oc]},fc=Object(fe.a)(dc,(function(e){return e.displayFocus})),mc={actions:F,constants:x,reducer:sc,selectors:L,actionTypes:U},pc=n(75),vc=function(e){var t=e.storeValue,n=void 0===t?"":t,r=e.saveChanges,a=e.setSourceCard,c=e.style,o=Object(pc.a)(e,["storeValue","saveChanges","setSourceCard","style"]),i=Object(J.useState)({storeValue:n,mutableValue:n}),u=Object(ke.a)(i,2),l=u[0],s=u[1],d=Object(Le.c)();return l.storeValue!==n&&s({storeValue:n,mutableValue:n}),Z.a.createElement(Zr.a,Object.assign({InputProps:{disableUnderline:!0,style:{minWidth:"400px"}},multiline:!0,variant:"filled",value:l.mutableValue,onChange:function(e){var t=e.target.value;s(Object(te.a)(Object(te.a)({},l),{},{mutableValue:t}))},onBlur:function(e){r(e.target.value)},onMouseUp:function(){Ec(d,a)},style:c},o))},Ec=function(e,t){var n=tr.services.getSelection();if(n){var r=n.text;t(),e(tr.actions.updateManuallySelectedString(r))}},bc=n(150),gc=n.n(bc),Oc=function(e){var t=e.cardOrigin,n=Object(Le.c)();return Z.a.createElement(Bt.a,{title:On.constants.jumpToOriginTooltip,enterDelay:On.constants.defaultEnterDelay,enterNextDelay:On.constants.defaultEnterNextDelay},Z.a.createElement(xe.a,{type:"button",onClick:function(){n(mc.actions.updateDisplayFocus("ACTIVE_RIVER")),n(Oa.actions.zoomToCardOrigin(t.spanIndex,t.page))}},Z.a.createElement(gc.a,{fontSize:"small"})))},Dc=n(152),yc=n.n(Dc),jc=n(151),Cc=n.n(jc),hc=function(e){var t=e.cardConfig,n=e.cardField,r=Object(Le.c)(),a=Object(Le.d)(Zn.selectors.getGoalCard),c=Object(J.useState)(!0),o=Object(ke.a)(c,2),i=o[0],u=o[1];a?function(e,t,n){return e.cardID===n.cardID&&t===n.creationType}(t,n,a)?i&&u(!1):i||u(!0):i||u(!0);return Z.a.createElement(Bt.a,{title:On.constants.grabForCardTooltip,enterDelay:On.constants.defaultEnterDelay,enterNextDelay:On.constants.defaultEnterNextDelay},Z.a.createElement(xe.a,{type:"button",onClick:function(){r(i?Zn.actions.setGoalCard(t,n):Zn.actions.resetGoalCard())}},i?Z.a.createElement(Cc.a,{fontSize:"small"}):Z.a.createElement(yc.a,{fontSize:"small"})))},Sc=n(153),Tc=n.n(Sc),Rc=function(e){var t=e.cardField,n=e.cardID,r=Object(Le.c)(),a=Object(Le.d)(tr.selectors.getCurrentSelectedParent),c=Object(Le.e)();return Z.a.createElement(On.components.AppendButtonTooltip,null,Z.a.createElement(xe.a,{type:"button",onClick:function(){if(a){var e=Oa.selectors.getCurrentOrigin(c.getState());r(tr.services.use_selection.selectionToCardAppend(t,e,n))}}},Z.a.createElement(Tc.a,{fontSize:"small"})))},Ac=function(e){var t=e.config,n=e.cardField,r="ACTIVE_RIVER"===Object(Le.d)(mc.selectors.getDisplayFocus);return Z.a.createElement(na.a,{variant:"outlined"},Z.a.createElement(ee.a,{container:!0,direction:"row"},Z.a.createElement(ee.a,{item:!0},r&&Z.a.createElement(Rc,{cardID:t.cardID,cardField:n})),Z.a.createElement(ee.a,{item:!0},r&&Z.a.createElement(hc,{cardConfig:t,cardField:n})),Z.a.createElement(ee.a,{item:!0},t.origin&&Z.a.createElement(Oc,{cardOrigin:Zn.model.model_permutation.toFieldValue(n,t.origin)}))))},Ic=function(e){var t=e.config,n=Object(Le.c)(),r=Object(Le.d)(Ua),a=r.id,c=r.field,o=t.cardID===a,i=Object(J.useRef)();return Object(J.useEffect)((function(){i.current&&o&&i.current.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})})),Z.a.createElement(Vr.a,{variant:"elevation",elevation:5,ref:i,style:{padding:"3px"}},Z.a.createElement(ee.a,{container:!0,direction:"row",justify:"space-between"},Z.a.createElement(ee.a,{item:!0},Z.a.createElement(ee.a,{container:!0,direction:"column",spacing:1},Z.a.createElement(ee.a,{item:!0},Z.a.createElement(ee.a,{container:!0,direction:"row",spacing:1},Z.a.createElement(ee.a,{item:!0},Z.a.createElement("div",{style:o&&"q"===c?Pc:void 0},Z.a.createElement(vc,{saveChanges:function(e){n(Zn.actions.replaceCardFieldContent("q",t,e))},storeValue:t.content.q,label:On.constants.questionText,variant:"filled",style:{backgroundColor:"#FFBF69"},InputLabelProps:{style:{color:"#000000"}},setSourceCard:function(){n(tr.actions.setSourceCard("q",t.origin))}}))),Z.a.createElement(ee.a,{item:!0},Z.a.createElement(Ac,{cardField:"q",config:t})))),Z.a.createElement(ee.a,{item:!0},Z.a.createElement(ee.a,{container:!0,direction:"row",spacing:1},Z.a.createElement(ee.a,{item:!0},Z.a.createElement("div",{style:o&&"a"===c?Pc:void 0},Z.a.createElement(vc,{saveChanges:function(e){n(Zn.actions.replaceCardFieldContent("a",t,e))},storeValue:t.content.a,label:On.constants.answerText,style:{backgroundColor:"#2EC4B6"},InputLabelProps:{style:{color:"#000000"}},setSourceCard:function(){n(tr.actions.setSourceCard("a",t.origin))}}))),Z.a.createElement(ee.a,{item:!0},Z.a.createElement(Ac,{cardField:"a",config:t})))))),Z.a.createElement(ee.a,{item:!0},Z.a.createElement(Zn.components.DeleteCardButton,{cardID:t.cardID}))))},Nc=function(e){var t=e.config,n=Object(Le.c)(),r=Object(Le.d)(Ua).id,a=t.cardID===r,c=Object(J.useRef)();return Object(J.useEffect)((function(){c.current&&a&&c.current.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})})),Z.a.createElement(Vr.a,{variant:"elevation",elevation:5,style:a?Object(te.a)(Object(te.a)({},Pc),{},{padding:"3px"}):{padding:"3px"},ref:c},Z.a.createElement(ee.a,{container:!0,direction:"row",justify:"space-between"},Z.a.createElement(ee.a,{item:!0},Z.a.createElement(ee.a,{container:!0,direction:"row",spacing:1},Z.a.createElement(ee.a,{item:!0},Z.a.createElement(vc,{saveChanges:function(e){n(Zn.actions.cardUpdate(Object(te.a)(Object(te.a)({},t),{},{content:e})))},storeValue:t.content,label:On.constants.noteText,variant:"filled",style:{backgroundColor:"#CBF3F0"},InputLabelProps:{style:{color:"#000000"}},setSourceCard:function(){n(tr.actions.setSourceCard("note",t.origin))}})),Z.a.createElement(ee.a,{item:!0},Z.a.createElement(Ac,{cardField:"note",config:t})))),Z.a.createElement(ee.a,{item:!0},Z.a.createElement(Zn.components.DeleteCardButton,{cardID:t.cardID}))))},Pc={border:"4px solid green",borderRadius:"4px"},Mc=function(e){var t=e.config,n=e.riverID;switch(t.type){case"Note":return Z.a.createElement(Nc,{config:t,riverID:n});case"Q-A":return Z.a.createElement(Ic,{config:t,riverID:n})}},_c=function(){return Z.a.createElement(ee.a,{item:!0},Z.a.createElement(qr.a,null))},kc=n(331),wc=n(311),xc=n(312),Uc=function(e){var t=e.riverID,n=e.gridItems,r=e.summary,a=Object(J.useState)(3),c=Object(ke.a)(a,2),o=c[0],i=c[1],u=Object(Le.d)(Aa);t===u&&3===o?i(20):t!==u&&3!==o&&i(3);var l=Object(Le.d)(Oa.selectors.getMaterialHeight),s=Object(Le.d)(mc.selectors.getDisplayFocus),d=Object(Le.c)();return Z.a.createElement(kc.a,{defaultExpanded:!0,onMouseEnter:function(){d(Ya(t))},elevation:o,style:"ACTIVE_RIVER"===s?{overflowY:"auto",maxHeight:l||"1400px"}:{}},Z.a.createElement(wc.a,null,Z.a.createElement(Kr.a,{variant:"h6",align:"center",style:{MozUserSelect:"none",WebkitUserSelect:"none",msUserSelect:"none"}},r)),Z.a.createElement(xc.a,null,Z.a.createElement(ee.a,{container:!0,direction:"column",spacing:2,justify:"center",alignItems:"stretch"},Z.a.createElement(ee.a,{item:!0},Z.a.createElement(Zn.components.AddQAButton,null),Z.a.createElement(Zn.components.AddNoteButton,null),Z.a.createElement(qr.a,null)),Z.a.createElement(ee.a,{item:!0},Z.a.createElement(ee.a,{container:!0,direction:"column",spacing:2,justify:"center",alignItems:"stretch"},n)))))},Fc=function(e){var t=e.riverID,n=e.riverCards,r=Object(Le.d)(La),a=Object(Le.d)(Ha),c=Object(J.useMemo)((function(){var e=n;return"NONE"===r?[]:("ALL"!==r&&("QAS"===r&&(e=n.filter((function(e){return"Q-A"===e.type}))),"NOTES"===r&&(e=n.filter((function(e){return"Note"===e.type})))),""!==a&&(e=e.filter((function(e){switch(e.type){case"Note":return function(e,t){return e.content.includes(t)}(e,a);case"Q-A":return function(e,t){return e.content.a.includes(t)||e.content.q.includes(t)}(e,a)}return!1}))),function(e,t){var n=yr();return e.reduce((function(e,r,a,c){return e.push(Z.a.createElement(ee.a,{item:!0,key:n()},Z.a.createElement(Mc,{config:r,riverID:t,key:n()}))),a<c.length-1&&e.push(Z.a.createElement(_c,{key:n()})),e}),[])}(e,t))}),[n,t,r,a]);return Z.a.createElement(Uc,{riverID:t,gridItems:c,summary:t})},Lc=function(e){return"CardRiver "+e},Hc=function(e){return{riverID:Lc(e),cardIDs:[]}},Bc=function(e){for(var t=Object(te.a)({},e),n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach((function(e){t.riverMakeUps[e.riverID]=e})),t},Vc=function(e){return Object(te.a)(Object(te.a)({},e.riverMakeUps[e.activeRiverMakeUpID]),{},{active:!1})},qc=function(e,t){var n=Object.fromEntries(Object.entries(e.riverMakeUps).map((function(e){return[e[0],Object(te.a)(Object(te.a)({},e[1]),{},{cardIDs:e[1].cardIDs.filter((function(e){return e!==t}))})]})));return Object(te.a)(Object(te.a)({},e),{},{riverMakeUps:n})},zc=function(){var e=Object(Le.d)(mc.selectors.getDisplayFocus),t=Object(Le.d)(Oa.selectors.getCurrentPage),n=Object(Le.d)(Zn.selectors.getCards),r=Object.values(Object(Le.d)(Ta)),a=Object(J.useRef)(null);Object(J.useEffect)((function(){"SUMMARY_RIVER"===e&&null!==a.current&&(a.current.getBoundingClientRect().y<100?window.scrollTo({top:0,behavior:"smooth"}):a.current.scrollIntoView({behavior:"smooth",block:"start",inline:"start"}))}),[e,t]);var c=yr();return Z.a.createElement(ee.a,{container:!0,justify:"flex-start",direction:"row",alignItems:"stretch",spacing:1},r.map((function(e){return e.cardIDs.length>0?Z.a.createElement(ee.a,{item:!0,ref:(r=e.riverID,parseInt(r.replace("CardRiver ",""))===t?a:null),key:c()},Z.a.createElement(Fc,{riverID:e.riverID,riverCards:e.cardIDs.map((function(e){return n[e]})),key:c()})):null;var r})))},Gc=function(){var e=Object(Le.d)(Ra),t=Object(Le.d)(ka);return Z.a.createElement(Fc,{riverID:e,riverCards:t})},Qc=n(98),Wc={riverMakeUps:Object(Ln.a)({},Lc(1),{riverID:Lc(1),cardIDs:["2","0","1"]}),pushToRiverID:Lc(1),activeRiverMakeUpID:Lc(1),lastRiverIDNumber:1,riverShowState:"SHOW",highlightedCardID:null,highlightedCardField:null,riverContentState:"ALL",contentFilter:""},Xc={constants:_,components:H,reducer:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wc,r=arguments.length>1?arguments[1]:void 0,a=r.type,c=r.payload;switch(a){case Oa.actionTypes.PAGE_UPDATE:var o;o=n.riverMakeUps[Lc(c)]?Object(te.a)({},n.riverMakeUps[Lc(c)]):Hc(c);var i=Vc(n);return Object(te.a)(Object(te.a)({},Bc(n,o,i)),{},{activeRiverMakeUpID:o.riverID,pushToRiverID:o.riverID});case Zn.actionTypes.CARD_PUSH:return e=Object(te.a)(Object(te.a)({},n.riverMakeUps[n.pushToRiverID]),{},{cardIDs:[].concat(Object(Qc.a)(n.riverMakeUps[n.pushToRiverID].cardIDs),[c.cardID])}),(t=Object(te.a)({},n.riverMakeUps))[n.pushToRiverID]=e,Object(te.a)(Object(te.a)({},n),{},{riverMakeUps:t});case Zn.actionTypes.CARD_REMOVE:return qc(n,c);case Ba:return Object(te.a)(Object(te.a)({},n),{},{riverShowState:c});case Va:return Object(te.a)(Object(te.a)({},n),{},{riverContentState:c});case qa:return Object(te.a)(Object(te.a)({},n),{},{pushToRiverID:c});case za:return Object(te.a)(Object(te.a)({},n),{},{highlightedCardID:c.id,highlightedCardField:c.field});case Yn.actionTypes.DOCUMENT_CHANGE:return c?Object(te.a)(Object(te.a)({},Wc),{},{riverMakeUps:c.riverMakeUps,activeRiverMakeUpID:c.activeRiverMakeUpID,pushToRiverID:c.pushToRiverID,lastRiverIDNumber:c.lastRiverIDNumber}):Wc;case Yn.actionTypes.LOAD_DOCUMENT_DATA_SETS:return c.newActiveDataSet?Object(te.a)(Object(te.a)({},Wc),{},{riverMakeUps:c.newActiveDataSet.riverMakeUps,activeRiverMakeUpID:c.newActiveDataSet.activeRiverMakeUpID,pushToRiverID:c.newActiveDataSet.pushToRiverID,lastRiverIDNumber:c.newActiveDataSet.lastRiverIDNumber}):n;case Ga:return Object(te.a)(Object(te.a)({},n),{},{contentFilter:c});default:return n}},selectors:k,actions:w},Yc=Object(fe.a)(Oa.selectors.getPDFName,Oa.selectors.getTotalPages,Oa.selectors.getCurrentPage,Xc.selectors.getRiverMakeUps,Xc.selectors.getActiveRiverMakeUpID,Xc.selectors.getPushToRiver,Xc.selectors.getLastRiverIDNumber,Zn.selectors.getCards,Zn.selectors.getLastCardIDNumber,(function(e,t,n,r,a,c,o,i,u){return{name:e,totalPages:t,currentPage:n,riverMakeUps:r,activeRiverMakeUpID:a,pushToRiverID:c,lastRiverIDNumber:o,cards:i,lastCardIDNumber:u}})),Jc=function(){return function(e,t){var n=t();if(void 0!==Oa.selectors.getPDFName(n)){var r=Yc(n);e(Yn.actions.archiveDBData(r))}}},Zc=n(237),Kc=function(){return function(e,t){e(Jc());var n=Yn.selectors.getDocumentDataSets(t()),r=(new Date).toLocaleString();Zc(JSON.stringify(n),r+" ClayMemory.txt")}},$c=function(e){return function(t,n){var r=e.name,a=n(),c=Oa.selectors.getPDFName(a),o=Yn.selectors.getDocumentDB(a);if(void 0!==c){var i=Yc(a);t(Yn.actions.archiveDBData(i))}if(t(Oa.actions.pdfUpload(e)),r!==c){var u=o[r];t(u?{type:Yn.actionTypes.DOCUMENT_CHANGE,payload:u}:{type:Yn.actionTypes.DOCUMENT_CHANGE}),t(Da.ActionCreators.clearHistory())}}},eo=function(e){return function(t,n){var r=n(),a=Oa.selectors.getPDFName(r),c=Yn.selectors.getDocumentDB(r);if(void 0!==a){var o=Yc(r);t(Yn.actions.archiveDBData(o))}var i=c[e];t({type:Yn.actionTypes.DOCUMENT_CHANGE,payload:i}),t(Da.ActionCreators.clearHistory())}},to=function(e){return function(t,n){var r=n(),a=Oa.selectors.getPDFName(r);a&&a===e&&(t({type:Yn.actionTypes.DOCUMENT_CHANGE}),t(Da.ActionCreators.clearHistory())),t(Yn.actions.deleteDocumentDataSet(e))}},no=n(319),ro=n(320),ao=n(113),co=n(275),oo=n(317),io=n(158),uo=n.n(io),lo=n(159),so=n.n(lo),fo=n(332),mo=n(313),po=n(314),vo=n(315),Eo=n(316),bo=n(154),go=n.n(bo),Oo=function(e){var t=e.document,n=e.handleClose,r=e.open,a=Object(Le.c)();return Z.a.createElement(fo.a,{open:r,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},Z.a.createElement(mo.a,{id:"alert-dialog-title"},"Delete "+t+" and all associated card data?"),Z.a.createElement(po.a,null,Z.a.createElement(vo.a,{id:"alert-dialog-description"},"This change can not be undone.")),Z.a.createElement(Eo.a,null,Z.a.createElement(oo.a,{onClick:n,color:"primary"},"Abort"),Z.a.createElement(oo.a,{onClick:function(){a(to(t)),n()},color:"primary",autoFocus:!0},"Delete document and associated card data")))},Do=function(e){var t=e.document,n=Object(J.useState)(!1),r=Object(ke.a)(n,2),a=r[0],c=r[1];return Z.a.createElement("div",null,Z.a.createElement(Bt.a,{title:On.constants.deleteDocumentTooltip,enterDelay:On.constants.defaultEnterDelay,enterNextDelay:On.constants.defaultEnterNextDelay},Z.a.createElement(xe.a,{type:"button",onClick:function(){c(!0)}},Z.a.createElement(go.a,{fontSize:"small"}))),Z.a.createElement(Oo,{document:t,open:a,handleClose:function(){c(!1)}}))},yo=n(155),jo=n.n(yo),Co=function(e){var t=e.handleClose,n=e.label,r=Object(Le.c)(),a=Object(Le.d)(Oa.selectors.getPDFName),c=Object(J.useRef)(null);return Z.a.createElement(J.Fragment,null,Z.a.createElement(co.a,{onClick:function(){c.current.click()}},Z.a.createElement(oo.a,{variant:"contained",color:"primary",disableElevation:!0,startIcon:Z.a.createElement(jo.a,null)},n)),Z.a.createElement("input",{ref:c,style:{display:"none"},onChange:function(e){var n=e.target.files,c=n?n[0]:null;if(c){var o=new FileReader;o.readAsText(c),o.onload=function(){var e=JSON.parse(o.result),t=e.find((function(e){return e.name===a}));r(Yn.actions.loadDocumentDataSets(e,t))}}t()},type:"file",accept:".txt"}))},ho=n(156),So=n.n(ho),To=function(e){var t=e.handleClose,n=e.label,r=Object(Le.c)(),a=Object(J.useRef)(null);return Z.a.createElement(J.Fragment,null,Z.a.createElement(co.a,{onClick:function(){a.current.click()}},Z.a.createElement(oo.a,{variant:"contained",color:"primary",disableElevation:!0,startIcon:Z.a.createElement(So.a,null)},n)),Z.a.createElement("input",{ref:a,style:{display:"none"},onChange:function(e){var n=e.target.files,a=n?n[0]:null;a&&r($c(a)),t()},type:"file",accept:".pdf"}))},Ro=n(157),Ao=n.n(Ro),Io=function(e){var t=e.document,n=Object(Le.c)();return Z.a.createElement(Bt.a,{title:On.constants.loadSavedDocumentTooltip,enterDelay:On.constants.defaultEnterDelay,enterNextDelay:On.constants.defaultEnterNextDelay},Z.a.createElement(xe.a,{type:"button",onClick:function(){n(eo(t))}},Z.a.createElement(Ao.a,{fontSize:"small"})))},No=function(e){var t=e.document;return Z.a.createElement(ee.a,{container:!0,direction:"row"},Z.a.createElement(ee.a,{item:!0},Z.a.createElement(Io,{document:t})),Z.a.createElement(ee.a,{item:!0},Z.a.createElement(qr.a,{orientation:"vertical"})),Z.a.createElement(ee.a,{item:!0},Z.a.createElement(Do,{document:t})))},Po=function(e){var t=e.document;return Z.a.createElement(ee.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:1},Z.a.createElement(ee.a,{item:!0},t.replace(".pdf","")),Z.a.createElement(ee.a,{item:!0},Z.a.createElement(Vr.a,{variant:"outlined"},Z.a.createElement(No,{document:t}))))},Mo=function(e){var t=e.document;return Z.a.createElement(ee.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:1},Z.a.createElement(ee.a,{item:!0},t.replace(".pdf","")),Z.a.createElement(ee.a,{item:!0},Z.a.createElement(Vr.a,{variant:"outlined"},Z.a.createElement(Do,{document:t}))))},_o=function(){var e=Object(Le.d)(Oa.selectors.getPDFName),t=Object(Le.d)(Yn.selectors.getDocumentNames).filter((function(t){return t!==e})),n=Z.a.useState(null),r=Object(ke.a)(n,2),a=r[0],c=r[1],o=function(){c(null)},i=Object(Le.c)(),u=yr();return Z.a.createElement("div",null,Z.a.createElement(xe.a,{type:"button",onClick:function(e){c(e.currentTarget)}},Z.a.createElement(uo.a,null)),Z.a.createElement(ao.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:o,MenuListProps:{style:{paddingLeft:"8px",paddingRight:"8px"}}},e&&[Z.a.createElement(Kr.a,{key:u(),component:"span",variant:"h6"},On.constants.activeDocumentText),Z.a.createElement(Mo,{key:u(),document:e}),Z.a.createElement(qr.a,{key:u(),style:{marginTop:"6px"}})],t.length>0&&[Z.a.createElement(Kr.a,{key:u(),component:"span",variant:"h6"},On.constants.existingDataText),Z.a.createElement(Kr.a,{key:u(),component:"span"},Z.a.createElement("ul",{style:{listStyleType:"square"}},t.map((function(e){return e?Z.a.createElement("li",{key:u()},Z.a.createElement(Po,{document:e,key:u()})):null})))),Z.a.createElement(qr.a,{key:u(),style:{marginTop:"6px"}})],Z.a.createElement(To,{handleClose:o,label:"Load document"}),Z.a.createElement(qr.a,null),Z.a.createElement(co.a,{onClick:function(){i(Kc()),o()}},Z.a.createElement(oo.a,{variant:"contained",color:"primary",disableElevation:!0,startIcon:Z.a.createElement(so.a,null)},On.constants.downloadDatasetsText)),Z.a.createElement(qr.a,null),Z.a.createElement(Co,{handleClose:o,label:On.constants.uploadDatasetsText})))},ko=n(160),wo=n.n(ko),xo=function(){var e=Object(Le.c)(),t=Object(Le.d)(Xc.selectors.getRiverContentFilter),n=Object(J.useState)(t),r=Object(ke.a)(n,2),a=r[0],c=r[1];return Z.a.createElement(wo.a,{value:a,placeholder:"Search in cards",onChange:function(t){""===t&&e(Xc.actions.resetContentFilter()),c(t)},onCancelSearch:function(){e(Xc.actions.resetContentFilter())},onRequestSearch:function(){return e(Xc.actions.setContentFilter(a))}})},Uo=n(161),Fo=n.n(Uo),Lo=n(162),Ho=n.n(Lo),Bo=function(){var e=Object(Le.c)();return Z.a.createElement(Bt.a,{title:On.constants.undoTooltip,enterDelay:On.constants.defaultEnterDelay,enterNextDelay:On.constants.defaultEnterNextDelay},Z.a.createElement("span",null,Z.a.createElement(xe.a,{type:"button",onClick:function(){e(Da.ActionCreators.undo())}},Z.a.createElement(Fo.a,null))))},Vo=function(){var e=Object(Le.c)();return Z.a.createElement(Bt.a,{title:On.constants.redoTooltip,enterDelay:On.constants.defaultEnterDelay,enterNextDelay:On.constants.defaultEnterNextDelay},Z.a.createElement(xe.a,{type:"button",onClick:function(){e(Da.ActionCreators.redo())}},Z.a.createElement(Ho.a,null)))},qo=function(){return Z.a.createElement(Vr.a,{variant:"outlined"},Z.a.createElement(ee.a,{container:!0,direction:"row"},Z.a.createElement(ee.a,{item:!0},Z.a.createElement(Bo,null)),Z.a.createElement(ee.a,{item:!0},Z.a.createElement(qr.a,{orientation:"vertical"})),Z.a.createElement(ee.a,{item:!0},Z.a.createElement(Vo,null))))},zo=n(163),Go=n.n(zo),Qo=function(){var e=Object(Le.c)(),t=Object(Le.d)(Xc.selectors.getRiverShowState);return Z.a.createElement(ha.a,{control:Z.a.createElement(ac,{checked:"SHOW"===t,onClick:function(){e(Xc.actions.toggleRiverShowState())}}),label:"River"})},Wo=function(){var e=Object(Le.c)(),t=Object(Le.d)(Oa.selectors.getDisplayStatus);return Z.a.createElement(ha.a,{control:Z.a.createElement(ac,{checked:"SHOW"===t,onClick:function(){e(Oa.actions.toggleDisplayState())}}),label:"Material"})},Xo=function(){var e=Z.a.useState(null),t=Object(ke.a)(e,2),n=t[0],r=t[1],a=Object(Le.d)(mc.selectors.getDisplayFocus);return Z.a.createElement("div",null,Z.a.createElement(xe.a,{type:"button",onClick:function(e){r(e.currentTarget)}},Z.a.createElement(Go.a,null)),Z.a.createElement(ao.a,{anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:function(){r(null)}},Z.a.createElement(Kr.a,null,"Show:"),Z.a.createElement(qr.a,null),Z.a.createElement(ee.a,{container:!0,direction:"row"},Z.a.createElement(ee.a,{item:!0},Z.a.createElement(Xc.components.RiverContentFormGroup,null)),Z.a.createElement(ee.a,{item:!0},Z.a.createElement(qr.a,{orientation:"vertical"})),Z.a.createElement(ee.a,{item:!0},"ACTIVE_RIVER"===a&&Z.a.createElement(ee.a,{container:!0,direction:"column"},Z.a.createElement(ee.a,{item:!0},Z.a.createElement(Qo,null)),Z.a.createElement(ee.a,{item:!0},Z.a.createElement(Wo,null)))))))},Yo=n(326),Jo=n(318),Zo=function(){var e=Object(Le.c)(),t="ACTIVE_RIVER"===Object(Le.d)(mc.selectors.getDisplayFocus)?0:1;return Z.a.createElement(Vr.a,{variant:"outlined"},Z.a.createElement(Yo.a,{value:t,onChange:function(t,n){e(0===n?mc.actions.updateDisplayFocus("ACTIVE_RIVER"):mc.actions.updateDisplayFocus("SUMMARY_RIVER"))}},Z.a.createElement(Jo.a,{label:Z.a.createElement(Bt.a,{title:On.constants.switchToActiveRiverTooltip,enterDelay:On.constants.defaultEnterDelay,enterNextDelay:500,disableFocusListener:!0},Z.a.createElement("span",null,"ActiveRiver"))}),Z.a.createElement(Jo.a,{label:Z.a.createElement(Bt.a,{title:On.constants.switchToSummaryRiverTooltip,enterDelay:On.constants.defaultEnterDelay,enterNextDelay:500,disableFocusListener:!0},Z.a.createElement("span",null,"SummaryRiver"))})))},Ko=function(){var e=Object(Le.d)(Oa.selectors.getPDFName);return Z.a.createElement(ee.a,{item:!0},Z.a.createElement(Oa.components.PageKeyboardControl,null,Z.a.createElement(no.a,null,Z.a.createElement(ro.a,{variant:"regular"},Z.a.createElement(ee.a,{item:!0},Z.a.createElement(ee.a,{container:!0,spacing:1,direction:"row",alignItems:"center",justify:"flex-start"},Z.a.createElement(ee.a,{item:!0,style:{width:"15%"}},Z.a.createElement(Oa.components.PageChooser,null)),Z.a.createElement(ee.a,{item:!0},Z.a.createElement(Oa.components.PageNavigation,null)),Z.a.createElement(ee.a,{item:!0},Z.a.createElement(Zo,null)),Z.a.createElement(ee.a,{item:!0},Z.a.createElement(qo,null)))),Z.a.createElement(Kr.a,{style:{flexGrow:1}},null===e||void 0===e?void 0:e.replace(".pdf","")),Z.a.createElement(xo,null),Z.a.createElement(Xo,null),Z.a.createElement(_o,null)))))},$o={actions:V,components:q,selectors:B},ei="extractionData",ti=ei+"/TOGGLE_CONTEXT_MENU",ni=ei+"/CLOSE_CONTEXT_MENU",ri=ei+"/OPEN_CONTEXT_MENU",ai=function(e){return e[ei].present},ci=Object(fe.a)(ai,(function(e){return e.open})),oi=Object(fe.a)(ai,(function(e){return e.menuRef})),ii=Object(fe.a)(ai,(function(e){return e.fullCardRef})),ui=Object(fe.a)(ai,(function(e){return e.qaRefs})),li=Object(fe.a)(tr.selectors.getCurrentSelectionPosition,ci,oi,ui,Xc.selectors.getPushToRiverCards,(function(e,t,n,r,a){return{position:e,state:t,menuRef:n,qaRefs:r,riverCards:a}})),si=function(e,t){var n,r,a=oi(e).current,c=null===(n=ii(e).current)||void 0===n?void 0:n.parentNode,o=ui(e).map((function(e){return e.current})).filter((function(e){return!!e})).map((function(e){return e.parentNode})),i=t.target;if(null===a||void 0===a||null===(r=a.querySelector("div.MuiPaper-root"))||void 0===r?void 0:r.contains(i))return!0;if(null===c||void 0===c?void 0:c.contains(i))return!0;var u,l=Object(jr.a)(o);try{for(l.s();!(u=l.n()).done;){if(u.value.contains(i))return!0}}catch(s){l.e(s)}finally{l.f()}return!1},di=function(){return function(e,t){var n=t();Oa.selectors.getDataExists(n)&&e({type:ti})}},fi=function(){return function(e,t){ci(t())&&e({type:ni})}},mi=function(){return function(e){e({type:ri})}},pi=function(e){return function(t,n){!si(n(),e)&&(t(fi()),t(Xc.actions.resetHoveredCard()))}},vi=function(e){return function(t,n){var r=n();if(tr.selectors.currentSelectionExists(r)){e.preventDefault();var a=mc.selectors.getDisplayFocus(r);t(tr.actions.updateSelectionPosition(e.x,e.y)),t(mi()),"ACTIVE_RIVER"===a&&t(Xc.actions.setPushToRiver(Xc.selectors.getActiveRiverMakeUpID(r)))}}},Ei=function(e,t){return function(n,r){n(fi());var a=r(),c=tr.selectors.getSourceCard(a)?void 0:Oa.selectors.getCurrentOrigin(a);n(tr.services.use_selection.selectionToCardReplace(e,c,t))}},bi={open:!1,menuRef:Object(J.createRef)(),fullCardRef:Object(J.createRef)(),qaRefs:[Object(J.createRef)(),Object(J.createRef)()]},gi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bi,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case ti:return Object(te.a)(Object(te.a)({},e),{},{open:!e.open});case ni:return Object(te.a)(Object(te.a)({},e),{},{open:!1});case ri:return Object(te.a)(Object(te.a)({},e),{},{open:!0});case Zn.actionTypes.CARD_PUSH:return"Q-A"===r.type?Object(te.a)(Object(te.a)({},e),{},{qaRefs:[].concat(Object(Qc.a)(e.qaRefs),[Object(J.createRef)()])}):e;default:return e}},Oi=n(97),Di=function(e){var t=e.cardConfig,n=Object(Le.c)();return Z.a.createElement(co.a,{onClick:function(){n(Ei("note",t.cardID))},onMouseEnter:function(){n(Xc.actions.trySetHoveredCard(t.cardID,"note"))}},t.type)},yi=function(e){var t=e.cardConfig,n=e.qaRef,r=Object(Le.c)();return Z.a.createElement(Oi.a,{label:"Q-A",parentMenuOpen:!0,onMouseEnter:function(){r(Xc.actions.trySetHoveredCard(t.cardID,"q"))}},Z.a.createElement(co.a,{ref:n,onClick:function(){r(Ei("q",t.cardID))},onMouseEnter:function(){r(Xc.actions.trySetHoveredCard(t.cardID,"q"))}},"Q-field"),Z.a.createElement(co.a,{onClick:function(){r(Ei("a",t.cardID))},onMouseEnter:function(){r(Xc.actions.trySetHoveredCard(t.cardID,"a"))}},"A-field"))},ji=function(e){var t=e.cardConfig,n=e.qaRef;switch(t.type){case"Q-A":return Z.a.createElement(yi,{cardConfig:t,qaRef:n});default:return Z.a.createElement(Di,{cardConfig:t})}},Ci=function(e){var t=e.onClick;return Z.a.createElement(co.a,{onClick:t},"New: Q (Q-A)")},hi=function(e){var t=e.onClick;return Z.a.createElement(co.a,{onClick:t},"New: A (Q-A)")},Si=function(e){var t=e.onClick;return Z.a.createElement(co.a,{onClick:t},"New: Note")},Ti=function(){var e=Object(Le.c)();return Z.a.createElement(J.Fragment,null,Z.a.createElement(Si,{onClick:function(){e(Ei("note"))}}),Z.a.createElement(Ci,{onClick:function(){e(Ei("q"))}}),Z.a.createElement(hi,{onClick:function(){e(Ei("a"))}}))},Ri=function(e,t){var n=Object(J.useRef)((function(){}));Object(J.useEffect)((function(){n.current=t}),[t]),Object(J.useEffect)((function(){var t=function(e){return n.current(e)};return document.addEventListener(e,t),function(){document.removeEventListener(e,t)}}),[e])};var Ai=Object(Le.b)(li)((function(e){var t=e.position,n=e.state,r=e.menuRef,a=e.qaRefs,c=e.riverCards,o=Object(Le.c)();Ri("mousedown",(function(e){o(pi(e))})),Ri("contextmenu",(function(e){o(vi(e))}));var i=Object(Le.d)(ii),u=n,l=yr(),s=yr(),d=u?{top:t.y,left:t.x}:void 0,f=function(e,t){var n=[],r=[];return e.forEach((function(e){return(t(e)?n:r).push(e)})),[n,r]}(c,Zn.model.model_config.cardIsNotFull),m=Object(ke.a)(f,2),p=m[0],v=m[1];return Z.a.createElement(ao.a,{ref:u?r:null,keepMounted:!0,open:u,anchorReference:"anchorPosition",anchorPosition:d},u&&p.map((function(e){return Z.a.createElement(ji,{cardConfig:e,key:l(),qaRef:"Q-A"===e.type?a[s()]:void 0})})),u&&p.length>0&&Z.a.createElement(qr.a,null),u&&Z.a.createElement(Ti,null),u&&v.length>0&&Z.a.createElement(qr.a,null),u&&v.length>0&&Z.a.createElement(Oi.a,{label:"Full cards: ",parentMenuOpen:!0},Z.a.createElement(co.a,{ref:i,style:{position:"absolute"}}),v.map((function(e){return Z.a.createElement(ji,{cardConfig:e,key:l(),qaRef:"Q-A"===e.type?a[s()]:void 0})}))))})),Ii={actions:X,actionTypes:G,constants:z,components:Y,reducer:gi,selectors:Q,services:W},Ni=n(273),Pi=n(321),Mi=n(322),_i=n(323),ki=n(324),wi=n(165),xi=n.n(wi),Ui=Object(Ni.a)((function(e){return Object(Pi.a)({root:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}})}));function Fi(e){var t=e.children,n=Ui(),r=Object(Mi.a)({disableHysteresis:!0,threshold:100});return Z.a.createElement(_i.a,{in:r},Z.a.createElement("div",{onClick:function(e){var t=(e.target.ownerDocument||document).querySelector("#back-to-top-anchor");t&&t.scrollIntoView({behavior:"smooth",block:"center"})},role:"presentation",className:n.root},t))}function Li(){var e=Object(Le.d)(mc.selectors.getDisplayFocus),t=Object(Le.d)(Oa.selectors.displayStatusIsShow),n=Object(Le.d)(Xc.selectors.riverShowStateIsShow);return Z.a.createElement("div",null,Z.a.createElement(ee.a,{container:!0,justify:"center",direction:"column",alignItems:"stretch",spacing:1},Z.a.createElement($o.components.ControlBar,null),Z.a.createElement(ro.a,{id:"back-to-top-anchor"}),Z.a.createElement(ee.a,{item:!0,hidden:"ACTIVE_RIVER"!==e},Z.a.createElement(ee.a,{container:!0,justify:"space-around",direction:"row",alignItems:"stretch"},Z.a.createElement(ee.a,{item:!0,style:{width:"38%"},hidden:!n},Z.a.createElement(Xc.components.ActiveCardRiver,null)),Z.a.createElement(Oa.components.MaterialDisplayColumnWithSize,{hidden:!t}))),Z.a.createElement(ee.a,{item:!0,hidden:"SUMMARY_RIVER"!==e},Z.a.createElement(Xc.components.SummaryRiver,null))),Z.a.createElement(Fi,null,Z.a.createElement(ki.a,{color:"secondary",size:"small","aria-label":"scroll back to top"},Z.a.createElement(xi.a,null))),Z.a.createElement(Ii.components.ContextMenuContainer,null),Z.a.createElement(tr.components.SelectionSnackbar,null))}var Hi,Bi=n(35),Vi=n(166),qi=n(167),zi=n(57),Gi=n(168),Qi=n.n(Gi),Wi=function(e){return Object(te.a)(Object(te.a)({},e),{},{menuRef:null,fullCardRef:null,qaRefs:e.qaRefs.map((function(e){return null}))})},Xi=function(e){return Object(te.a)(Object(te.a)({},e),{},{menuRef:Object(J.createRef)(),fullCardRef:Object(J.createRef)(),qaRefs:e.qaRefs.map((function(e){return Object(J.createRef)()}))})},Yi=Object(zi.a)((function(e){return Object(te.a)(Object(te.a)({},e),{},{future:e.future.map(Wi),past:e.past.map(Wi),present:Wi(e.present)})}),(function(e){return Object(te.a)(Object(te.a)({},e),{},{future:e.future.map(Xi),past:e.past.map(Xi),present:Xi(e.present)})}),{whitelist:[Ii.constants.NAME]}),Ji=Object(zi.a)((function(e){return function(e){return Object(te.a)(Object(te.a)({},e),{},{documentRef:null,materialData:null,pdf:null})}(e)}),(function(e){return function(e){return Object(te.a)(Object(te.a)({},e),{},{pdf:void 0,documentRef:Object(J.createRef)(),materialData:{materialDataTimeStamp:-1/0}})}(e)}),{whitelist:[Oa.constants.NAME]}),Zi=Object(zi.a)((function(e){return Object(te.a)(Object(te.a)({},e),{},{future:[],past:[],present:{manuallySelectedString:"",selectedParentSpan:null,selectionPosition:{x:0,y:0},sourceCard:null}})}),(function(e){return e}),{whitelist:[tr.constants.NAME]}),Ki={key:"root",storage:Qi.a,transforms:[Yi,Ji,Zi]},$i=Object(Bi.combineReducers)((Hi={},Object(Ln.a)(Hi,mc.constants.NAME,mc.reducer),Object(Ln.a)(Hi,tr.constants.NAME,ya()(tr.reducer,{filter:Object(Da.includeAction)([tr.actionTypes.SELECTED_STRING])})),Object(Ln.a)(Hi,Ii.constants.NAME,ya()(Ii.reducer,{filter:Object(Da.includeAction)([Zn.actionTypes.CARD_PUSH])})),Object(Ln.a)(Hi,Xc.constants.NAME,ya()(Xc.reducer,{filter:Object(Da.includeAction)([Zn.actionTypes.CARD_PUSH,Zn.actionTypes.CARD_REMOVE,Yn.actionTypes.LOAD_DOCUMENT_DATA_SETS])})),Object(Ln.a)(Hi,Oa.constants.NAME,Oa.reducer),Object(Ln.a)(Hi,Zn.constants.NAME,ya()(Zn.reducer,{filter:Object(Da.includeAction)([Yn.actionTypes.LOAD_DOCUMENT_DATA_SETS,Zn.actionTypes.CARD_PUSH,Zn.actionTypes.CARD_UPDATE,Zn.actionTypes.CARD_REMOVE,Zn.actionTypes.CARD_GOAL])})),Object(Ln.a)(Hi,Yn.constants.NAME,ya()(Yn.reducer,{filter:Object(Da.includeAction)([Yn.actionTypes.LOAD_DOCUMENT_DATA_SETS])})),Hi)),eu=Object(zi.b)(Ki,$i),tu=Object(Vi.composeWithDevTools)({stateSanitizer:function(e){return e.displayData.pdf?Object(te.a)(Object(te.a)({},e),{},{displayData:Object(te.a)(Object(te.a)({},e.displayData),{},{pdf:"PDF_FILE_IS_HERE"})}):e}})(Object(Bi.applyMiddleware)(qi.a)),nu=Object(Bi.createStore)(eu,tu),ru=Object(zi.c)(nu),au=n(169);n(267),$.a.render(Z.a.createElement(Z.a.StrictMode,null,Z.a.createElement(Le.a,{store:nu},Z.a.createElement(au.a,{loading:null,persistor:ru},Z.a.createElement(Li,null)))),document.getElementById("root"))}},[[185,1,2]]]);
//# sourceMappingURL=main.657e75b1.chunk.js.map