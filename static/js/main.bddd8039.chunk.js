(this.webpackJsonpclaymemory=this.webpackJsonpclaymemory||[]).push([[0],{174:function(e,t,n){e.exports=n(259)},199:function(e,t,n){},200:function(e,t,n){},221:function(e,t){},222:function(e,t){},223:function(e,t){},224:function(e,t){},225:function(e,t){},259:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"NAME",(function(){return V}));var a={};n.r(a),n.d(a,"PDF_UPLOADED",(function(){return H})),n.d(a,"MATERIAL_LOADED",(function(){return q})),n.d(a,"DISPLAY_STATUS",(function(){return Q})),n.d(a,"PAGE_UPDATE",(function(){return G})),n.d(a,"ZOOM_QUEUE",(function(){return B})),n.d(a,"MATERIAL_DATA",(function(){return z})),n.d(a,"MATERIAL_HEIGHT",(function(){return W}));var c={};n.r(c),n.d(c,"getAll",(function(){return Y})),n.d(c,"getPDF",(function(){return J})),n.d(c,"getPDFName",(function(){return Z})),n.d(c,"getRenderCritialData",(function(){return K})),n.d(c,"getTotalPages",(function(){return $})),n.d(c,"getCurrentPage",(function(){return ee})),n.d(c,"getPageControlData",(function(){return te})),n.d(c,"getDocumentRef",(function(){return ne})),n.d(c,"getMaterialData",(function(){return re})),n.d(c,"getTimeStamp",(function(){return ae})),n.d(c,"getMaterialSpans",(function(){return ce})),n.d(c,"getSpanIndex",(function(){return oe})),n.d(c,"getMaterialBoundingRects",(function(){return ie})),n.d(c,"getDataExists",(function(){return ue})),n.d(c,"getDisplayStatus",(function(){return le})),n.d(c,"displayStatusIsShow",(function(){return se})),n.d(c,"getZoomQueue",(function(){return de})),n.d(c,"getMaterialHeight",(function(){return fe}));var o={};n.r(o),n.d(o,"NAME",(function(){return ve}));var i={};n.r(i),n.d(i,"ARCHIVE_CURRENT_DATA",(function(){return be})),n.d(i,"LOAD_DOCUMENT_DATA_SETS",(function(){return ge})),n.d(i,"DELETE_DOCUMENT_DATA_SET",(function(){return De})),n.d(i,"DOCUMENT_CHANGE",(function(){return je}));var u={};n.r(u),n.d(u,"archiveDBData",(function(){return Ce})),n.d(u,"loadDocumentDataSets",(function(){return ye})),n.d(u,"deleteDocumentDataSet",(function(){return Re}));var l={};n.r(l),n.d(l,"getAll",(function(){return Ie})),n.d(l,"getDocumentDB",(function(){return Ae})),n.d(l,"getDocumentNames",(function(){return Ne})),n.d(l,"getDocumentDataSets",(function(){return Me}));var s={};n.r(s),n.d(s,"pdfUpload",(function(){return ke})),n.d(s,"materialUploaded",(function(){return we})),n.d(s,"materialLoaded",(function(){return Fe})),n.d(s,"tryInterval",(function(){return Le})),n.d(s,"captureMaterialData",(function(){return xe})),n.d(s,"setPage",(function(){return Ve})),n.d(s,"movePage",(function(){return Qe})),n.d(s,"nextPage",(function(){return Ge})),n.d(s,"previousPage",(function(){return Be})),n.d(s,"toggleDisplayState",(function(){return ze})),n.d(s,"setZoomQueue",(function(){return We})),n.d(s,"zoomToCardOrigin",(function(){return Xe})),n.d(s,"emptyZoomQueue",(function(){return Ye})),n.d(s,"setMaterialHeight",(function(){return Je})),n.d(s,"deleteDocument",(function(){return Ze}));var d={};n.r(d),n.d(d,"NAME",(function(){return vt}));var f={};n.r(f),n.d(f,"FOCUS_UPDATE",(function(){return bt})),n.d(f,"DISPLAY_FOCUS_UPDATE",(function(){return gt}));var m={};n.r(m),n.d(m,"getAll",(function(){return Dt})),n.d(m,"getFocus",(function(){return jt})),n.d(m,"getDisplayFocus",(function(){return Ct}));var E={};n.r(E),n.d(E,"updateFocus",(function(){return yt})),n.d(E,"tryUpdateFocus",(function(){return Rt})),n.d(E,"toggleContextMenuFocus",(function(){return St})),n.d(E,"updateDisplayFocus",(function(){return ht}));var p={};n.r(p),n.d(p,"PageChooser",(function(){return Et})),n.d(p,"PageNavigation",(function(){return lt})),n.d(p,"MaterialDisplayColumnWithSize",(function(){return Ut}));var O={};n.r(O),n.d(O,"NAME",(function(){return kt}));var v={};n.r(v),n.d(v,"transformInputOrigin",(function(){return Lt}));var b={};n.r(b),n.d(b,"NAME",(function(){return xt}));var g={};n.r(g),n.d(g,"CARD_UPDATE",(function(){return Vt})),n.d(g,"CARD_PUSH",(function(){return Ht})),n.d(g,"CARD_REMOVE",(function(){return qt})),n.d(g,"CARD_GOAL",(function(){return Qt}));var D={};n.r(D),n.d(D,"getAll",(function(){return Gt})),n.d(D,"getLastCardIDNumber",(function(){return Bt})),n.d(D,"getCards",(function(){return zt})),n.d(D,"getGoalCard",(function(){return Wt}));var j={};n.r(j),n.d(j,"cardPush",(function(){return Zt})),n.d(j,"cardUpdate",(function(){return Kt})),n.d(j,"updateCardContent",(function(){return $t})),n.d(j,"pushCardContent",(function(){return en})),n.d(j,"removeCard",(function(){return tn})),n.d(j,"setGoalCard",(function(){return nn})),n.d(j,"resetGoalCard",(function(){return rn}));var C={};n.r(C),n.d(C,"getAll",(function(){return un})),n.d(C,"getRiverMakeUps",(function(){return ln})),n.d(C,"getActiveRiverMakeUpID",(function(){return sn})),n.d(C,"getPushToRiver",(function(){return dn})),n.d(C,"getPushToRiverMakeUp",(function(){return fn})),n.d(C,"getActiveRiverMakeUp",(function(){return mn})),n.d(C,"getPushToRiverCardIDs",(function(){return En})),n.d(C,"getPushToRiverCards",(function(){return pn})),n.d(C,"getActiveRiverCardIDs",(function(){return On})),n.d(C,"getActiveRiverCards",(function(){return vn})),n.d(C,"getRiverShowState",(function(){return bn})),n.d(C,"riverShowStateIsShow",(function(){return gn})),n.d(C,"getHoveredCardData",(function(){return Dn})),n.d(C,"getSourceCard",(function(){return jn})),n.d(C,"getLastRiverIDNumber",(function(){return Cn})),n.d(C,"getRiverContentState",(function(){return yn})),n.d(C,"getRiverContentFilter",(function(){return Rn}));var y={};n.r(y),n.d(y,"toggleRiverShowState",(function(){return Gn})),n.d(y,"setRiverContentState",(function(){return Bn})),n.d(y,"setPushToRiver",(function(){return zn})),n.d(y,"trySetPushToRiver",(function(){return Wn})),n.d(y,"setHoveredCard",(function(){return Xn})),n.d(y,"trySetHoveredCard",(function(){return Yn})),n.d(y,"setSourceCard",(function(){return Jn})),n.d(y,"trySetSourceCard",(function(){return Zn})),n.d(y,"resetSourceCard",(function(){return Kn})),n.d(y,"tryResetSourceCard",(function(){return $n})),n.d(y,"setContentFilter",(function(){return er}));var R={};n.r(R),n.d(R,"ActiveRiverView",(function(){return Cr})),n.d(R,"SummaryRiverView",(function(){return gr})),n.d(R,"RiverContentFormGroup",(function(){return Ar}));var S={};n.r(S),n.d(S,"collectCurrentDBData",(function(){return Fr}));var h={};n.r(h),n.d(h,"archiveCurrentDBData",(function(){return Lr})),n.d(h,"downloadDBData",(function(){return Vr})),n.d(h,"changeDocument",(function(){return Hr})),n.d(h,"loadSavedDocument",(function(){return qr}));var T={};n.r(T),n.d(T,"NAME",(function(){return Gr}));var I={};n.r(I),n.d(I,"TOGGLE_CONTEXT_MENU",(function(){return Br})),n.d(I,"CLOSE_CONTEXT_MENU",(function(){return zr})),n.d(I,"OPEN_CONTEXT_MENU",(function(){return Wr})),n.d(I,"SELECTED_STRING",(function(){return Xr})),n.d(I,"SELECTED_PARENT",(function(){return Yr})),n.d(I,"DOCUMENT_POSITION",(function(){return Jr}));var A={};n.r(A),n.d(A,"getAll",(function(){return Zr})),n.d(A,"getContextMenuState",(function(){return Kr})),n.d(A,"getContextMenuRef",(function(){return $r})),n.d(A,"getContextMenuFullCardsRef",(function(){return ea})),n.d(A,"getContextMenuQARefs",(function(){return ta})),n.d(A,"getCurrentSelectionPosition",(function(){return na})),n.d(A,"getContextMenuInitData",(function(){return ra})),n.d(A,"getCurrentSelectedString",(function(){return aa})),n.d(A,"getCurrentSelectedParent",(function(){return ca})),n.d(A,"getCurrentOrigin",(function(){return oa}));var N={};n.r(N),n.d(N,"toggleContextMenu",(function(){return ia})),n.d(N,"closeContextMenu",(function(){return ua})),n.d(N,"openContextMenu",(function(){return la})),n.d(N,"grabSelectionForContextMenu",(function(){return sa})),n.d(N,"hasNonEmptyOrigin",(function(){return da})),n.d(N,"grabSelectionForSourceMenu",(function(){return fa})),n.d(N,"updateManuallySelectedString",(function(){return ma})),n.d(N,"resetManuallySelectedString",(function(){return Ea})),n.d(N,"selectedParent",(function(){return pa})),n.d(N,"updateSelectionPosition",(function(){return Oa}));var M={};n.r(M),n.d(M,"ContextMenuContainer",(function(){return Ma})),n.d(M,"SelectionSnackbar",(function(){return ka}));var U={};n.r(U),n.d(U,"contextMenuContainsTargetNode",(function(){return wa}));var _={};n.r(_),n.d(_,"ControlContainer",(function(){return Ba})),n.d(_,"ControlBar",(function(){return Mc}));var P=n(0),k=n.n(P),w=n(14),F=n.n(w),L=n(300),x=n(3),V="displayData",H=V+"/PDF_UPLOADED",q=V+"/MATERIAL_LOADED",Q=V+"/DISPLAY_STATUS",G=V+"/PAGE_UPDATE",B=V+"/ZOOM_QUEUE",z=V+"/MATERIAL_DATA",W=V+"/MATERIAL_HEIGHT",X=n(10),Y=function(e){return e[V]},J=Object(X.a)(Y,(function(e){return{pdf:e.pdf?e.pdf:null}})),Z=Object(X.a)(Y,(function(e){return e.pdfName})),K=Object(X.a)(Y,(function(e){return{pdf:e.pdf,currentPage:e.currentPage,documentRef:e.documentRef}})),$=Object(X.a)(Y,(function(e){return e.totalPages})),ee=Object(X.a)(Y,(function(e){return e.currentPage})),te=Object(X.a)($,ee,(function(e,t){return{currentPage:t,totalPages:e}})),ne=Object(X.a)(Y,(function(e){return e.documentRef})),re=Object(X.a)(Y,(function(e){return e.materialData})),ae=Object(X.a)(re,(function(e){return e.materialDataTimeStamp})),ce=Object(X.a)(re,(function(e){return e.materialSpans})),oe=function(e,t){return ce(e).indexOf(t)},ie=Object(X.a)(re,(function(e){return e.materialBoundingRects})),ue=Object(X.a)(ae,(function(e){return e>0})),le=Object(X.a)(Y,(function(e){return e.displayStatus})),se=Object(X.a)(le,(function(e){return"SHOW"===e})),de=Object(X.a)(Y,(function(e){return e.zoomQueue})),fe=Object(X.a)(Y,(function(e){return e.materialHeight})),me=function(){var e=0;return function(){var t=e;return e++,t}};var Ee=n(61),pe=function(e){return{span:e,rect:e.getBoundingClientRect()}},Oe=function(e){var t=Array.from(e.querySelectorAll("span"));if(0===t.length)return null;var n=function(e){var t,n=[],r=[],a=Object(Ee.a)(e);try{for(a.s();!(t=a.n()).done;){var c=t.value;n.push(c.span),r.push(c.rect)}}catch(o){a.e(o)}finally{a.f()}return{spans:n,boundingRects:r}}(function(e){return e.map(pe)}(t).sort((function(e,t){return e.rect.y-t.rect.y})));return{materialSpans:n.spans,materialBoundingRects:n.boundingRects}},ve="documentDB",be=ve+"/ARCHIVE_CURRENT_DATA",ge=ve+"/LOAD_DOCUMENT_DATA_SETS",De=ve+"/DELETE_DOCUMENT_DATA_SET",je=ve+"/DOCUMENT_CHANGE",Ce=function(e){return{type:be,payload:e}},ye=function(e,t){return{type:ge,payload:{dbData:e,newActiveDataSet:t}}},Re=function(e){return{type:De,payload:e}},Se=n(23),he={documentDB:{}},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case be:return Object(x.a)(Object(x.a)({},e),{},{documentDB:Object(x.a)(Object(x.a)({},e.documentDB),{},Object(Se.a)({},r.name,r))});case ge:return Object(x.a)(Object(x.a)({},e),{},{documentDB:Object(x.a)(Object(x.a)({},e.documentDB),r.dbData.reduce((function(e,t){return e[t.name]=t,e}),{}))});case De:return Object(x.a)(Object(x.a)({},e),{},{documentDB:Object.fromEntries(Object.entries(e.documentDB).filter((function(e){return e[0]!==r})))});default:return e}},Ie=function(e){return e[ve].present},Ae=Object(X.a)(Ie,(function(e){return e.documentDB})),Ne=Object(X.a)(Ae,(function(e){return Object.keys(e)})),Me=Object(X.a)(Ae,(function(e){return Object.values(e)})),Ue={actions:u,actionTypes:i,constants:o,reducer:Te,selectors:l},_e=n(28),Pe=n.n(_e),ke=function(e){return{type:H,payload:e}},we=function(e){return function(t){var n=e.target.files,r=n?n[0]:null;r&&t(ke(r))}},Fe=function(e){return{type:q,payload:e}},Le=function(e,t,n){var r=me(),a=setInterval((function(){(r()>e||n())&&clearInterval(a)}),t)};function xe(e){return function(t,n){var r=n(),a=e.current;if(a){var c=Date.now(),o=Oe(a);if(o&&ae(r)<c){var i=Object(x.a)(Object(x.a)({},o),{},{materialDataTimeStamp:c});t({type:z,payload:i})}else Le(10,20,(function(){var e=Oe(a);if(e&&ae(n())<c){var r=Object(x.a)(Object(x.a)({},e),{},{materialDataTimeStamp:c});return t({type:z,payload:r}),!0}return!1}))}}}var Ve=function(e){return{type:G,payload:e}},He=function(e,t){return e===t+1?1:e},qe=function(e,t){return 0===e?t:e},Qe=function(e){return function(t,n){var r=te(n()),a=r.currentPage,c=r.totalPages;switch(e){case"NEXT":t({type:G,payload:He(a+1,c)});break;case"PREVIOUS":t({type:G,payload:qe(a-1,c)})}}},Ge=function(){return Qe("NEXT")},Be=function(){return Qe("PREVIOUS")},ze=function(){return function(e,t){var n="SHOW"===le(t())?"HIDE":"SHOW";e({type:Q,payload:n})}},We=function(e){return{type:B,payload:e}},Xe=function(e,t){return function(n){console.log(t,e),n(Ve(t)),n(We(e))}},Ye=function(){return function(e,t){var n=t(),r=de(n);if(r){var a=ce(n);if(a)a[r].scrollIntoView({behavior:"smooth",block:"center",inline:"center"});e(We(null))}}},Je=function(e){return{type:W,payload:e}},Ze=function(e){return function(t,n){var r=n(),a=Z(r);a&&a===e&&(t({type:Ue.actionTypes.DOCUMENT_CHANGE}),t(_e.ActionCreators.clearHistory())),t(Ue.actions.deleteDocumentDataSet(e))}},Ke=n(6),$e=n(317),et=n(108),tt=n(299),nt=n(301),rt=n(138),at=n.n(rt),ct=n(137),ot=n.n(ct),it=function(){var e=Object(Ke.c)();return k.a.createElement($e.a,{title:"Previous page",enterDelay:500,enterNextDelay:1e3},k.a.createElement(et.a,{type:"button",onClick:function(){e(Be())}},k.a.createElement(ot.a,null)))},ut=function(){var e=Object(Ke.c)();return k.a.createElement($e.a,{title:"Next page",enterDelay:500,enterNextDelay:1e3},k.a.createElement(et.a,{type:"button",onClick:function(){e(Ge())}},k.a.createElement(at.a,null)))},lt=function(){return k.a.createElement(tt.a,{variant:"outlined"},k.a.createElement(L.a,{container:!0,direction:"row"},k.a.createElement(L.a,{item:!0},k.a.createElement(it,null)),k.a.createElement(L.a,{item:!0},k.a.createElement(nt.a,{orientation:"vertical"})),k.a.createElement(L.a,{item:!0},k.a.createElement(ut,null))))},st=n(24),dt=n(314),ft=n(263),mt=/(\D)/,Et=function(){var e=Object(Ke.c)(),t=Object(Ke.d)(te),n=t.currentPage,r=t.totalPages,a=Object(P.useState)({error:!1,value:null===n||void 0===n?void 0:n.toString(),userInput:null===n||void 0===n?void 0:n.toString()}),c=Object(st.a)(a,2),o=c[0],i=c[1];return o.value!==n.toString()&&i({error:!1,value:n.toString(),userInput:n.toString()}),k.a.createElement(tt.a,{variant:"outlined"},k.a.createElement(L.a,{item:!0},k.a.createElement(L.a,{container:!0,direction:"row",alignItems:"center",justify:"space-between"},k.a.createElement(L.a,{item:!0,style:{width:"37%"}},k.a.createElement(dt.a,{inputProps:{style:{padding:"0px",fontSize:"1.25rem",fontFamily:'"Roboto", "Helvetica", "Arial", sansSerif',fontWeight:500,lineHeight:1.6,letterSpacing:"0.0075em"}},type:"text",variant:"filled",value:o.userInput,onKeyDown:function(t){if("Enter"===t.key){t.preventDefault();var n=t.target.value;o.error||e(Ve(parseInt(n)))}},onChange:function(e){var t=e.target.value;!function(e,t){if(""===e||null!==e.trim().match(mt))return!1;var n=parseInt(e);return!(n<1||t<n)}(t,r)?i(Object(x.a)(Object(x.a)({},o),{},{error:!0,userInput:t})):i(Object(x.a)(Object(x.a)({},o),{},{error:!1,userInput:t}))},error:o.error})),k.a.createElement(L.a,{item:!0,style:{width:"61%"}},k.a.createElement(ft.a,{variant:"h6"},"of ",r)))))},pt=n(139),Ot=n(92),vt="appFocus",bt=vt+"/FOCUS_UPDATE",gt=vt+"/DISPLAY_FOCUS_UPDATE",Dt=function(e){return e[vt]},jt=Object(X.a)(Dt,(function(e){return e.userFocus})),Ct=Object(X.a)(Dt,(function(e){return e.displayFocus})),yt=function(e){return{type:bt,payload:e}},Rt=function(e){return function(t,n){jt(n())!==e&&t(yt(e))}},St=function(){return function(e,t){switch(jt(t())){case"CONTEXT_MENU":e(yt("DOCUMENT"));break;case"DOCUMENT":e(yt("CONTEXT_MENU"))}}},ht=function(e){return{type:gt,payload:e}},Tt={userFocus:"CONTROL",displayFocus:"ACTIVE_RIVER"},It={actions:E,constants:d,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case bt:return Object(x.a)(Object(x.a)({},e),{},{userFocus:r});case gt:return Object(x.a)(Object(x.a)({},e),{},{displayFocus:r});default:return e}},selectors:m,actionTypes:f},At=(n(199),n(200),n(76));At.c.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(At.c.version,"/pdf.worker.js");var Nt={cMapUrl:"cmaps/",cMapPacked:!0};var Mt=Object(Ke.b)(K,{materialLoaded:Fe,captureMaterialData:xe})((function(e){var t=e.parentSize,n=e.pdf,r=e.currentPage,a=e.materialLoaded,c=e.captureMaterialData,o=e.documentRef,i=Object(Ke.c)(),u=Object(Ke.d)(fe);u||i(Je(t.height)),u&&u!==t.height&&i(Je(t.height));var l=Object(Ke.d)(de);return Object(P.useEffect)((function(){l&&n&&i(Ye())}),[l,n,i]),k.a.createElement(At.a,{file:n,options:Nt,onLoadSuccess:function(e){var t=e.numPages;a(t)},inputRef:o,onItemClick:function(e){var t=e.pageNumber;i(Ve(parseInt(t)))},loading:"Loading PDF\u2026",noData:"No PDF file specified."},n&&k.a.createElement(At.b,{width:t.width,pageNumber:r,onRenderSuccess:function(){document.querySelectorAll(".react-pdf__Page__textContent").forEach((function(e){var t=e.style;t.top="0",t.left="0",t.transform=""})),c(o)}}))}));var Ut=Object(pt.withSize)({monitorHeight:!0,noPlaceholder:!0})((function(e){var t=e.size,n=e.hidden,r=Object(Ke.c)(),a=Object(P.useState)(3),c=Object(st.a)(a,2),o=c[0],i=c[1];return k.a.createElement(L.a,{item:!0,style:{width:"60%"},onMouseEnter:function(){r(It.actions.tryUpdateFocus("DOCUMENT")),i(20)},onMouseLeave:function(){i(3)},hidden:n},k.a.createElement(Ot.a,{elevation:o},k.a.createElement(Mt,{parentSize:t})))})),_t={displayStatus:"SHOW",totalPages:1e3,currentPage:1,documentRef:Object(P.createRef)(),pageSpans:{},zoomQueue:null,materialData:{materialDataTimeStamp:-1/0}},Pt={actions:s,actionTypes:a,components:p,constants:r,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case H:return Object(x.a)(Object(x.a)({},e),{},{pdf:r,pdfName:r.name});case Ue.actionTypes.DOCUMENT_CHANGE:return r?r.name===e.pdfName?e:Object(x.a)(Object(x.a)({},_t),{},{pdf:void 0,pdfName:r.name,totalPages:r.totalPages,currentPage:r.currentPage}):e;case q:return Object(x.a)(Object(x.a)({},e),{},{totalPages:r});case G:return Object(x.a)(Object(x.a)({},e),{},{currentPage:r});case Q:return Object(x.a)(Object(x.a)({},e),{},{displayStatus:r});case z:return Object(x.a)(Object(x.a)({},e),{},{materialData:r,pageSpans:Object(x.a)(Object(x.a)({},e.pageSpans),{},Object(Se.a)({},e.currentPage,r.materialSpans.length-1))});case W:return Object(x.a)(Object(x.a)({},e),{},{materialHeight:r});case B:return Object(x.a)(Object(x.a)({},e),{},{zoomQueue:r});default:return e}},selectors:c},kt="cardRiverState",wt=n(47),Ft=function(e,t){return e[t]},Lt=function(e,t,n,r){return r?t===n?function(e,t){return Object(x.a)(Object(x.a)({},t),e)}(e,r):"note"===t&&function(e){return!Object(wt.isNullOrUndefined)(e.q)}(r)?Object(x.a)(Object(x.a)({},r),{},Object(Se.a)({},n,e)):"note"===n?Ft(e,t):"q"===n?{q:e.a,a:r.a}:{a:e.q,q:r.q}:t===n?e:"note"===t?function(e,t){return Object(Se.a)({q:{},a:{}},t,e)}(e,n):"note"===n?Ft(e,t):function(e,t,n){var r;return r={},Object(Se.a)(r,t,{}),Object(Se.a)(r,n,e[t]),r}(e,t,n)},xt="cards",Vt=xt+"/CARD_UPDATE",Ht=xt+"/CARD_PUSH",qt=xt+"/CARD_REMOVE",Qt=xt+"/CARD_GOAL",Gt=function(e){return e[xt].present},Bt=Object(X.a)(Gt,(function(e){return e.lastCardIDNumber})),zt=Object(X.a)(Gt,(function(e){return e.cards})),Wt=Object(X.a)(Gt,(function(e){return e.goalCard})),Xt={REPLACE:function(e,t){return t},APPEND:function(e,t){return e+t}},Yt={note:function(e,t){return Object(x.a)(Object(x.a)({},e),{},{content:t(e.content)})},q:function(e,t){var n=e.content;return Object(x.a)(Object(x.a)({},e),{},{content:Object(x.a)(Object(x.a)({},n),{},{q:t(n.q)})})},a:function(e,t){var n=e.content;return Object(x.a)(Object(x.a)({},e),{},{content:Object(x.a)(Object(x.a)({},n),{},{a:t(n.a)})})}},Jt=function(e,t,n,r,a){var c=function(e,t){return function(n){return Xt[e](n,t)}}(r,e);return!!a?Yt[n](a,c):Yt[n]({type:t,content:"Q-A"===t?{q:"",a:""}:""},c)},Zt=function(e){return function(t,n){var r;t({type:Ht,payload:Object(x.a)(Object(x.a)({},e),{},{card:Object(x.a)(Object(x.a)({},e.card),{},{cardID:(r=Bt(n()),(r+1).toString())})})})}},Kt=function(e){return{type:Vt,payload:e}},$t=function(e,t,n,r,a){return function(c,o){var i=o(),u=zt(i)[t],l=Jt(e,u.type,n,r,u);c(Kt({card:Object(x.a)(Object(x.a)({},l),{},{origin:a})}))}},en=function(e,t,n,r,a){var c=Jt(e,r,t,n);return Zt({card:Object(x.a)(Object(x.a)({},c),{},{origin:a})})},tn=function(e){return{type:qt,payload:e}},nn=function(e,t){return{type:Qt,payload:Object(x.a)(Object(x.a)({},e),{},{creationType:t})}},rn=function(){return{type:Qt,payload:null}},an={cards:{0:{cardID:"0",type:"Q-A",content:{q:"Was ist der Sinn des Lebens?",a:"42"}},1:{cardID:"1",type:"Q-A",content:{q:"Welches Layout macht mehr Sinn?",a:"??"}},2:{cardID:"2",type:"Note",content:"Note here"}},lastCardIDNumber:2,goalCard:null},cn=function(e,t){var n=Object(x.a)({},e.cards);return delete n[t],Object(x.a)(Object(x.a)({},e),{},{cards:n})},on={services:v,constants:b,actionTypes:g,actions:j,reducer:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an,r=arguments.length>1?arguments[1]:void 0,a=r.type,c=r.payload;switch(a){case Ht:var o=n.lastCardIDNumber+1;return(t=Object(x.a)({},n.cards))[c.card.cardID]=c.card,Object(x.a)(Object(x.a)({},n),{},{cards:t,lastCardIDNumber:o});case Vt:return e=c.card.cardID,(t=Object(x.a)({},n.cards))[e]=c.card,Object(x.a)(Object(x.a)({},n),{},{cards:t});case qt:return cn(n,c);case Qt:return Object(x.a)(Object(x.a)({},n),{},{goalCard:c});case Ue.actionTypes.DOCUMENT_CHANGE:return c?Object(x.a)(Object(x.a)({},an),{},{cards:c.cards,lastCardIDNumber:c.lastCardIDNumber}):an;case Ue.actionTypes.LOAD_DOCUMENT_DATA_SETS:return c.newActiveDataSet?Object(x.a)(Object(x.a)({},an),{},{cards:c.newActiveDataSet.cards,lastCardIDNumber:c.newActiveDataSet.lastCardIDNumber}):n;default:return n}},selectors:D},un=function(e){return e[kt].present},ln=Object(X.a)(un,(function(e){return e.riverMakeUps})),sn=Object(X.a)(un,(function(e){return e.activeRiverMakeUpID})),dn=Object(X.a)(un,(function(e){return e.pushToRiverID})),fn=Object(X.a)(ln,dn,(function(e,t){return e[t]})),mn=Object(X.a)(ln,sn,(function(e,t){return e[t]})),En=Object(X.a)(fn,(function(e){return e.cardIDs})),pn=Object(X.a)(En,on.selectors.getCards,(function(e,t){return e.map((function(e){return t[e]}))})),On=Object(X.a)(mn,(function(e){return e.cardIDs})),vn=Object(X.a)(On,on.selectors.getCards,(function(e,t){return e.map((function(e){return t[e]}))})),bn=Object(X.a)(un,(function(e){return e.riverShowState})),gn=Object(X.a)(bn,(function(e){return"SHOW"===e})),Dn=Object(X.a)(un,(function(e){return{id:e.highlightedCardID,field:e.highlightedCardField}})),jn=Object(X.a)(un,on.selectors.getCards,(function(e,t){return e.sourceCard&&t[e.sourceCard]?e.sourceCard:null})),Cn=Object(X.a)(un,(function(e){return e.lastRiverIDNumber})),yn=Object(X.a)(un,(function(e){return e.riverContentState})),Rn=Object(X.a)(un,(function(e){return e.contentFilter})),Sn=n(75),hn=function(e){var t=e.storeValue,n=void 0===t?"":t,r=e.saveChanges,a=e.style,c=Object(Sn.a)(e,["storeValue","saveChanges","style"]),o=Object(P.useState)({storeValue:n,mutableValue:n}),i=Object(st.a)(o,2),u=i[0],l=i[1];return u.storeValue!==n&&l({storeValue:n,mutableValue:n}),k.a.createElement(dt.a,Object.assign({multiline:!0,variant:"filled",value:u.mutableValue,onChange:function(e){var t=e.target.value;l(Object(x.a)(Object(x.a)({},u),{},{mutableValue:t}))},onBlur:function(e){r(e.target.value)},style:a},c))},Tn=n(141),In=n.n(Tn),An=function(e){var t=e.cardID,n=Object(Ke.c)();return k.a.createElement($e.a,{title:"Delete this card",enterDelay:500,enterNextDelay:1e3},k.a.createElement(et.a,{type:"button",onClick:function(){n(on.actions.removeCard(t))},onMouseEnter:function(){n(It.actions.tryUpdateFocus("RIVER_CONTROL"))}},k.a.createElement(In.a,{fontSize:"small"})))},Nn=n(142),Mn=n.n(Nn),Un=function(e){var t=e.cardOrigin,n=Object(Ke.c)();return k.a.createElement($e.a,{title:"Jump to the origin of the card content",enterDelay:500,enterNextDelay:1e3},k.a.createElement(et.a,{type:"button",onClick:function(){n(It.actions.updateDisplayFocus("ACTIVE_RIVER")),n(Pt.actions.zoomToCardOrigin(t.spanIndex,t.page))},onMouseEnter:function(){n(It.actions.tryUpdateFocus("RIVER_CONTROL"))}},k.a.createElement(Mn.a,{fontSize:"small"})))},_n=n(144),Pn=n.n(_n),kn=n(143),wn=n.n(kn),Fn=function(e){var t=e.cardConfig,n=e.creationType,r=Object(Ke.c)(),a=Object(Ke.d)(on.selectors.getGoalCard),c=Object(P.useState)(!0),o=Object(st.a)(c,2),i=o[0],u=o[1];a?function(e,t,n){return e.cardID===n.cardID&&t===n.creationType}(t,n,a)?i&&u(!1):i||u(!0):i||u(!0);return k.a.createElement($e.a,{title:"Activate the document-selection grab for this card(-field)",enterDelay:500,enterNextDelay:1e3},k.a.createElement(et.a,{type:"button",onMouseEnter:function(){r(It.actions.tryUpdateFocus("RIVER_CONTROL"))},onClick:function(){r(i?on.actions.setGoalCard(t,n):on.actions.resetGoalCard())}},i?k.a.createElement(wn.a,{fontSize:"small"}):k.a.createElement(Pn.a,{fontSize:"small"})))},Ln=kt+"/RIVER_SHOW_STATE",xn=kt+"/RIVER_CONTENT_STATE",Vn=kt+"/RIVER_PUSH_STATE",Hn=kt+"/RIVER_HOVERED_CARD",qn=kt+"/RIVER_CARD_SOURCE",Qn=kt+"/RIVER_CONTENT_FILTER",Gn=function(){return function(e,t){e({type:Ln,payload:gn(t())?"HIDE":"SHOW"})}},Bn=function(e){return{type:xn,payload:e}},zn=function(e){return{type:Vn,payload:e}},Wn=function(e){return function(t,n){dn(n())!==e&&t(zn(e))}},Xn=function(e,t){return{payload:{id:e,field:t},type:Hn}},Yn=function(e,t){return function(n,r){var a=r(),c=Dn(a);c.id===e&&c.field===t||n(Xn(e,t))}},Jn=function(e,t){return{type:qn,payload:{origin:t,sourceField:e}}},Zn=function(e,t){return function(n,r){var a=jn(r());a&&a.sourceField===e&&a.origin===t||n(Jn(e,t))}},Kn=function(){return{type:qn,payload:null}},$n=function(){return function(e,t){null!==jn(t())&&e(Kn())}},er=function(e){return{type:Qn,payload:e}},tr=function(e){var t,n,r=e.config,a=Object(Ke.c)(),c=Object(Ke.d)(Dn),o=c.id,i=c.field,u=r.cardID===o,l="ACTIVE_RIVER"===Object(Ke.d)(It.selectors.getDisplayFocus),s=Object(P.useRef)();return Object(P.useEffect)((function(){s.current&&u&&s.current.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})})),k.a.createElement(tt.a,{variant:"elevation",elevation:5,ref:s,style:{padding:"3px"}},k.a.createElement(L.a,{container:!0,direction:"row",justify:"space-between"},k.a.createElement(L.a,{item:!0},k.a.createElement(L.a,{container:!0,direction:"column",spacing:1},k.a.createElement(L.a,{item:!0},k.a.createElement(L.a,{container:!0,direction:"row",spacing:1},k.a.createElement(L.a,{item:!0},k.a.createElement("div",{style:u&&"q"===i?rr:void 0},k.a.createElement(hn,{saveChanges:function(e){a(on.actions.updateCardContent(e,r.cardID,"q","REPLACE",r.origin))},storeValue:r.content.q,label:"Question",variant:"filled",style:{backgroundColor:"#FFBF69"},InputLabelProps:{style:{color:"#000000"}},onMouseEnter:function(){a(It.actions.tryUpdateFocus("RIVER")),a(Zn("q",r.origin))}}))),k.a.createElement(L.a,{item:!0},k.a.createElement(Ot.a,{variant:"outlined"},k.a.createElement(L.a,{container:!0,direction:"column"},l&&k.a.createElement(Fn,{cardConfig:r,creationType:"q"}),r.origin&&!Object(wt.isNullOrUndefined)(null===(t=r.origin.q)||void 0===t?void 0:t.spanIndex)&&k.a.createElement(Un,{cardOrigin:r.origin.q})))))),k.a.createElement(L.a,{item:!0},k.a.createElement(L.a,{container:!0,direction:"row",spacing:1},k.a.createElement(L.a,{item:!0},k.a.createElement("div",{style:u&&"a"===i?rr:void 0},k.a.createElement(hn,{saveChanges:function(e){a(on.actions.updateCardContent(e,r.cardID,"a","REPLACE",r.origin))},storeValue:r.content.a,label:"Answer",style:{backgroundColor:"#2EC4B6"},InputLabelProps:{style:{color:"#000000"}},onMouseEnter:function(){a(It.actions.tryUpdateFocus("RIVER")),a(Zn("a",r.origin))}}))),k.a.createElement(L.a,{item:!0},k.a.createElement(Ot.a,{variant:"outlined"},k.a.createElement(L.a,{container:!0,direction:"column"},l&&k.a.createElement(Fn,{cardConfig:r,creationType:"a"}),r.origin&&!Object(wt.isNullOrUndefined)(null===(n=r.origin.a)||void 0===n?void 0:n.spanIndex)&&k.a.createElement(Un,{cardOrigin:r.origin.a})))))))),k.a.createElement(L.a,{item:!0},k.a.createElement(An,{cardID:r.cardID}))))},nr=function(e){var t=e.config,n=Object(Ke.c)(),r=Object(Ke.d)(Dn).id,a=t.cardID===r,c="ACTIVE_RIVER"===Object(Ke.d)(It.selectors.getDisplayFocus),o=Object(P.useRef)();return Object(P.useEffect)((function(){o.current&&a&&o.current.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})})),k.a.createElement(tt.a,{variant:"elevation",elevation:5,style:a?Object(x.a)(Object(x.a)({},rr),{},{padding:"3px"}):{padding:"3px"},ref:o},k.a.createElement(L.a,{container:!0,direction:"row",justify:"space-between"},k.a.createElement(L.a,{item:!0},k.a.createElement(L.a,{container:!0,direction:"row",spacing:1},k.a.createElement(L.a,{item:!0},k.a.createElement(hn,{saveChanges:function(e){n(on.actions.updateCardContent(e,t.cardID,"note","REPLACE",t.origin))},storeValue:t.content,label:"Note",variant:"filled",style:{backgroundColor:"#CBF3F0"},InputLabelProps:{style:{color:"#000000"}},onMouseEnter:function(){n(It.actions.tryUpdateFocus("RIVER")),n(Zn("note",t.origin))}})),k.a.createElement(L.a,{item:!0},k.a.createElement(Ot.a,{variant:"outlined"},k.a.createElement(L.a,{container:!0,direction:"column"},k.a.createElement(L.a,{item:!0},c&&k.a.createElement(Fn,{cardConfig:t,creationType:"note"})),k.a.createElement(L.a,{item:!0},t.origin&&k.a.createElement(Un,{cardOrigin:t.origin}))))))),k.a.createElement(L.a,{item:!0},k.a.createElement(An,{cardID:t.cardID}))))},rr={border:"4px solid green",borderRadius:"4px"},ar=function(e){var t=e.config,n=e.riverID;switch(t.type){case"Note":return k.a.createElement(nr,{config:t,riverID:n});case"Q-A":return k.a.createElement(tr,{config:t,riverID:n})}},cr=function(){return k.a.createElement(L.a,{item:!0},k.a.createElement(nt.a,null))},or=n(318),ir=n(302),ur=n(303),lr=n(145),sr=n.n(lr),dr=function(){var e=Object(Ke.c)();return k.a.createElement($e.a,{title:"Create new Note-card",enterDelay:500,enterNextDelay:1e3},k.a.createElement(et.a,{type:"button",onClick:function(){e(on.actions.cardPush({card:{type:"Note",content:""}}))},onMouseEnter:function(){e(It.actions.tryUpdateFocus("RIVER_CONTROL"))}},k.a.createElement(sr.a,null)))},fr=n(146),mr=n.n(fr),Er=function(){var e=Object(Ke.c)();return k.a.createElement($e.a,{title:"Create new QA-card",enterDelay:500,enterNextDelay:1e3},k.a.createElement(et.a,{type:"button",onClick:function(){e(on.actions.cardPush({card:{type:"Q-A",content:{q:"",a:""}}}))},onMouseEnter:function(){e(It.actions.tryUpdateFocus("RIVER_CONTROL"))}},k.a.createElement(mr.a,null)))},pr=function(e){var t=e.riverID,n=e.gridItems,r=e.summary,a=Object(P.useState)(3),c=Object(st.a)(a,2),o=c[0],i=c[1],u=Object(Ke.d)(dn);t===u&&3===o?i(20):t!==u&&3!==o&&i(3);var l=Object(Ke.d)(Pt.selectors.getMaterialHeight),s=Object(Ke.d)(It.selectors.getDisplayFocus),d=Object(Ke.c)();return k.a.createElement(or.a,{defaultExpanded:!0,onMouseEnter:function(){d(Wn(t))},elevation:o,style:"ACTIVE_RIVER"===s?{overflowY:"auto",maxHeight:l||"1400px"}:{}},k.a.createElement(ir.a,null,k.a.createElement(ft.a,{variant:"h6",align:"center",style:{MozUserSelect:"none",WebkitUserSelect:"none",msUserSelect:"none"}},r)),k.a.createElement(ur.a,null,k.a.createElement(L.a,{container:!0,direction:"column",spacing:2,justify:"center",alignItems:"stretch"},k.a.createElement(L.a,{item:!0},k.a.createElement(Er,null),k.a.createElement(dr,null),k.a.createElement(nt.a,null)),k.a.createElement(L.a,{item:!0},k.a.createElement(L.a,{container:!0,direction:"column",spacing:2,justify:"center",alignItems:"stretch"},n)))))},Or=function(e){var t=e.riverID,n=e.riverCards,r=Object(Ke.d)(yn),a=Object(Ke.d)(Rn),c=Object(P.useMemo)((function(){var e=n;return"NONE"===r?[]:("ALL"!==r&&("QAS"===r&&(e=n.filter((function(e){return"Q-A"===e.type}))),"NOTES"===r&&(e=n.filter((function(e){return"Note"===e.type})))),""!==a&&(e=e.filter((function(e){switch(e.type){case"Note":return function(e,t){return e.content.includes(t)}(e,a);case"Q-A":return function(e,t){return e.content.a.includes(t)||e.content.q.includes(t)}(e,a)}return!1}))),function(e,t){var n=me();return e.reduce((function(e,r,a,c){return e.push(k.a.createElement(L.a,{item:!0,key:n()},k.a.createElement(ar,{config:r,riverID:t,key:n()}))),a<c.length-1&&e.push(k.a.createElement(cr,{key:n()})),e}),[])}(e,t))}),[n,t,r,a]);return k.a.createElement(pr,{riverID:t,gridItems:c,summary:t})},vr=function(e){return"CardRiver "+e},br=function(){var e=Object(Ke.d)(It.selectors.getDisplayFocus),t=Object(Ke.d)(Pt.selectors.getCurrentPage),n=Object(Ke.d)(on.selectors.getCards),r=Object.values(Object(Ke.d)(ln)),a=Object(P.useRef)(null);Object(P.useEffect)((function(){"SUMMARY_RIVER"===e&&null!==a.current&&(a.current.getBoundingClientRect().y<100?window.scrollTo({top:0,behavior:"smooth"}):a.current.scrollIntoView({behavior:"smooth",block:"start",inline:"start"}))}),[e,t]);var c=me();return k.a.createElement(L.a,{container:!0,justify:"flex-start",direction:"row",alignItems:"stretch",spacing:1},r.map((function(e){return e.cardIDs.length>0?k.a.createElement(L.a,{item:!0,ref:(r=e.riverID,parseInt(r.replace("CardRiver ",""))===t?a:null),key:c()},k.a.createElement(Or,{riverID:e.riverID,riverCards:e.cardIDs.map((function(e){return n[e]})),key:c()})):null;var r})))},gr=function(){var e=Object(Ke.d)(It.selectors.getDisplayFocus);return k.a.createElement(L.a,{item:!0,hidden:"SUMMARY_RIVER"!==e},k.a.createElement(br,null))},Dr=function(){var e=Object(Ke.d)(sn),t=Object(Ke.d)(vn);return k.a.createElement(Or,{riverID:e,riverCards:t})},jr=function(e){var t=e.hidden;return k.a.createElement(L.a,{item:!0,style:{width:"38%"},hidden:t},k.a.createElement(Dr,null))},Cr=function(){var e=Object(Ke.d)(It.selectors.getDisplayFocus),t=Object(Ke.d)(Pt.selectors.displayStatusIsShow),n=Object(Ke.d)(gn);return k.a.createElement(L.a,{item:!0,hidden:"ACTIVE_RIVER"!==e},k.a.createElement(L.a,{container:!0,justify:"space-around",direction:"row",alignItems:"stretch"},k.a.createElement(jr,{hidden:!n}),k.a.createElement(Pt.components.MaterialDisplayColumnWithSize,{hidden:!t})))},yr=n(304),Rr=n(305),Sr=n(8),hr=n(316),Tr=n(96),Ir=Object(Sr.a)({root:{color:Tr.a[400],"&$checked":{color:Tr.a[600]}},checked:{}})((function(e){return k.a.createElement(hr.a,Object.assign({color:"default"},e))})),Ar=function(){var e=Object(Ke.d)(yn),t=Object(Ke.c)(),n="ALL"===e||"QAS"===e,r="ALL"===e||"NOTES"===e,a=function(e){n||"QAS"!==e?r||"NOTES"!==e?n&&"QAS"===e?t(Bn(r?"NOTES":"NONE")):r&&"NOTES"===e&&t(Bn(n?"QAS":"NONE")):t(Bn(n?"ALL":"NOTES")):t(Bn(r?"ALL":"QAS"))};return k.a.createElement(yr.a,null,k.a.createElement(Rr.a,{control:k.a.createElement(Ir,{checked:n,onClick:function(){a("QAS")}}),label:"QAs"}),k.a.createElement(Rr.a,{control:k.a.createElement(Ir,{checked:r,onClick:function(){a("NOTES")}}),label:"Notes"}))},Nr=n(95),Mr={riverMakeUps:Object(Se.a)({},vr(1),{riverID:vr(1),cardIDs:["2","0","1"]}),pushToRiverID:vr(1),activeRiverMakeUpID:vr(1),lastRiverIDNumber:1,riverShowState:"SHOW",highlightedCardID:null,highlightedCardField:null,riverContentState:"ALL",sourceCard:null,contentFilter:""},Ur=function(e){return{riverID:vr(e),cardIDs:[]}},_r=function(e){for(var t=Object(x.a)({},e),n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach((function(e){t.riverMakeUps[e.riverID]=e})),t},Pr=function(e){return Object(x.a)(Object(x.a)({},e.riverMakeUps[e.activeRiverMakeUpID]),{},{active:!1})},kr=function(e,t){var n=Object.fromEntries(Object.entries(e.riverMakeUps).map((function(e){return[e[0],Object(x.a)(Object(x.a)({},e[1]),{},{cardIDs:e[1].cardIDs.filter((function(e){return e!==t}))})]})));return Object(x.a)(Object(x.a)({},e),{},{riverMakeUps:n})},wr={constants:O,components:R,reducer:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mr,r=arguments.length>1?arguments[1]:void 0,a=r.type,c=r.payload;switch(a){case Pt.actionTypes.PAGE_UPDATE:var o;o=n.riverMakeUps[vr(c)]?Object(x.a)({},n.riverMakeUps[vr(c)]):Ur(c);var i=Pr(n);return Object(x.a)(Object(x.a)({},_r(n,o,i)),{},{activeRiverMakeUpID:o.riverID,pushToRiverID:o.riverID});case on.actionTypes.CARD_PUSH:return e=Object(x.a)(Object(x.a)({},n.riverMakeUps[n.pushToRiverID]),{},{cardIDs:[].concat(Object(Nr.a)(n.riverMakeUps[n.pushToRiverID].cardIDs),[c.card.cardID])}),(t=Object(x.a)({},n.riverMakeUps))[n.pushToRiverID]=e,Object(x.a)(Object(x.a)({},n),{},{riverMakeUps:t});case on.actionTypes.CARD_REMOVE:return kr(n,c);case Ln:return Object(x.a)(Object(x.a)({},n),{},{riverShowState:c});case xn:return Object(x.a)(Object(x.a)({},n),{},{riverContentState:c});case Vn:return Object(x.a)(Object(x.a)({},n),{},{pushToRiverID:c});case Hn:return Object(x.a)(Object(x.a)({},n),{},{highlightedCardID:c.id,highlightedCardField:c.field});case It.actionTypes.FOCUS_UPDATE:var u=n.sourceCard;return"DOCUMENT"===c&&u&&(u=null),null!==n.highlightedCardID&&"CONTEXT_MENU"!==c?Object(x.a)(Object(x.a)({},n),{},{highlightedCardID:null,highlightedCardField:null,sourceCard:u}):Object(x.a)(Object(x.a)({},n),{},{sourceCard:u});case Ue.actionTypes.DOCUMENT_CHANGE:return c?Object(x.a)(Object(x.a)({},Mr),{},{riverMakeUps:c.riverMakeUps,activeRiverMakeUpID:c.activeRiverMakeUpID,pushToRiverID:c.pushToRiverID,lastRiverIDNumber:c.lastRiverIDNumber}):Mr;case Ue.actionTypes.LOAD_DOCUMENT_DATA_SETS:return c.newActiveDataSet?Object(x.a)(Object(x.a)({},Mr),{},{riverMakeUps:c.newActiveDataSet.riverMakeUps,activeRiverMakeUpID:c.newActiveDataSet.activeRiverMakeUpID,pushToRiverID:c.newActiveDataSet.pushToRiverID,lastRiverIDNumber:c.newActiveDataSet.lastRiverIDNumber}):n;case qn:return Object(x.a)(Object(x.a)({},n),{},{sourceCard:c});case Qn:return Object(x.a)(Object(x.a)({},n),{},{contentFilter:c});default:return n}},selectors:C,actions:y},Fr=Object(X.a)(Pt.selectors.getPDFName,Pt.selectors.getTotalPages,Pt.selectors.getCurrentPage,wr.selectors.getRiverMakeUps,wr.selectors.getActiveRiverMakeUpID,wr.selectors.getPushToRiver,wr.selectors.getLastRiverIDNumber,on.selectors.getCards,on.selectors.getLastCardIDNumber,(function(e,t,n,r,a,c,o,i,u){return{name:e,totalPages:t,currentPage:n,riverMakeUps:r,activeRiverMakeUpID:a,pushToRiverID:c,lastRiverIDNumber:o,cards:i,lastCardIDNumber:u}})),Lr=function(){return function(e,t){var n=t();if(void 0!==Pt.selectors.getPDFName(n)){var r=Fr(n);e(Ue.actions.archiveDBData(r))}}},xr=n(228),Vr=function(){return function(e,t){e(Lr());var n=Ue.selectors.getDocumentDataSets(t()),r=(new Date).toLocaleString();xr(JSON.stringify(n),r+" ClayMemory.txt")}},Hr=function(e){return function(t,n){var r=e.name,a=n(),c=Pt.selectors.getPDFName(a),o=Ue.selectors.getDocumentDB(a);if(void 0!==c){var i=Fr(a);t(Ue.actions.archiveDBData(i))}if(t(Pt.actions.pdfUpload(e)),r!==c){var u=o[r];t(u?{type:Ue.actionTypes.DOCUMENT_CHANGE,payload:u}:{type:Ue.actionTypes.DOCUMENT_CHANGE}),t(_e.ActionCreators.clearHistory())}}},qr=function(e){return function(t,n){var r=n(),a=Pt.selectors.getPDFName(r),c=Ue.selectors.getDocumentDB(r);if(void 0!==a){var o=Fr(r);t(Ue.actions.archiveDBData(o))}var i=c[e];t({type:Ue.actionTypes.DOCUMENT_CHANGE,payload:i}),t(_e.ActionCreators.clearHistory())}},Qr=function(e,t){var n=Object(P.useRef)((function(){}));Object(P.useEffect)((function(){n.current=t}),[t]),Object(P.useEffect)((function(){var t=function(e){return n.current(e)};return document.addEventListener(e,t),function(){document.removeEventListener(e,t)}}),[e])},Gr="creationData",Br=Gr+"/TOGGLE_CONTEXT_MENU",zr=Gr+"/CLOSE_CONTEXT_MENU",Wr=Gr+"/OPEN_CONTEXT_MENU",Xr=Gr+"/SELECTED_STRING",Yr=Gr+"/SELECTED_PARENT",Jr=Gr+"/SELECITON_POSITION",Zr=function(e){return e[Gr].present},Kr=Object(X.a)(Zr,(function(e){return e.open})),$r=Object(X.a)(Zr,(function(e){return e.menuRef})),ea=Object(X.a)(Zr,(function(e){return e.fullCardRef})),ta=Object(X.a)(Zr,(function(e){return e.qaRefs})),na=Object(X.a)(Zr,(function(e){return e.selectionPosition})),ra=Object(X.a)(na,Kr,$r,ta,wr.selectors.getPushToRiverCards,(function(e,t,n,r,a){return{position:e,state:t,menuRef:n,qaRefs:r,riverCards:a}})),aa=Object(X.a)(Zr,(function(e){return e.manuallySelectedString})),ca=Object(X.a)(Zr,(function(e){return e.selectedParentSpan})),oa=Object(X.a)((function(e){return e}),Pt.selectors.getCurrentPage,ca,(function(e,t,n){return{spanIndex:Pt.selectors.getSpanIndex(e,n),page:t}})),ia=function(){return function(e,t){var n=t();Pt.selectors.getDataExists(n)&&(e({type:Br}),e(It.actions.toggleContextMenuFocus()))}},ua=function(){return function(e,t){Kr(t())&&(e({type:zr}),e(It.actions.updateFocus("DOCUMENT")))}},la=function(){return function(e){e({type:Wr}),e(It.actions.updateFocus("DOCUMENT"))}},sa=function(e,t,n){return function(r,a){r(ua());var c,o=a(),i=void 0!==n,u=aa(o),l=ca(o)?oa(o):void 0;l&&(c=on.services.transformInputOrigin(l,"note",t,i?on.selectors.getCards(o)[n].origin:void 0),console.log(l,c)),r(i?on.actions.updateCardContent(u,n,t,"REPLACE",c):on.actions.pushCardContent(u,t,"REPLACE",e,c)),r(Ea())}},da=function(e){var t,n;return!!e&&(!Object(wt.isNullOrUndefined)(e.spanIndex)||!Object(wt.isNullOrUndefined)(null===(t=e.a)||void 0===t?void 0:t.spanIndex)||!Object(wt.isNullOrUndefined)(null===(n=e.q)||void 0===n?void 0:n.spanIndex))},fa=function(e,t,n,r,a){return function(c,o){c(ua());var i=o(),u=void 0!==a,l=da(r)?on.services.transformInputOrigin(r,n,t,u?on.selectors.getCards(i)[a].origin:void 0):void 0,s=aa(i);c(u?on.actions.updateCardContent(s,a,t,"REPLACE",l):on.actions.pushCardContent(s,t,"REPLACE",e,l)),c(Ea()),c(wr.actions.resetSourceCard())}},ma=function(e){return{type:Xr,payload:e}},Ea=function(){return ma("")},pa=function(e){return{type:Yr,payload:e}},Oa=function(e,t){return{type:Jr,payload:{x:e,y:t}}},va={open:!1,menuRef:Object(P.createRef)(),fullCardRef:Object(P.createRef)(),qaRefs:[Object(P.createRef)(),Object(P.createRef)()],manuallySelectedString:"",selectedParentSpan:null,selectionPosition:{x:0,y:0}},ba=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Br:return Object(x.a)(Object(x.a)({},e),{},{open:!e.open});case zr:return Object(x.a)(Object(x.a)({},e),{},{open:!1});case Wr:return Object(x.a)(Object(x.a)({},e),{},{open:!0});case on.actionTypes.CARD_PUSH:return"Q-A"===r.card.type?Object(x.a)(Object(x.a)({},e),{},{qaRefs:[].concat(Object(Nr.a)(e.qaRefs),[Object(P.createRef)()])}):e;case Xr:return Object(x.a)(Object(x.a)({},e),{},{manuallySelectedString:r});case Yr:return Object(x.a)(Object(x.a)({},e),{},{selectedParentSpan:r});case Jr:return Object(x.a)(Object(x.a)({},e),{},{selectionPosition:r});default:return e}},ga=n(111),Da=n(267),ja=n(94),Ca=function(e){return""===e},ya=function(e){return""===e.q||""===e.a},Ra=function(e){var t=e.cardConfig,n=e.dispatchRiver,r=Object(Ke.c)();return k.a.createElement(Da.a,{onClick:function(){n(t.type,"note",t.cardID)},onMouseEnter:function(){r(wr.actions.trySetHoveredCard(t.cardID,"note"))}},t.type)},Sa=function(e){var t=e.cardConfig,n=e.dispatchRiver,r=e.qaRef,a=Object(Ke.c)();return k.a.createElement(ja.a,{label:"Q-A",parentMenuOpen:!0},k.a.createElement(Da.a,{ref:r,onClick:function(){n("Q-A","q",t.cardID)},onMouseEnter:function(){a(wr.actions.trySetHoveredCard(t.cardID,"q"))}},"Q"),k.a.createElement(Da.a,{onClick:function(){n("Q-A","a",t.cardID)},onMouseEnter:function(){a(wr.actions.trySetHoveredCard(t.cardID,"a"))}},"A"))},ha=function(e){var t=e.cardConfig,n=e.dispatchRiver,r=e.qaRef;switch(t.type){case"Q-A":return k.a.createElement(Sa,{cardConfig:t,dispatchRiver:n,qaRef:r});default:return k.a.createElement(Ra,{cardConfig:t,dispatchRiver:n})}},Ta=function(e){var t=e.onClick;return k.a.createElement(Da.a,{onClick:t},"New: Q (Q-A)")},Ia=function(e){var t=e.onClick;return k.a.createElement(Da.a,{onClick:t},"New: A (Q-A)")},Aa=function(e){var t=e.onClick;return k.a.createElement(Da.a,{onClick:t},"New: Note")},Na=function(e){var t=e.noteDispatch,n=e.qDispatch,r=e.aDispatch;return k.a.createElement(P.Fragment,null,k.a.createElement(Aa,{onClick:t}),k.a.createElement(Ta,{onClick:n}),k.a.createElement(Ia,{onClick:r}))};var Ma=Object(Ke.b)(ra)((function(e){var t=e.position,n=e.state,r=e.menuRef,a=e.qaRefs,c=e.riverCards,o=Object(Ke.d)(ea),i=Object(Ke.c)(),u=Object(Ke.d)(wr.selectors.getSourceCard),l=n,s=function(e,t,n){i(u?fa(e,t,u.sourceField,u.origin,n):sa(e,t,n))},d=me(),f=me(),m=l?{top:t.y,left:t.x}:void 0,E=c.filter((function(e){return"string"===typeof e.content?Ca(e.content):ya(e.content)})),p=c.filter((function(e){return"string"===typeof e.content?!Ca(e.content):!ya(e.content)}));return k.a.createElement(ga.a,{ref:l?r:null,keepMounted:!0,open:l,anchorReference:"anchorPosition",anchorPosition:m},l&&E.map((function(e){return k.a.createElement(ha,{cardConfig:e,dispatchRiver:s,key:d(),qaRef:"Q-A"===e.type?a[f()]:void 0})})),l&&E.length>0&&k.a.createElement(nt.a,null),l&&k.a.createElement(Na,{noteDispatch:function(){s("Note","note")},qDispatch:function(){s("Q-A","q")},aDispatch:function(){s("Q-A","a")}}),l&&p.length>0&&k.a.createElement(nt.a,null),l&&p.length>0&&k.a.createElement(ja.a,{label:"Full cards: ",parentMenuOpen:!0},k.a.createElement(Da.a,{ref:o,style:{position:"absolute"}}),p.map((function(e){return k.a.createElement(ha,{cardConfig:e,dispatchRiver:s,key:d(),qaRef:"Q-A"===e.type?a[f()]:void 0})}))))})),Ua=n(319),_a=n(148),Pa=n.n(_a),ka=function(){var e=Object(P.useState)(!1),t=Object(st.a)(e,2),n=t[0],r=t[1],a=Object(Ke.c)(),c=Object(Ke.d)(aa);""===c&&n&&r(!1),""===c||n||r(!0);var o=k.a.createElement(P.Fragment,null,k.a.createElement("div",null,"Current Selection: "),k.a.createElement("div",{style:{color:"green"}}," ",c));return k.a.createElement(Ua.a,{onMouseEnter:function(){a(It.actions.tryUpdateFocus("CONTROL"))},anchorOrigin:{vertical:"top",horizontal:"center"},open:n,onClose:function(e,t){"clickaway"===t?e.preventDefault():(r(!1),a(Ea()))},message:o,action:k.a.createElement(et.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){r(!1),a(Ea())}},k.a.createElement(Pa.a,{fontSize:"small"}))})},wa=function(e,t){var n,r,a=$r(e).current,c=null===(n=ea(e).current)||void 0===n?void 0:n.parentNode,o=ta(e).map((function(e){return e.current})).filter((function(e){return!!e})).map((function(e){return e.parentNode})),i=t.target;if(null===a||void 0===a||null===(r=a.querySelector("div.MuiPaper-root"))||void 0===r?void 0:r.contains(i))return!0;if(null===c||void 0===c?void 0:c.contains(i))return!0;var u,l=Object(Ee.a)(o);try{for(l.s();!(u=l.n()).done;){if(u.value.contains(i))return!0}}catch(s){l.e(s)}finally{l.f()}return!1},Fa={actions:N,actionTypes:I,constants:T,components:M,reducer:ba,selectors:A,services:U},La=function(e){return function(t,n){var r=e[t.key];r&&(t.preventDefault(),n(r))}},xa={ArrowLeft:Pt.actions.previousPage(),ArrowRight:Pt.actions.nextPage()},Va=La(xa),Ha={t:Fa.actions.toggleContextMenu()},qa=La(Ha),Qa=function(e,t){},Ga={DOCUMENT:La(Object(x.a)(Object(x.a)({},xa),Ha)),CONTEXT_MENU:qa,RIVER:Qa,RIVER_CONTROL:Qa,CONTROL:Va};var Ba=Object(Ke.b)((function(){return{}}),{keyDownControl:function(e){return function(t,n){var r=n(),a=It.selectors.getFocus(r);(0,Ga[a])(e,t,r)}},mouseDownControl:function(e){return function(t,n){!Fa.services.contextMenuContainsTargetNode(n(),e)&&t(Fa.actions.closeContextMenu())}},mouseUpControl:function(e){return function(t,n){if(!Fa.selectors.getContextMenuState(n())){var r=document.getSelection();if(r){var a=function(){if(!window.getSelection)return document.selection&&"Control"!==document.selection.type?document.selection.createRange().text:"";try{var e,t=document.activeElement;return t&&t.value?t.value.substring(t.selectionStart,t.selectionEnd):null===(e=window.getSelection())||void 0===e?void 0:e.toString()}catch(n){return""}}();if(a&&""!==a){var c=n(),o=on.selectors.getGoalCard(c),i=It.selectors.getFocus(c);if(o&&("RIVER"===i||"DOCUMENT"===i))"RIVER"!==i&&t(on.actions.updateCardContent(a,o.cardID,o.creationType,"REPLACE",o.origin)),t(on.actions.resetGoalCard());else{var u;if("DOCUMENT"===i)t(wr.actions.setPushToRiver(wr.selectors.getActiveRiverMakeUpID(c))),t(Fa.actions.selectedParent(null===(u=r.anchorNode)||void 0===u?void 0:u.parentNode)),t(Fa.actions.updateManuallySelectedString(a)),t(Fa.actions.updateSelectionPosition(e.x,e.y)),t(Fa.actions.openContextMenu());"RIVER"===i&&t(Fa.actions.updateManuallySelectedString(a))}}}}}},rightClickControl:function(e){return function(t,n){var r=n(),a=It.selectors.getFocus(r);""!==Fa.selectors.getCurrentSelectedString(r)&&(e.preventDefault(),"RIVER"===a&&(t(Fa.actions.updateSelectionPosition(e.x,e.y)),t(Fa.actions.openContextMenu())))}}})((function(e){var t=e.keyDownControl,n=e.mouseDownControl,r=e.mouseUpControl,a=e.rightClickControl;return Qr("keydown",t),Qr("mousedown",n),Qr("mouseup",r),Qr("contextmenu",a),null})),za=n(307),Wa=n(308),Xa=n(315),Ya=n(309),Ja=n(306),Za=n(153),Ka=n.n(Za),$a=n(154),ec=n.n($a),tc=n(152),nc=n.n(tc),rc=n(151),ac=n.n(rc),cc=n(149),oc=n.n(cc),ic=function(e){var t=e.document,n=Object(Ke.c)();return k.a.createElement($e.a,{title:"Delete this document and all its corresponding cards",enterDelay:500,enterNextDelay:1e3},k.a.createElement(et.a,{type:"button",onClick:function(){n(Pt.actions.deleteDocument(t))}},k.a.createElement(oc.a,{fontSize:"small"})))},uc=n(150),lc=n.n(uc),sc=function(e){var t=e.document,n=Object(Ke.c)();return k.a.createElement($e.a,{title:"Load the card data of this document",enterDelay:500,enterNextDelay:1e3},k.a.createElement(et.a,{type:"button",onClick:function(){n(qr(t))}},k.a.createElement(lc.a,{fontSize:"small"})))},dc=function(e){var t=e.handleClose,n=e.label,r=Object(Ke.c)(),a=Object(P.useRef)(null);return k.a.createElement(P.Fragment,null,k.a.createElement(Da.a,{onClick:function(){a.current.click()}},k.a.createElement(Ja.a,{variant:"contained",color:"primary",disableElevation:!0,startIcon:k.a.createElement(ac.a,null)},n)),k.a.createElement("input",{ref:a,style:{display:"none"},onChange:function(e){var n=e.target.files,a=n?n[0]:null;a&&r(Hr(a)),t()},type:"file",accept:".pdf"}))},fc=function(e){var t=e.handleClose,n=e.label,r=Object(Ke.c)(),a=Object(Ke.d)(Pt.selectors.getPDFName),c=Object(P.useRef)(null);return k.a.createElement(P.Fragment,null,k.a.createElement(Da.a,{onClick:function(){c.current.click()}},k.a.createElement(Ja.a,{variant:"contained",color:"primary",disableElevation:!0,startIcon:k.a.createElement(nc.a,null)},n)),k.a.createElement("input",{ref:c,style:{display:"none"},onChange:function(e){var n=e.target.files,c=n?n[0]:null;if(c){var o=new FileReader;o.readAsText(c),o.onload=function(){var e=JSON.parse(o.result),t=e.find((function(e){return e.name===a}));r(Ue.actions.loadDocumentDataSets(e,t))}}t()},type:"file",accept:".txt"}))},mc=function(e){var t=e.document;return k.a.createElement(L.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:1},k.a.createElement(L.a,{item:!0},t.replace(".pdf","")),k.a.createElement(L.a,{item:!0},k.a.createElement(tt.a,{variant:"outlined"},k.a.createElement(L.a,{container:!0,direction:"row"},k.a.createElement(L.a,{item:!0},k.a.createElement(sc,{document:t})),k.a.createElement(L.a,{item:!0},k.a.createElement(nt.a,{orientation:"vertical"})),k.a.createElement(L.a,{item:!0},k.a.createElement(ic,{document:t}))))))},Ec=function(e){var t=e.document;return k.a.createElement(L.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:1},k.a.createElement(L.a,{item:!0},t.replace(".pdf","")),k.a.createElement(L.a,{item:!0},k.a.createElement(tt.a,{variant:"outlined"},k.a.createElement(ic,{document:t}))))},pc=function(){var e=Object(Ke.d)(Ue.selectors.getDocumentNames),t=Object(Ke.d)(Pt.selectors.getPDFName),n=k.a.useState(null),r=Object(st.a)(n,2),a=r[0],c=r[1],o=function(){c(null)},i=Object(Ke.c)();return k.a.createElement("div",null,k.a.createElement(et.a,{type:"button",onClick:function(e){c(e.currentTarget)}},k.a.createElement(Ka.a,null)),k.a.createElement(ga.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:o,MenuListProps:{style:{paddingLeft:"8px",paddingRight:"8px"}}},t&&[k.a.createElement(ft.a,{variant:"h6"},"Active Document:"),k.a.createElement(Ec,{document:t}),k.a.createElement(nt.a,{style:{marginTop:"6px"}})],e.filter((function(e){return e!==t})).length>0&&[k.a.createElement(ft.a,{variant:"h6"},"Inactive documents with existing data:"),k.a.createElement(ft.a,null,k.a.createElement("ul",{style:{listStyleType:"square"}},e.map((function(e){return e&&e!==t?k.a.createElement("li",null,k.a.createElement(mc,{document:e})):null})))),k.a.createElement(nt.a,{style:{marginTop:"6px"}})],k.a.createElement(dc,{handleClose:o,label:"Load document"}),k.a.createElement(nt.a,null),k.a.createElement(Da.a,{onClick:function(){i(Vr()),o()}},k.a.createElement(Ja.a,{variant:"contained",color:"primary",disableElevation:!0,startIcon:k.a.createElement(ec.a,null)},"Download document datasets")),k.a.createElement(nt.a,null),k.a.createElement(fc,{handleClose:o,label:"Upload document datasets"})))},Oc=n(155),vc=n.n(Oc),bc=function(){var e=Object(Ke.c)(),t=Object(Ke.d)(wr.selectors.getRiverContentFilter),n=Object(P.useState)(t),r=Object(st.a)(n,2),a=r[0],c=r[1];return k.a.createElement(vc.a,{value:a,placeholder:"Search in cards",onChange:function(t){""===t&&e(wr.actions.setContentFilter("")),c(t)},onCancelSearch:function(){e(wr.actions.setContentFilter(""))},onRequestSearch:function(){return e(wr.actions.setContentFilter(a))}})},gc=n(156),Dc=n.n(gc),jc=n(157),Cc=n.n(jc),yc=function(){var e=Object(Ke.c)();return k.a.createElement($e.a,{title:"Undo last action",enterDelay:500,enterNextDelay:1e3},k.a.createElement("span",null,k.a.createElement(et.a,{type:"button",onClick:function(){e(_e.ActionCreators.undo())}},k.a.createElement(Dc.a,null))))},Rc=function(){var e=Object(Ke.c)();return k.a.createElement($e.a,{title:"Redo last action",enterDelay:500,enterNextDelay:1e3},k.a.createElement(et.a,{type:"button",onClick:function(){e(_e.ActionCreators.redo())}},k.a.createElement(Cc.a,null)))},Sc=function(){return k.a.createElement(tt.a,{variant:"outlined"},k.a.createElement(L.a,{container:!0,direction:"row"},k.a.createElement(L.a,{item:!0},k.a.createElement(yc,null)),k.a.createElement(L.a,{item:!0},k.a.createElement(nt.a,{orientation:"vertical"})),k.a.createElement(L.a,{item:!0},k.a.createElement(Rc,null))))},hc=n(158),Tc=n.n(hc),Ic=function(){var e=Object(Ke.c)(),t=Object(Ke.d)(wr.selectors.getRiverShowState);return k.a.createElement(Rr.a,{control:k.a.createElement(Ir,{checked:"SHOW"===t,onClick:function(){e(wr.actions.toggleRiverShowState())}}),label:"River"})},Ac=function(){var e=Object(Ke.c)(),t=Object(Ke.d)(Pt.selectors.getDisplayStatus);return k.a.createElement(Rr.a,{control:k.a.createElement(Ir,{checked:"SHOW"===t,onClick:function(){e(Pt.actions.toggleDisplayState())}}),label:"Material"})},Nc=function(){var e=k.a.useState(null),t=Object(st.a)(e,2),n=t[0],r=t[1],a=Object(Ke.d)(It.selectors.getDisplayFocus);return k.a.createElement("div",null,k.a.createElement(et.a,{type:"button",onClick:function(e){r(e.currentTarget)}},k.a.createElement(Tc.a,null)),k.a.createElement(ga.a,{anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:function(){r(null)}},k.a.createElement(ft.a,null,"Show:"),k.a.createElement(nt.a,null),k.a.createElement(L.a,{container:!0,direction:"row"},k.a.createElement(L.a,{item:!0},k.a.createElement(wr.components.RiverContentFormGroup,null)),k.a.createElement(L.a,{item:!0},k.a.createElement(nt.a,{orientation:"vertical"})),k.a.createElement(L.a,{item:!0},"ACTIVE_RIVER"===a&&k.a.createElement(L.a,{container:!0,direction:"column"},k.a.createElement(L.a,{item:!0},k.a.createElement(Ic,null)),k.a.createElement(L.a,{item:!0},k.a.createElement(Ac,null)))))))},Mc=function(){var e=Object(Ke.c)(),t="ACTIVE_RIVER"===Object(Ke.d)(It.selectors.getDisplayFocus)?0:1,n=Object(Ke.d)(Pt.selectors.getPDFName);return k.a.createElement(L.a,{item:!0,onMouseEnter:function(){e(It.actions.tryUpdateFocus("CONTROL"))}},k.a.createElement(za.a,null,k.a.createElement(Wa.a,{variant:"regular"},k.a.createElement(L.a,{item:!0},k.a.createElement(L.a,{container:!0,spacing:1,direction:"row",alignItems:"center",justify:"flex-start"},k.a.createElement(L.a,{item:!0,style:{width:"15%"}},k.a.createElement(Pt.components.PageChooser,null)),k.a.createElement(L.a,{item:!0},k.a.createElement(Pt.components.PageNavigation,null)),k.a.createElement(L.a,{item:!0},k.a.createElement(tt.a,{variant:"outlined"},k.a.createElement(Xa.a,{value:t,onChange:function(t,n){e(0===n?It.actions.updateDisplayFocus("ACTIVE_RIVER"):It.actions.updateDisplayFocus("SUMMARY_RIVER"))}},k.a.createElement(Ya.a,{label:k.a.createElement($e.a,{title:"Switch to the Active-River view",enterDelay:500,enterNextDelay:500,disableFocusListener:!0},k.a.createElement("span",null,"ActiveRiver"))}),k.a.createElement(Ya.a,{label:k.a.createElement($e.a,{title:"Switch to the Summary-River view",enterDelay:500,enterNextDelay:500,disableFocusListener:!0},k.a.createElement("span",null,"SummaryRiver"))})))),k.a.createElement(L.a,{item:!0},k.a.createElement(Sc,null)))),k.a.createElement(ft.a,{style:{flexGrow:1}},null===n||void 0===n?void 0:n.replace(".pdf","")),k.a.createElement(Nc,null),k.a.createElement(pc,null),k.a.createElement(bc,null))))},Uc={actions:h,components:_,selectors:S},_c=n(264),Pc=n(310),kc=n(311),wc=n(312),Fc=n(313),Lc=n(159),xc=n.n(Lc),Vc=Object(_c.a)((function(e){return Object(Pc.a)({root:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}})}));function Hc(e){var t=e.children,n=Vc(),r=Object(kc.a)({disableHysteresis:!0,threshold:100});return k.a.createElement(wc.a,{in:r},k.a.createElement("div",{onClick:function(e){var t=(e.target.ownerDocument||document).querySelector("#back-to-top-anchor");t&&t.scrollIntoView({behavior:"smooth",block:"center"})},role:"presentation",className:n.root},t))}function qc(){return k.a.createElement("div",null,k.a.createElement(Uc.components.ControlContainer,null),k.a.createElement(L.a,{container:!0,justify:"center",direction:"column",alignItems:"stretch",spacing:1},k.a.createElement(Uc.components.ControlBar,null),k.a.createElement(Wa.a,{id:"back-to-top-anchor"}),k.a.createElement(wr.components.ActiveRiverView,null),k.a.createElement(wr.components.SummaryRiverView,null)),k.a.createElement(Hc,null,k.a.createElement(Fc.a,{color:"secondary",size:"small","aria-label":"scroll back to top"},k.a.createElement(xc.a,null))),k.a.createElement(Fa.components.ContextMenuContainer,null),k.a.createElement(Fa.components.SelectionSnackbar,null))}var Qc,Gc=n(33),Bc=n(160),zc=n(161),Wc=n(69),Xc=n(162),Yc=n.n(Xc),Jc=function(e){return Object(x.a)(Object(x.a)({},e),{},{menuRef:null,fullCardRef:null,qaRefs:e.qaRefs.map((function(e){return null})),selectedParentSpan:null})},Zc=function(e){return Object(x.a)(Object(x.a)({},e),{},{menuRef:Object(P.createRef)(),fullCardRef:Object(P.createRef)(),qaRefs:e.qaRefs.map((function(e){return Object(P.createRef)()}))})},Kc=Object(Wc.a)((function(e){return Object(x.a)(Object(x.a)({},e),{},{future:e.future.map(Jc),past:e.past.map(Jc),present:Jc(e.present)})}),(function(e){return Object(x.a)(Object(x.a)({},e),{},{future:e.future.map(Zc),past:e.past.map(Zc),present:Zc(e.present)})}),{whitelist:[Fa.constants.NAME]}),$c=Object(Wc.a)((function(e){return function(e){return Object(x.a)(Object(x.a)({},e),{},{documentRef:null,materialData:null,pdf:null})}(e)}),(function(e){return function(e){return Object(x.a)(Object(x.a)({},e),{},{pdf:void 0,documentRef:Object(P.createRef)(),materialData:{materialDataTimeStamp:-1/0}})}(e)}),{whitelist:[Pt.constants.NAME]}),eo={key:"root",storage:Yc.a,transforms:[Kc,$c]},to=Object(Gc.combineReducers)((Qc={},Object(Se.a)(Qc,It.constants.NAME,It.reducer),Object(Se.a)(Qc,Fa.constants.NAME,Pe()(Fa.reducer,{filter:Object(_e.includeAction)([on.actionTypes.CARD_PUSH,Fa.actionTypes.SELECTED_STRING])})),Object(Se.a)(Qc,wr.constants.NAME,Pe()(wr.reducer,{filter:Object(_e.includeAction)([on.actionTypes.CARD_PUSH,on.actionTypes.CARD_REMOVE,Ue.actionTypes.LOAD_DOCUMENT_DATA_SETS])})),Object(Se.a)(Qc,Pt.constants.NAME,Pt.reducer),Object(Se.a)(Qc,on.constants.NAME,Pe()(on.reducer,{filter:Object(_e.includeAction)([Ue.actionTypes.LOAD_DOCUMENT_DATA_SETS,on.actionTypes.CARD_PUSH,on.actionTypes.CARD_UPDATE,on.actionTypes.CARD_REMOVE,on.actionTypes.CARD_GOAL])})),Object(Se.a)(Qc,Ue.constants.NAME,Pe()(Ue.reducer,{filter:Object(_e.includeAction)([Ue.actionTypes.LOAD_DOCUMENT_DATA_SETS])})),Qc)),no=Object(Wc.b)(eo,to),ro=Object(Bc.composeWithDevTools)({stateSanitizer:function(e){return e.displayData.pdf?Object(x.a)(Object(x.a)({},e),{},{displayData:Object(x.a)(Object(x.a)({},e.displayData),{},{pdf:"PDF_FILE_IS_HERE"})}):e}})(Object(Gc.applyMiddleware)(zc.a)),ao=Object(Gc.createStore)(no,ro),co=Object(Wc.c)(ao),oo=n(163);n(258),F.a.render(k.a.createElement(k.a.StrictMode,null,k.a.createElement(Ke.a,{store:ao},k.a.createElement(oo.a,{loading:null,persistor:co},k.a.createElement(qc,null)))),document.getElementById("root"))}},[[174,1,2]]]);
//# sourceMappingURL=main.bddd8039.chunk.js.map